!function(e){function t(t){for(var s,r,a=t[0],l=t[1],h=t[2],c=0,m=[];c<a.length;c++)r=a[c],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],s=!0,a=1;a<i.length;a++){var l=i[a];0!==n[l]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},n={0:0},o=[];function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/asset/js/";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var h=0;h<a.length;h++)t(a[h]);var u=l;o.push([43,1]),i()}({18:function(e,t){window.isSet=e=>null!=e,Element.prototype.prependChild=function(e){this.insertBefore(e,this.firstChild)}},19:function(e,t,i){setTimeout(console.log.bind(console,"%cCreated by https://baqemono.jp","color: #fff;background-color: rgb(76, 76, 76);border:6px solid rgb(76, 76, 76);"))},20:function(e,t){"serviceWorker"in navigator?window.addEventListener("load",()=>{navigator.serviceWorker.register("/_sw.js").then(e=>{}).catch(e=>{console.log("Registration failed with "+e)})}):console.log("no")},3:function(e,t,i){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)e[s]=i[s]}return e}var t={read:function(e){return e.replace(/%3B/g,";")},write:function(e){return e.replace(/;/g,"%3B")}};return function i(s,n){function o(i,o,r){if("undefined"!=typeof document){"number"==typeof(r=e({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),i=t.write(i).replace(/=/g,"%3D"),o=s.write(String(o),i);var a="";for(var l in r)r[l]&&(a+="; "+l,!0!==r[l]&&(a+="="+r[l].split(";")[0]));return document.cookie=i+"="+o+a}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],n={},o=0;o<i.length;o++){var r=i[o].split("="),a=r.slice(1).join("="),l=t.read(r[0]).replace(/%3D/g,"=");if(n[l]=s.read(a,l),e===l)break}return e?n[e]:n}},remove:function(t,i){o(t,"",e({},i,{expires:-1}))},withAttributes:function(t){return i(this.converter,e({},this.attributes,t))},withConverter:function(t){return i(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(s)}})}(t,{path:"/"})}()},43:function(e,t,i){"use strict";i.r(t);i(18);class s{constructor(){this.device={tablet:!1,mobile:!1,android:!1,iphone:!1},this.browser=null,this.init()}init(){const e=window.navigator.userAgent.toLowerCase();this.device.tablet=-1!==e.indexOf("windows")&&-1!==e.indexOf("touch")&&-1===e.indexOf("tablet pc")||-1!==e.indexOf("ipad")||-1!==e.indexOf("android")&&-1===e.indexOf("mobile")||-1!==e.indexOf("firefox")&&-1!==e.indexOf("tablet")||-1!==e.indexOf("kindle")||-1!==e.indexOf("silk")||-1!==e.indexOf("playbook"),this.device.mobile=-1!==e.indexOf("windows")&&-1!==e.indexOf("phone")||-1!==e.indexOf("iphone")||-1!==e.indexOf("ipod")||-1!==e.indexOf("android")&&-1!==e.indexOf("mobile")||-1!==e.indexOf("firefox")&&-1!==e.indexOf("mobile")||-1!==e.indexOf("blackberry"),this.device.android=-1!==e.indexOf("android")&&-1!==e.indexOf("mobile"),this.device.iphone=-1!==e.indexOf("iphone")||-1!==e.indexOf("ipod"),this.browser=s.getBrowser(),this._addDevice(),this._addBrowser()}_addDevice(){let e=document.querySelector("html");this.device.tablet?e.setAttribute("class","device-tablet"):this.device.mobile?e.setAttribute("class","device-mobile"):this.device.android?e.setAttribute("class","device-android"):this.device.iphone?e.setAttribute("class","device-iphone"):e.setAttribute("class","device-others")}_addBrowser(){document.querySelector("html").classList.add("browser-"+this.browser)}static getBrowser(){let e=window.navigator.userAgent.toLowerCase(),t="unknown",i=null,s=null,n=window.navigator.userAgent.toLowerCase();return n.match(/(msie|MSIE)/)||n.match(/(T|t)rident/)||-1!==n.indexOf("edge")?(i=!0,n.match(/(msie|MSIE)/)||n.match(/(T|t)rident/)?(s=n.match(/((msie|MSIE)\s|rv:)([\d\.]+)/)[3],s=parseInt(s)):s="edge"):i=!1,i?t="ie"+s:-1!==e.indexOf("chrome")?t="chrome":-1!==e.indexOf("safari")?t="safari":-1!==e.indexOf("opera")?t="opera":-1!==e.indexOf("firefox")&&(t="firefox"),t}}i(19);window.UA=new s,window.MOBILE=UA.device.mobile,window.TABLET=UA.device.tablet,window.OTHER=!MOBILE&&!TABLET,window.IE=UA.browser.match(/ie/),window.SAFARI=UA.browser.match(/safari/),window.addEventListener("keydown",e=>{9===e.keyCode&&e.preventDefault()}),window.pageInited=!1,window.debug="#debug"===window.location.hash;i(20);var n=i(4),o=i.n(n),r=i(5),a=i.n(r),l=i(0);class h{constructor(){this._list=[],this._promiseList=[]}static wait(e){return new Promise(t=>{l.a.delayedCall(.001*e,t)})}add(e=(e=>{})){this._list.push(()=>{let t=new Promise(t=>{e(t)});return this._promiseList.push(t),t})}done(e=(()=>{})){this._list.reduce((e,t)=>e.then(t),Promise.resolve()).then(()=>{Promise.all(this._promiseList).then(e)})}}class u{constructor(e){this._VC=e,this._controllers=[]}add(e=null,t){"string"==typeof e&&"null"===e&&(e=null),this._controllers.unshift(this.getController(e,t))}pop(){this._controllers.pop()}shift(){this._controllers.shift()}use(e){return"prev"===e?this._controllers[1]:"current"===e&&this._controllers[0]}getController(e=null,t=null){return null!==e&&null!==this._VC[e]&&void 0!==this._VC[e]?new this._VC[e](t):null!==t&&isSet(this._VC[t.getAttribute("data-use-controller")])?new(this._VC[t.getAttribute("data-use-controller")])(t):null!==t&&isSet(this._VC[t.getAttribute("id")])?new(this._VC[t.getAttribute("id")])(t):new this._VC.default(t)}}class c{constructor(){this.ignoreClassLink="no-prefetch",this.requestXhlOnComplete=()=>{},this.requests={},this.casheData={}}init(){if(!window.history.pushState)return!1;document.body.addEventListener("mouseover",this.onLinkEnter.bind(this),{passive:!0}),document.body.addEventListener("touchstart",this.onLinkEnter.bind(this),{passive:!0})}onLinkEnter(e){for(var t=e.target;t&&!c.getHref(t);)t=t.parentNode;if(!t||t.classList.contains(this.ignoreClassLink)||t.getAttribute("target")&&"_blank"===t.getAttribute("target"))return;const i=c.getHref(t);if(-1===i.indexOf("mailto:")&&-1===i.indexOf("tel:")&&!this.getCache(i)){let e=this.requestXhl(i);this.setCache(i,e)}}requestXhl(e){return new Promise(t=>{a.a.get(e).then(e=>{t(e)}).catch(e=>{})})}static getHref(e){if(e)return e.getAttribute&&"string"==typeof e.getAttribute("xlink:href")?e.getAttribute("xlink:href"):"string"==typeof e.href?e.href:void 0}static getPort(e){var t=void 0!==e?e:window.location.port,i=window.location.protocol;return""!==t?parseInt(t):"http:"===i?80:"https:"===i?443:void 0}static cleanLink(e){return e.replace(/#.*/,"")}preventCheck(e,t){if(!window.history.pushState)return!1;var i=this.getHref(t);return!(!t||!i)&&(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)&&((!t.target||"_blank"!==t.target)&&(window.location.protocol===t.protocol&&window.location.hostname===t.hostname&&(c.getPort()===c.getPort(t.port)&&(!(i.indexOf("#")>-1)&&((!t.getAttribute||"string"!=typeof t.getAttribute("download"))&&(c.cleanLink(i)!==c.cleanLink(location.href)&&!t.classList.contains(this.ignoreClassLink))))))))}getCache(e){return this.casheData[e]}setCache(e,t){this.casheData[e]=t}getRequestsFlag(e){return this.requests[e]}setRequests(e,t){this.requests[e]=!0}}class m{constructor(e,t,i){this.controllerManager=new u(t),this.prefetch=new c,this._processQueue=[],this.isRunning=!1,this.useAjax=i,this.debug=!1,this._requests=[],this._prev=null,this._fx=e,this.pageInitialized=!1,this.hashChange=!1,this.sendAnalytics=e=>{}}static triggerPageTransition(e){o()(e)}boot(){this.prefetch.init(),this.useAjax?(history.scrollRestoration="manual",o.a.exit("*",(e,t)=>{this._pageExit(e,t)}),o()("*",e=>{this._pageEnter(e)}),o()()):this._safeBoot()}_safeBoot(){let e=new h;this.isRunning=!0,e.add(this._fx["none --\x3e none"](null,null,null,null,this.controllerManager,()=>{this.pageInitialized=!0,this.controllerManager.use("current").viewDidAppear(),this.isRunning=!1,this._processQueue.length&&this._runPageTransition()})),e.done(()=>{})}_apply(e,t,i,s){let n=e+" --\x3e *",o=e+" --\x3e "+t,r="* --\x3e "+t,a="* --\x3e *",l=new h,u=this;return new Promise(h=>{[o,n,r,a].some((function(n){if(n in u._fx)return u.debug&&(console.log("%c"+n,"color: #03A9F4;"),console.group("%cViewController","color: #00C853;")),l.add(o=>{u._fx[n](e,t,i,s,u.controllerManager,o)()}),!0})),l.done(e=>{h(e),u.debug})})}_pageEnter(e){!0!==e.cancel&&(this.debug&&(console.group("%c         app         ","color: #B3E5FC;background-color: #03A9F4;"),console.log("%cpage enter","color: #03A9F4;")),e.init?this._apply("none","none",null,null).then(()=>{this.pageInitialized=!0,this.controllerManager.use("current").viewDidAppear(),this._processQueue.length&&this._runPageTransition()}):(this._addRequestQueue({from:this._prev,to:e}),this._processQueue.length<2?this._processQueue.push(this._pageChange.bind(this,this,e)):this._processQueue[this._processQueue.length-1]=this._pageChange.bind(this,this,e),this.pageInitialized&&this._runPageTransition()))}_runPageTransition(){this.isRunning||(this.isRunning=!0,this._processQueue[0]().then(()=>{this._processQueue.shift(),this.isRunning=!1,this._processQueue.length&&this._runPageTransition()}))}_pageExit(e,t){if(!this.hashChange&&(""===e.hash||0!==e.hash.length)){if(this._prev=e,!this.pageInitialized)return t();if(!0===e.cancelExit)return t();this.controllerManager.use("current").viewWillDisappear(),this.debug&&(console.groupEnd("ViewController"),console.log("%cpage exit","color: #03A9F4;"),console.groupEnd("app")),t()}}_pageChange(e,t){let i=e._getRequestQueue();return new Promise(t=>{if(!1===i)return t();let s=i.to.path;s.match(location.origin)||(s=location.origin+s);let n=this.prefetch.getCache(s),o="";if(n)n.then(s=>{o=s.data,Array.isArray(o)&&(o=s[0]),e._showPage(o,i).then(t),e._current=i.to,e.sendAnalytics(i.to.path)});else{let n=()=>new Promise(s=>{a.a.get(i.to.path).then(n=>{o=n.data,Array.isArray(o)&&(o=n[0]),e._showPage(o,i).then(t),e._current=i.to,e.sendAnalytics(i.to.path),s(n)}).catch(e=>{location.reload(),l.a.to(document.body,.7,{opacity:0,onComplete:()=>{}})})});this.prefetch.setCache(s,n())}})}_showPage(e,t){let i=m._purseHTML(e),s=e.match(/<title>(.*)<\/title>/),n=document.querySelector(".jsTrans").getAttribute("id"),o=i.querySelector(".jsTrans").getAttribute("id");return new Promise(e=>{s=i.querySelector("title").textContent?i.querySelector("title").textContent:document.querySelector("title").textContent,this._apply(n,o,i,t).then(()=>{document.querySelector("title").textContent=s,this.controllerManager.use("current").viewDidAppear(),e()})})}_getRequestQueue(){let e=this._requests;if(0===e.length)return!1;let t=e[e.length-1];return this._requests=[],t}_addRequestQueue(e){this._requests[this._requests.length]=e}static _purseHTML(e){let t=document.createElement("div");return t.innerHTML=e,t}static _setNavActive(e){}}class d extends u{constructor(e,t,i){super(e),this.router=t,this.useAjax=i}getController(e=null,t=null){for(var i={id:null,path:location.pathname,notice_flag:!1,secret_mode:!1,useAjax:this.useAjax,sort:0,parentId:null},s=location.pathname.split("/"),n=s.length-1;n>=0;n--)if(s[n]in this.router){i.id=this.router[s[n]].id,i.textureId=this.router[s[n]].texture_id,i.parentId=this.router[s[n]].parent_id,i.sort=this.router[s[n]].sort,i.locationName=this.router[s[n]].name,i.notice_flag=0!==Number(this.router[s[n]].notice_flag),i.secret_mode=0!==Number(this.router[s[n]].secret_mode);break}var o=null;return o=null!==e&&null!==this._VC[e]&&void 0!==this._VC[e]?new this._VC[e](t,i):null!==t&&isSet(this._VC[t.getAttribute("data-use-controller")])?new(this._VC[t.getAttribute("data-use-controller")])(t,i):null!==t&&isSet(this._VC[t.getAttribute("id")])?new(this._VC[t.getAttribute("id")])(t,i):new this._VC.default(t,i),Object.defineProperty(o,"info",{value:i}),o}}var p=i(16),v=i.n(p),g=i(1);class f{constructor(e={isMobile:!1,isTablet:!1,targetName:null,srcName:null}){this.isMobile=e.isMobile,this.isTablet=e.isTablet,this.type=null,this.targetName=e.targetName||"[data-img-src]",this.srcName=e.srcName||"imgSrc",this.thumbDefault2x="/asset/img/common/thumb_default@2x.png",this.thumbDefault="/asset/img/common/thumb_default.png",this.$targetAll=null,this.$content=null,this.options=[],this.srcLength=0}init(e=document.body){this.setSelector(e),this.selectImgType(),this.setOptions()}setSelector(e){this.$content=e,this.$targetAll=this.$content.querySelectorAll(this.targetName)}selectImgType(){this.isMobile?this.type="mobile":this.isTablet?this.type="tablet":window.devicePixelRatio<=1?this.type="others":this.type="others-2x"}setOptions(){[].forEach.call(this.$targetAll,(e,t)=>{this.options[t]={},this.options[t].$target=e;const i=this.options[t].$target.dataset;switch(this.type){case"mobile":this.options[t].src=i.imgSrcMobile||i[this.srcName]||this.thumbDefault,this.options[t].imageType="static";break;case"tablet":this.options[t].src=i.imgSrcTablet||i[this.srcName]||this.thumbDefault,this.options[t].imageType="static";break;case"others-2x":this.options[t].src=i.imgSrc2x||i[this.srcName]||this.thumbDefault2x,i.glImg||""===i.glImg?this.options[t].imageType="gl":this.options[t].imageType="static";break;default:this.options[t].src=i[this.srcName]||this.thumbDefault,i.glImg||""===i.glImg?this.options[t].imageType="gl":this.options[t].imageType="static"}})}async load(e,t){await new Promise(i=>{if("gl"===e.imageType)(new g.l).load(e.src,s=>{s.name=String(e.src),Object.defineProperty(s,"externalResourcesType",{value:"texture"}),e.texture=s,i(s),t(e)},e=>{},s=>{i(),t(e)});else{const s=new Image;s.src=e.src,s.onload=()=>{i(),t(e)}}})}}var y=i(6),w=i.n(y);l.a.registerPlugin(w.a);class T{static getCubicCurve(e,t,i,s){return w.a.create("custom",`M0,0 C${Number(e)},${Number(t)} ${Number(i)},${Number(s)} 1,1`)}static triggerEvent(e,t){if("resize"===t&&(P.rsz.canOnResize=!0),document.createEvent){let i=document.createEvent("HTMLEvents");return i.initEvent(t,!0,!0),e.dispatchEvent(i)}{let i=document.createEventObject();return e.fireEvent("on"+t,i)}}static getParents(e){let t=[];for(;e&&e!==document;e=e.parentNode)t.push(e);return t}static getTargetOffsetTop(e){let t=e.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop;return t.top+i}static getTargetOffsetLeft(e){if(!e)return;let t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft;return t.left+i}static getTranslate(e){const t={};if(!window.getComputedStyle)return;const i=getComputedStyle(e),s=i.transform||i.mozTransform;let n;return s&&(n=s.match(/^matrix3d\((.+)\)$/)),n?(t.x=parseFloat(n[1].split(", ")[12]),t.y=parseFloat(n[1].split(", ")[13]),t.z=parseFloat(n[1].split(", ")[14]),t):(s&&(n=s.match(/^matrix\((.+)\)$/)),t.x=n?parseFloat(n[1].split(", ")[4]):0,t.y=n?parseFloat(n[1].split(", ")[5]):0,t.z=0,t)}static clearTween(e){e&&(e.pause(),e.kill(),e=null)}}class x{constructor(){this.tasks=[],this.taskLength=0,this.taskResolveCount=0,this.onUpdateProgressAnimation=null,this.onComplete=null,this.progress=0}init(e={onUpdateProgressAnimation:(e,t)=>{1===e&&t()},onComplete:e=>{}}){this.onUpdateProgressAnimation=e.onUpdateProgressAnimation,this.onComplete=e.onComplete}add(e,t){this.tasks.push({taskId:t,task:e})}set(){this.taskLength=this.tasks.length,this.taskResolveCount=0}run(){this.tasks.forEach(e=>{e.task().then(()=>{this.taskResolveCount++,this.update(this.taskResolveCount,this.taskLength)})})}update(e,t){this.progress=e/t,this.onUpdateProgressAnimation(this.progress,this.onComplete)}}var S={"none --\x3e none":(new class{run(e,t,i,s,n,o){return function(){const e=new h,t=document.documentElement,i=document.body,s=document.getElementById("app"),r=s.querySelector(".jsTrans"),a=r.getAttribute("id"),u=window.innerWidth,c=window.innerHeight;let m=null;const d=async()=>{await new Promise(e=>{v.a.load({custom:{families:["quiche-sans"]},active:e,inactive:e,timeout:5e3})})},p=new f({isMobile:MOBILE,isTablet:TABLET}),g=s.querySelectorAll(".jsFirst_top"),y=s.querySelectorAll(".jsFirst_left"),w=s.querySelectorAll(".jsFirst_right"),x=s.querySelectorAll(".jsFirst_bottom");let S,M,b,A;e.add((function(e){t.classList.add("is-wait_start"),i.classList.add("page-"+a),i.classList.add("home"===a?"home":"sub"),"collection"===a&&(window.isStartup=!1),n.add(a,r),l.a.set(".cLoad_logo svg, .cLoad_progress",{y:Math.max(.025*u,20),force3D:!0}),S=l.a.to(".cLoad_logo svg",.5,{y:"0%",force3D:!0,ease:"quart.out"}),M=l.a.to(".cLoad_logo svg",.1,{opacity:1,ease:"none"}),b=l.a.to(".cLoad_progress",.5,{y:"0%",force3D:!0,ease:"quart.out",delay:.05}),A=l.a.to(".cLoad_progress",.1,{opacity:1,ease:"none",delay:.05}),h.wait(10).then(e)})),e.add((function(e){P.bGl.init(),h.wait(10).then(e)})),e.add((function(e){[].forEach.call(g,e=>{const t=e.getBoundingClientRect(),i=t.height,s=t.top;l.a.set(e,{y:-(i+s)})}),[].forEach.call(x,e=>{const t=e.getBoundingClientRect(),i=t.height,s=c-t.bottom;l.a.set(e,{y:i+s})}),[].forEach.call(y,e=>{const t=e.getBoundingClientRect(),i=t.width,s=t.left;l.a.set(e,{x:-(i+s)})}),[].forEach.call(w,e=>{const t=e.getBoundingClientRect(),i=t.width,s=u-t.right;l.a.set(e,{y:-(i+s)})}),h.wait(0).then(e)})),e.add((function(e){p.init();let t={value:0},i=0;const o=s.querySelector(".jsProgress-load");P.plp.init({onUpdateProgressAnimation:(e,s)=>{T.clearTween(m),m=l.a.to(t,.25,{value:e,ease:"cubic.inOut",onUpdate:()=>{i=Math.min(99,Math.floor(100*t.value)),o.textContent=i},onComplete:()=>{t.value>=1&&(n.use("current").viewWillAppearStartup(),n.use("current").viewWillAppear(!0),n.use("current").setTransitionAnimation(),i=100,l.a.delayedCall(.001,()=>{o.textContent=i,s()}))}})},onComplete:()=>{window.isStartup=!1,e()}}),p.options.forEach(e=>{P.plp.add(p.load.bind(this,e,t=>{const i=t.$target,s=t.src;OTHER&&"gl"===e.imageType?(e.$target.dataset.glImg=e.src,P.bGl.textureOptions.push(e)):i.style.backgroundImage=`url(${s})`}),"imageLoader")}),P.plp.add(d,"fontLoad"),P.plp.set(),P.plp.run(),P.fGl.init(),n.use("current").viewDidLoadStartup(),n.use("current").viewDidLoad()})),e.add((function(e){n.use("current").runTransitionAnimation(),h.wait(1).then(e),l.a.to(s.querySelector(".cLoad"),.75,{opacity:0,ease:"none",delay:.25,onComplete:()=>{s.querySelector(".cLoad").parentNode.removeChild(s.querySelector(".cLoad"))}}),[S,M,b,A].forEach(e=>{T.clearTween(e)}),l.a.to(".cLoad_logo svg",.75,{y:-Math.max(.015*u,15),force3D:!0,ease:"cubic.inOut"}),l.a.to(".cLoad_logo svg",.6,{opacity:0,ease:"none"}),l.a.to(".cLoad_progress",.75,{y:-Math.max(.015*u,15),ease:"cubic.inOut"}),l.a.to(".cLoad_progress",.6,{opacity:0,ease:"none"});g&&g.length&&l.a.to(g,1.2,{y:0,ease:"quart.out",delay:1.15}),x&&x.length&&l.a.to(x,1.2,{y:0,ease:"quart.out",delay:1.15}),y&&y.length&&l.a.to(y,1.4,{x:0,ease:"quart.out",delay:.95}),w&&w.length&&l.a.to(w,1.4,{y:0,ease:"quart.out",delay:.95})})),e.done(()=>{setTimeout(()=>{n.use("current").viewDidAppearStartup(),P.sf.clearFix(),P.sch.reStart(),t.classList.remove("is-wait_start")},1100),o(null)})}}}).run,"* --\x3e *":(new class{run(e,t,i,s,n,o){return function(){const s=new h,r=document.body,a=document.getElementById("appContents");let u=r.querySelector("#"+e),c=i.querySelector("#"+t),m=u.querySelector(".mContent_cnt_cover"),d=c.querySelector(".mContent_cnt_cover");const p=u.getAttribute("id"),v=c.getAttribute("id"),g="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub";let y=null,w=null,S=null,M=null,b=[],A=[];const C=new x,_=new f({isMobile:MOBILE,isTablet:TABLET});s.add(e=>{if(0===P.ptType&&l.a.set(c,{opacity:0}),P.sf.fix(),P.sch.stop(),P.fGl.stage.scene.add(P.fGl.pageCoverMesh.mesh),0===P.ptType){P.fGl.reStart(),l.a.set([P.fGl.pageCoverMesh.uniforms.uProgressBeforeIn,P.fGl.pageCoverMesh.uniforms.uProgressAfterIn,P.fGl.pageCoverMesh.uniforms.uProgressBeforeOut,P.fGl.pageCoverMesh.uniforms.uProgressAfterOut],{value:0}),P.fGl.pageCoverMesh.mesh.position.x=0,P.fGl.pageCoverMesh.mesh.position.y=0;const t=.25*window.innerHeight,i=1.05,s=.05,n=.15,o=T.getCubicCurve(.65,0,.25,1);let r=0;P.scl.secs.forEach((e,n)=>{if(e.isInView){const n=T.getTranslate(e.$sec);var a=Number(r);b[a]=l.a.fromTo(e.$sec,{y:n.y,force3D:!0},{y:n.y-t,force3D:!0,ease:o,duration:i,delay:s,onComplete:()=>{T.clearTween(b[a]),b[a]=null}}),r++}});[P.bGl.heMesh,P.bGl.abgMesh,P.bGl.hmvbgMesh,P.bGl.hmvtlMesh,P.bGl.hftlMesh,P.bGl.hfprgrsMesh,P.bGl.hfImgMesh,P.bGl.fbgMesh,P.bGl.ftMesh,P.bGl.tlMesh,P.bGl.hmvprgrsMesh,P.bGl.hmClMesh].forEach((e,n)=>{e.forEach((e,r)=>{if(e.el.isInView){var a=Number(n+r);const h=e.mesh.position.y;A[a]=l.a.to(e.mesh.position,i,{y:h+t,ease:o,delay:s,onComplete:()=>{T.clearTween(A[a]),A[a]=null}})}})}),y=l.a.to(P.fGl.pageCoverMesh.uniforms.uProgressBeforeIn,i,{value:1,ease:o,onComplete:()=>{y=null}}),w=l.a.to(P.fGl.pageCoverMesh.uniforms.uProgressAfterIn,i,{value:1,ease:o,delay:n,onComplete:()=>{T.clearTween(w),h.wait(100).then(e)}})}else P.fGl.reStart(),l.a.to(m,.2,{opacity:1,ease:"none",delay:.25,onComplete:()=>{d.style.opacity=1,e()}})}),s.add(e=>{0===P.ptType&&(u.style.opacity=0,document.querySelector(".jsGlBack").style.backgroundColor="#1a1a1a"),r.classList.remove("page-"+p),r.classList.add("page-"+v),a.appendChild(c),u.parentNode.removeChild(u),r.classList.remove("home","sub"),r.classList.add(g),h.wait(10).then(e)}),s.add(e=>{u&&(n.add(t,c),n.use("prev").viewDidDisappear(),l.a.set(document.querySelectorAll(".jsScroll_sec"),{y:0}),n.pop(),P.scl.reset()),h.wait(10).then(e)}),s.add(e=>{P.bGl.textureOptions=[],_.init(),C.init({onUpdateProgressAnimation:(e,t)=>{e>=1&&t()},onComplete:()=>{n.use("current").viewDidLoad(),n.use("current").viewWillAppear(),n.use("current").setTransitionAnimation(),"about"===t?e():l.a.delayedCall(0,()=>{e()})}}),_.options.forEach(e=>{C.add(_.load.bind(this,e,t=>{const i=t.$target,s=t.src;MOBILE||TABLET?i.style.backgroundImage=`url(${s})`:"gl"===e.imageType?(e.$target.dataset.glImg=e.src,P.bGl.textureOptions.push(e)):i.style.backgroundImage=`url(${s})`}),"imageLoader")}),C.set(),C.run()}),s.add(e=>{if(document.querySelector(".jsGlBack").style.backgroundColor="",l.a.set(c,{opacity:1}),0===P.ptType){const t=.7,i=1.1,s=.15,o=T.getCubicCurve(.65,0,.25,1);P.bGl.stop(),l.a.delayedCall(t,()=>{n.use("current").runTransitionAnimation()}),M=l.a.to(P.fGl.pageCoverMesh.uniforms.uProgressAfterOut,i,{value:1,ease:o,onComplete:()=>{}}),S=l.a.to(P.fGl.pageCoverMesh.uniforms.uProgressBeforeOut,i,{value:1,ease:o,delay:s,onComplete:()=>{P.fGl.pageCoverMesh.mesh.position.x=10*window.innerWidth,P.fGl.pageCoverMesh.mesh.position.y=10*window.innerHeight,P.fGl.stop(),T.clearTween(M),M=null,T.clearTween(S),S=null,h.wait(10).then(e)}})}else n.use("current").runTransitionAnimation(),l.a.to(d,.2,{opacity:0,ease:"none",onComplete:()=>{h.wait(10).then(e)}})}),s.add(e=>{P.scl.reStart(),h.wait(10).then(e)}),s.done(()=>{P.ptType=0,P.fGl.stage.scene.remove(P.fGl.pageCoverMesh.mesh),setTimeout(()=>{P.sf.clearFix(),P.sch.reStart(),document.documentElement.classList.remove("is-wait_page-transition")},1200),o(null)})}}}).run};class M{static add(e,t,i){e.push({task:t,taskId:i})}static remove(e,t){e.find((i,s)=>{i&&i.taskId&&i.taskId===t&&(e=e.splice(s,1))})}}class b{static clamp(e,t,i){return Math.min(Math.max(e,t),i)}static lerp(e,t,i){return(1-i)*e+i*t}static radToDeg(e){return e/Math.PI*180}static degToRad(e){return e*Math.PI/180}static getCirclePointX(e,t=1){return Math.cos(e)*t}static getCirclePointY(e,t=1){return Math.sin(e)*t}}class A{constructor(e,t=!1){this.config={root:null,rootMargin:"0px",threshold:0},this.config=Object.assign(this.config,e),this.useClass=t,this.options=[];const i=[],s=this.config.threshold;for(let e=1;e<=s;e++){let t=e/s;i.push(t)}i.push(0),this.config.threshold=i,this.intersectionObsever=new IntersectionObserver((...e)=>{this.onUpdate(...e)},this.config)}onUpdate(e,t){e.forEach((e,t)=>{e.isIntersecting&&this.useClass?(e.target.classList.add("is-in"),e.target.classList.add("is-in-view")):e.target.classList.remove("is-in-view")})}add(e){this.intersectionObsever.observe(e)}remove(e,t){this.intersectionObsever.unobserve(e),this.options.find((e,i)=>{e&&e.id===t&&(this.options=this.options.splice(i,1))})}clear(){this.intersectionObsever.disconnect(),this.options=[]}}class C{constructor(e,{scrollbarClassName:t,scrollbarThumbClassName:i}){this.scrollbarClassName=t||"cScl_bar",this.scrollbarThumbClassName=i||"cScl_bar_thumb",this.draggingClassName="is-dragging_scl_bar",this.hasScrollbarClassName="hasScl_bar",this.coverName=".jsAppCover",this.hiddenClassName="is-hidden",this.ssm=e,this.$scrollbar=null,this.$scrollbarThumb=null,this.$cover=null,this.limit=0,this.eventHandler={grab:null,release:null},this.canUpdate=!1,this.canMouseDown=!1,this.canMouseUp=!1,this.isDraginggThumb=!1,this.canDrag=!0,this.mousePos=null}init(){this.setSelector(),this.appendBar(),this.canDrag&&(this.$scrollbarThumb.style.height=this.ssm.containerHeight*this.ssm.containerHeight/(this.ssm.limit.max+this.ssm.containerHeight)+"px"),this.setThumbHeight(),this.eventHandler.grab=this.onMouseDown.bind(this),this.eventHandler.release=this.onMouseUp.bind(this),this.canDrag&&(this.$scrollbarThumb.addEventListener("mousedown",this.eventHandler.grab),window.addEventListener("mouseup",this.eventHandler.release)),this.canUpdate=!0,this.canMouseDown=!0,this.canMouseUp=!0,this.ssm.$body.classList.add(this.hasScrollbarClassName),setTimeout(()=>{this.$scrollbar.classList.remove(""+this.hiddenClassName)},100)}setSelector(){this.$scrollbar=document.createElement("div"),this.$scrollbarThumb=document.createElement("div"),this.$scrollbar.classList.add(""+this.scrollbarClassName,""+this.hiddenClassName),this.$scrollbarThumb.classList.add(""+this.scrollbarThumbClassName),this.$cover=document.querySelector(this.coverName)}appendBar(){this.$scrollbar.appendChild(this.$scrollbarThumb),this.ssm.$smoothContainer.appendChild(this.$scrollbar)}setThumbHeight(){if(this.limit=this.ssm.containerHeight-this.$scrollbarThumb.getBoundingClientRect().height,this.canDrag){let e=""+this.ssm.containerHeight*this.ssm.containerHeight/this.ssm.limit.max;"Infinity"===e&&(e=0),this.ssm.limit.max>1&&(e=Math.min(e,.5*this.ssm.containerHeight)),e=Math.floor(e),this.$scrollbarThumb.style.height=e+"px"}this.limit=this.ssm.containerHeight-this.$scrollbarThumb.getBoundingClientRect().height}set(){l.a.set(this.$scrollbar,{opacity:0}),this.setThumbHeight(),l.a.to(this.$scrollbar,.3,{opacity:1,ease:"none"})}stop(e){this.canUpdate=!1,this.canMouseDown=!1,this.canMouseUp=!1,this.ssm.$body.classList.remove(this.hasScrollbarClassName),e&&this.$scrollbar.classList.add(this.hiddenClassName)}reStart(){this.canUpdate=!0,this.canMouseDown=!0,this.canMouseUp=!0,this.ssm.$body.classList.add(this.hasScrollbarClassName),this.$scrollbar.classList.remove(this.hiddenClassName)}onMouseDown(e){this.canMouseDown&&(this.isDraginggThumb=!0,this.ssm.canScroll=!1,this.ssm.checkScroll(),this.ssm.$body.classList.add(this.draggingClassName),this.$cover&&(this.$cover.style.pointerEvents="all"))}onMouseUp(e){this.canMouseUp&&(this.isDraginggThumb=!1,this.ssm.canScroll=!0,this.ssm.$body.classList.remove(this.draggingClassName),this.$cover&&(this.$cover.style.pointerEvents="none"))}onMouseMove(e){this.isDraginggThumb&&(this.ssm.canUpdate=!0),this.mousePos=e}onUpdate(){if(this.isDraginggThumb){const e=this.mousePos.normal.y*this.ssm.limit.max;e>0&&e<this.ssm.limit.max&&(this.ssm.scrollDelta.y=e)}const e=Math.floor(this.ssm.scroll.y/this.ssm.limit.max*this.limit*100)/100;this.ssm.addStyle(this.$scrollbarThumb,0,-e)}onResize(){this.set(),this.onUpdate()}destroy(){this.$scrollbarThumb.removeEventListener("mousedown",this.eventHandler.grab),window.removeEventListener("mouseup",this.eventHandler.release),this.$scrollbar.parentNode.removeChild(this.$scrollbar)}}class _{constructor(e){this.parent=e,this.$sec=null,this.num=0,this.size={x:0,y:0},this.inViewPos=0,this.inViewPos2=0,this.inViewPosLimit=0,this.inViewPosLimit2=0,this.isInView=!1,this.data=null,this.secRect=0,this.windowSizeRatio=1}setSelector(e){this.$sec=e}setProps(e){this.data=this.$sec.dataset,this.num=e,this.secRect=this.$sec.getBoundingClientRect(),this.size.x=this.secRect.width,this.size.y=this.secRect.height,this.inViewPos=this.secRect.top-this.parent.screenSize.y*this.windowSizeRatio-T.getTranslate(this.$sec).y,this.inViewPos2=this.secRect.top-T.getTranslate(this.$sec).y,this.inViewPosLimit=this.inViewPos+this.secRect.height+this.parent.screenSize.y,this.inViewPosLimit2=this.inViewPos2+this.secRect.height,this.parent.scroll.y>=this.inViewPos&&this.parent.scroll.y<=this.parent.limit&&(this.isInView=!0)}inView(){this.isInView||(this.$sec.style.opacity="",this.$sec.style.pointerEvents="",this.isInView=!0)}outView(){this.isInView&&(this.$sec.style.opacity=0,this.$sec.style.pointerEvents="none",this.$sec.style.transform=null,this.isInView=!1)}onUpdate(){this.isInView&&this.parent.addStyle(this.$sec,0,this.parent.scroll.y)}destroy(){this.$sec=null,this.num=0,this.size.x=0,this.size.y=0,this.inViewPos=0,this.inViewPosLimit=0}}class I{constructor(e){this.parent=e,this.sec=null,this.$el=null,this.isInView=!1,this.num=0,this.width=0,this.height=0,this.top=0,this.left=0,this.bottom=0,this.type=null,this.delay=0,this.position={x:0,y:0},this.speed=null,this.isParallax=!1,this.canUpdate=!0}setSelector(e,t){this.$el=t,this.sec=e}setProps(e){this.width=this.$el.offsetWidth,this.height=this.$el.offsetHeight;const t=this.$el.getBoundingClientRect();this.sec.isInView?this.top=t.top+this.parent.scroll.y-T.getTranslate(this.$el).y:this.top=t.top-T.getTranslate(this.sec.$sec).y-T.getTranslate(this.$el).y,this.left=t.left,this.bottom=this.top+this.height;const i=this.$el.dataset;this.type=i.scrollType,this.delay=i.scrollDelay||0,this.speed=!!i.scrollSpeed&&.1*parseFloat(i.scrollSpeed),this.speed&&(this.isParallax=!0),this.num=e,this.isInView=!1}inView(){this.isInView||(this.isInView=!0)}outView(){this.isInView&&(this.isInView=!1)}onUpdate(e){if(!(this.sec&&this.sec.isInView&&this.isParallax&&this.isInView&&this.canUpdate))return;const t=this.parent.scroll.y+this.parent.screenSize.yHalf;let i=!1,s=this.$el.getBoundingClientRect().top+this.parent.scroll.y-T.getTranslate(this.$el).y,n=s+this.$el.offsetHeight;e||(i=(t-(s+.5*(n-s)))*-this.speed,i=Math.floor(100*i)/100),"gl"===this.type||"gl-home-collection"===this.type?!1!==i&&(this.position.y=i):!1!==i?this.parent.addStyle(this.$el,0,-i,0,!e&&this.delay):this.$el.style.transform=null}}class O{constructor({smoothContainerName:e=".jsScroll_ctr",smoothContentName:t=".jsScroll_cnt",smoothSecName:i=".jsScroll_sec",smoothElsName:s=".jsScroll_el",anchorTriggerName:n=".jsScroll_anchor",scrollbarClassName:o,scrollbarThumbClassName:r}){this.smoothSpeed=.1,this.smoothSpeedRatio=1,this.smoothContainerName=e,this.smoothContentName=t,this.smoothSecName=i,this.smoothElsName=s,this.anchorTriggerName=n,this.scrollbarClassName=o||null,this.scrollbarThumbClassName=r||null,this.hasBar=!0,this.bar=null,this.$body=document.body,this.$smoothContainer=null,this.$smoothContent=null,this.$secAll=null,this.screenSize={x:0,y:0,xHalf:0,yHalf:0},this.containerHeight=0,this.limit={min:0,max:0},this.scrollDelta={x:0,y:0},this.scrollDeltaEase={x:0,y:0},this.scroll={x:0,y:0},this.scrollDirection=1,this.observerSecs=new A({},!0),this.observerEls=new A({},!0),this.secs=[],this.els=[],this.canUpdate=!1,this.canScroll=!1,this.canResize=!0,this.isResize=!1,this.isAnchor=!1,this.isInited=!1,this.isStop=!0,this.tweenScrollTo=null,this._setKeyEvent()}_setKeyEvent(){const e=9;this._keydown=function(t){if(!this.isStop)switch(t.keyCode){case e:t.preventDefault()}},this.keydown=this._keydown.bind(this),window.addEventListener("keydown",this.keydown,!1)}init(){this.setSelector(),this.setFixedStyleContainer(),this.setSize(),this.setLimit(),this.checkLimit(),this.checkScroll(),this.setAnchor(),this.setSecs(),this.setEls(),this.hasBar&&!this.isInited&&(this.bar=new C(this,{scrollbarClassName:this.scrollbarClassName,scrollbarThumbClassName:this.scrollbarThumbClassName}),this.bar.init()),this.canScroll=!0,this.onUpdateSecs(),this.onUpdateEls(!0),this.isInited=!0,this.isStop=!1}setSelector(){this.$smoothContainer=document.querySelector(this.smoothContainerName);const e=document.querySelectorAll(this.smoothContentName);this.$smoothContent=e[e.length-1]}setFixedStyleContainer(){this.$smoothContainer.style.position="fixed",this.$smoothContainer.style.width="100%"}setSecs(e=!1){if(e){if(!this.$secAll)return;[].forEach.call(this.$secAll,(e,t)=>{this.observerSecs.add(e),this.secs[t].setProps(t)})}else{if(this.$secAll=this.$smoothContent.querySelectorAll(this.smoothSecName),this.secs=null,this.secs=[],!this.$secAll)return;[].forEach.call(this.$secAll,(e,t)=>{this.observerSecs.add(e),this.secs[t]=new _(this),this.secs[t].setSelector(e),this.secs[t].setProps(t)})}}setEls(e=!1){let t=0;e?this.secs.forEach(e=>{const i=e.$sec.querySelectorAll(this.smoothElsName);[].forEach.call(i,e=>{this.els[t].setProps(t),this.observerEls.add(e),t++})}):(this.els=null,this.els=[],this.secs.forEach(e=>{const i=e.$sec.querySelectorAll(this.smoothElsName);[].forEach.call(i,i=>{this.els[t]=new I(this,e),this.els[t].setSelector(e,i),this.els[t].setProps(t),this.observerEls.add(i),t++})}))}setSize(){this.containerHeight=this.$smoothContainer.getBoundingClientRect().height,this.screenSize.x=window.innerWidth,this.screenSize.y=window.innerHeight,this.screenSize.yHalf=.5*window.innerHeight}setLimit(){this.limit.min=0,this.limit.max=Math.floor(Math.max(this.$smoothContent.clientHeight-this.containerHeight,0))}checkScroll(){if(!this.isAnchor)if(Math.abs(this.scroll.y-this.scrollDelta.y)<.1)this.scroll.y=Math.round(this.scrollDelta.y),this.canUpdate=!1,this.isAnchor=!1,this.smoothSpeedRatio=1,this.scrollDeltaEase.y=0;else{P.raf?this.scroll.y=b.lerp(this.scroll.y,this.scrollDelta.y,this.smoothSpeed*this.smoothSpeedRatio/P.raf.fpsMultiplier):this.scroll.y=b.lerp(this.scroll.y,this.scrollDelta.y,this.smoothSpeed*this.smoothSpeedRatio),this.scroll.y=.001*Math.floor(1e3*this.scroll.y);let e=this.scroll.y-this.scrollDelta.y;this.scrollDeltaEase.y=b.lerp(this.scrollDeltaEase.y,e,.105),this.scrollDeltaEase.y=.001*Math.floor(1e3*this.scrollDeltaEase.y),this.scrollDeltaEase.y=b.clamp(this.scrollDeltaEase.y,-150,150)}}checkLimit(){this.scrollDelta.y=b.clamp(this.scrollDelta.y,this.limit.min,this.limit.max),this.scrollDelta.y=.001*Math.floor(1e3*this.scrollDelta.y)}addStyle(e,t,i,s=0,n){let o;if(n){let t=T.getTranslate(e);o=`matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,0,${-b.lerp(-t.y,i,n)},0,1) rotate(0.01deg)`}else o=`matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,${t},${-i},0,1) rotate(0.01deg)`;e.style.transform=o}onUpdateSecs(){this.secs.forEach(e=>{this.scroll.y>e.inViewPos&&this.scroll.y<e.inViewPosLimit?e.inView():e.outView(),e.onUpdate()})}onUpdateEls(e,t=!1){const i=this.scroll.y,s=i+this.containerHeight;this.els.forEach((t,n)=>{t.isInView?(s<t.top||i>t.bottom)&&t.outView(t.$el):s>=t.top-this.screenSize.x&&i<t.bottom+this.screenSize.x&&t.inView(t.$el),t.onUpdate(e)})}setAnchor(e=this.$body){let t=e.querySelectorAll(this.anchorTriggerName);[].forEach.call(t,e=>{let t,i;e.addEventListener("click",s=>{s.preventDefault();let n=e.dataset;n&&(t=n.anchorTarget||null,i=n.anchorOffsetRatio||null,this.scrollTo(t,i))})})}async scrollTo(e,t,i=1.5){let s;this.isAnchor=!0;let n=t?parseInt(t):0;if("string"==typeof e?"top"===e?n=0:"bottom"===e?n=this.limit.max:s=document.querySelectorAll(e)[0]:e&&!e.target&&(s=e),s){let e=s.getBoundingClientRect().top+this.scroll.y,t=T.getParents(s).find(e=>this.secs.find(t=>t.$sec===e)),i=0;t&&(i=T.getTranslate(t).y),n=e+n-i,n=Math.max(0,n)}await new Promise(e=>{T.clearTween(this.tweenScrollTo),this.tweenScrollTo=l.a.to(this.scrollDelta,i,{y:b.clamp(n,0,this.limit.max),ease:"quint.inOut",onUpdate:()=>{this.scroll.y=this.scrollDelta.y,this.checkLimit(),this.checkScroll(),this.onUpdateSecs(),this.onUpdateEls(),this.hasBar&&this.bar.onUpdate()},onComplete:()=>{this.isAnchor=!1,e()}})})}onScroll(e){this.canScroll&&!this.isAnchor&&(e.deltaY>0?this.scrollDirection=1:e.deltaY<0&&(this.scrollDirection=-1),this.canUpdate=!0,this.scrollDelta.y-=e.deltaY)}onMouseMove(e,t){this.hasBar&&this.bar&&this.bar.onMouseMove(e)}onResize(e=!0){this.canResize&&(this.isResize=!0,this.setSelector(),this.observerSecs.clear(),this.observerEls.clear(),this.setSecs(!0),this.setEls(!0),this.setSize(),this.setLimit(),this.checkLimit(),this.checkScroll(),this.onUpdateSecs(),this.onUpdateEls(!1,!0),this.hasBar&&this.bar.onResize(),this.isResize=!1,e&&this.onScroll({deltaY:0}))}onUpdate(){(this.canUpdate||this.isAnchor)&&(this.checkLimit(),this.checkScroll(),this.onUpdateSecs(),this.onUpdateEls(),this.hasBar&&this.bar.onUpdate())}stop({barIsHidden:e=!1}){this.canScroll=!1,this.isStop=!0,this.els.forEach(e=>{e.canUpdate=!1}),this.hasBar&&this.bar.stop(e)}reStart(){this.canUpdate=!0,this.canScroll=!0,this.isStop=!1,this.els.forEach(e=>{e.canUpdate=!0}),this.hasBar&&this.bar.reStart()}reset(){this.scroll.y=0,this.scrollDelta.y=0,this.secs.forEach(e=>{e.$sec.style.transform=""})}destroy(){this.hasBar&&(this.bar.destroy(),this.bar=null),window.removeEventListener("keydown",this.keydown,!1)}}class L{constructor(e){this.moveHandler=[],this.updateHandler=[],this.screenSize={x:0,y:0,xRatio:0,yRatio:0},this.containerSize={x:0,y:0,xRatio:0,yRatio:0},this.$container=e||window,this.easeRatio=.075,this.isClient=this.$container===window,this.position={x:0,y:0,normal:{x:0,y:0},now:{x:0,y:0,normal:{x:0,y:0}},prev:{x:0,y:0,now:{x:0,y:0}}},this.mouseMoveFunc=e=>{},this.ticking=!1,this.canUpdate=!1}init(){this.setSize(),this.setEventListener()}setEventListener(){this.mouseMoveFunc=this._onMouseMove.bind(this),this.$container.addEventListener("mousemove",this.mouseMoveFunc,!1)}setPosition(e,t){return this.isClient?(t.x=e.clientX,t.y=e.clientY):(t.x=e.layerX,t.y=e.layerY),t.normal.x=t.x*this.containerSize.xRatio,t.normal.y=t.y*this.containerSize.yRatio,t}setSize(e,t,i,s){if(this.screenSize.x=e||window.innerWidth,this.screenSize.y=t||window.innerHeight,this.screenSize.xRatio=i||1/this.screenSize.x,this.screenSize.yRatio=s||1/this.screenSize.y,this.$container!==window){const e=this.$container.getBoundingClientRect();this.containerSize.x=this.containerSize.x=e.width,this.containerSize.y=this.containerSize.y=e.height,this.containerSize.xRatio=1/this.containerSize.x,this.containerSize.yRatio=1/this.containerSize.y}else this.containerSize.x=this.screenSize.x,this.containerSize.y=this.screenSize.y,this.containerSize.xRatio=this.screenSize.xRatio,this.containerSize.yRatio=this.screenSize.yRatio}runMoveHandler(){this.moveHandler.forEach(e=>{e.task(this.position)})}runUpdateHandler(){this.updateHandler.forEach(e=>{e.task(this.position)})}_onMouseMove(e){this.canUpdate=!0,this._runMouseMove(e)}_runMouseMove(e){this.ticking||(requestAnimationFrame(()=>{this.ticking=!1,this.position=this.setPosition(e,this.position),this.runMoveHandler()}),this.ticking=!0)}onResize(e,t){this.setSize(e,t)}checkMouseMove(){Math.abs(this.position.x-this.position.now.x)<.1&&Math.abs(this.position.y-this.position.now.y)<.1?(this.position.now.x=Math.round(this.position.now.x),this.position.now.y=Math.round(this.position.now.y),this.position.prev.now.x=0,this.position.prev.now.y=0,this.canUpdate=!1):(P.raf?(this.position.now.x=b.lerp(this.position.now.x,this.position.x,this.easeRatio/P.raf.fpsMultiplier),this.position.now.y=b.lerp(this.position.now.y,this.position.y,this.easeRatio/P.raf.fpsMultiplier),this.position.prev.now.x=b.lerp(this.position.prev.now.x,this.position.x-this.position.now.x,.1/P.raf.fpsMultiplier),this.position.prev.now.y=b.lerp(this.position.prev.now.y,this.position.y-this.position.now.y,.1/P.raf.fpsMultiplier)):(this.position.now.x=b.lerp(this.position.now.x,this.position.x,this.easeRatio),this.position.now.y=b.lerp(this.position.now.y,this.position.y,this.easeRatio),this.position.prev.now.x=b.lerp(this.position.prev.now.x,this.position.x-this.position.now.x,.1),this.position.prev.now.y=b.lerp(this.position.prev.now.y,this.position.y-this.position.now.y,.1)),this.position.prev.now.x=b.clamp(this.position.prev.now.x,-60,60),this.position.prev.now.y=b.clamp(this.position.prev.now.y,-60,60))}onUpdate(){this.canUpdate&&(this.checkMouseMove(),this.runUpdateHandler())}destroy(){this.clearEventListener()}clearEventListener(){this.$container.removeEventListener("mousemove",this.mouseMoveFunc)}}class E{constructor(){this.triggerSelectorName="[data-modal-trigger]",this.closeSelectorName="[data-modal-close]",this.modalSelectorName="[data-modal-target]",this.eventHandler={keyDown:null},this.keyCode={esc:27},this.isOpened=!1,this.clickTriggerFunctionObj={},this.clickCloseFunctionObj={},this.isOpenedObj={},this.$triggerAll=null,this.$closeAll=null,this.modalScroll=null,this.modalMouseMove=null,this.willOpenHandler=[],this.didOpenHandler=[],this.willCloseHandler=[],this.didCloseHandler=[]}init(){this.setSelector(),this.checkCanStart()&&this.setOptions()}checkCanStart(){return this.$triggerAll.length>0}setSelector(){this.$triggerAll=document.querySelectorAll(this.triggerSelectorName),this.$closeAll=document.querySelectorAll(this.closeSelectorName)}setOptions(){[].forEach.call(this.$triggerAll,e=>{const t=e.dataset.modalTrigger;this.clickTriggerFunctionObj[t]=this.setFunction(t,"trigger"),this.isOpenedObj[t]=!1,this.setEventListener(e,t,"trigger")}),[].forEach.call(this.$closeAll,e=>{const t=e.dataset.modalClose;this.clickCloseFunctionObj[t]=this.setFunction(t,"close"),this.setEventListener(e,t,"close")}),this.eventHandler.keyDown=this.onKeyDown.bind(this),document.addEventListener("keydown",this.eventHandler.keyDown,!1)}setFunction(e,t,i,s){return n=>{this.onClick(n,e,t,i,s)}}setEventListener(e,t,i){"close"===i?e.addEventListener("click",this.clickCloseFunctionObj[t].bind(this),!1):e.addEventListener("click",this.clickTriggerFunctionObj[t].bind(this),!1)}resetEventListener(e,t,i){"close"===i?e.removeEventListener("click",this.clickCloseFunctionObj[t],!1):e.removeEventListener("click",this.clickTriggerFunctionObj[t],!1)}openModal(e,t,i,s,n,o){this.isOpened=!0,this.willOpen(o,n).then(()=>{s&&(this.setScrollManager(n),this.modalScroll.onResize()),e.classList.add("is-opened"),this.isOpenedObj[t]=!0,i&&i(),s&&(this.modalScroll.onResize(),this.modalMouseMove.onResize()),this.didOpen(o,n)})}closeModal(e,t,i,s,n,o){this.willClose(o,n).then(()=>{e.classList.remove("is-opened"),this.isOpenedObj[t]=!1,i&&i(),s&&this.destroyScrollManager(n),this.didClose(o,n)})}async willOpen(e,t){await new Promise(i=>{this.willOpenHandler.forEach(s=>{s.task(i,s.id,e,t)})})}async didOpen(e,t){await new Promise(i=>{this.didOpenHandler.forEach(s=>{s.task(i,s.id,e,t)})})}async willClose(e,t){await new Promise(i=>{this.willCloseHandler.forEach(s=>{s.task(i,s.id,e,t)})})}async didClose(e,t){await new Promise(i=>{this.didCloseHandler.forEach(s=>{s.task(i,s.id,e,t)})}),this.isOpened=!1}setScrollManager(e){this.modalMouseMove=new L,this.modalScroll=new O({smoothContainerName:".jsScroll_ctr_"+e,smoothContentName:".jsScroll_cnt_"+e,smoothSecName:".jsScroll_sec_"+e,scrollbarClassName:"cScl_bar_"+e}),M.add(P.rsz.handler,()=>{this.modalScroll.onResize()},"modalScroll"),M.add(P.rsz.handler,e=>{this.modalMouseMove.onResize(e.x,e.y)},"modalMouseMove"),M.add(P.sch.handler,e=>{this.modalScroll.onScroll(e)},"modalScroll"),M.add(P.raf.handler,()=>{this.modalScroll&&this.modalScroll.onUpdate()},"modalScroll"),M.add(this.modalMouseMove.moveHandler,e=>{this.modalScroll.onMouseMove(e)},"modalScroll"),this.modalScroll.init(),this.modalMouseMove.init({})}destroyScrollManager(){this.modalScroll&&(this.modalScroll.reset(),M.remove(P.rsz.handler,"modalScroll"),M.remove(P.sch.handler,"modalScroll"),M.remove(P.raf.handler,"modalScroll"),M.remove(this.modalMouseMove.moveHandler,"modalScroll"),M.remove(P.rsz.handler,"modalMouseMove"),this.modalScroll.destroy(),this.modalMouseMove.destroy(),this.modalScroll=null,this.modalMouseMove=null)}onClick(e,t,i,s,n){e.preventDefault();const o=e.currentTarget.dataset,r=void 0!==o.modalScroll;let a;a="close"===i?o.modalClose:o.modalTrigger;const l=document.querySelector(`[data-modal-target=${a}]`);l&&("close"!==i?this.openModal(l,t,s,r,a,o):this.closeModal(l,t,n,r,a,o))}onKeyDown(e){e.keyCode===this.keyCode.esc&&[].forEach.call(this.$closeAll,e=>{this.isOpened&&T.triggerEvent(e,"click")})}destroy(e=!0){[].forEach.call(this.$closeAll,e=>{T.triggerEvent(e,"click")}),[].forEach.call(this.$triggerAll,(e,t)=>{this.resetEventListener(e,t,"trigger")}),[].forEach.call(this.$closeAll,(e,t)=>{this.resetEventListener(e,t,"close")}),document.removeEventListener("keydown",this.eventHandler.keyDown)}}class D{constructor(){this.wrapperName=".jsCursor_visible",this.$wrapperAll=null,this.isActive=!1,this.eventHandler=[]}init(){this.setSelector(),this.setEventListener()}setSelector(){this.$wrapperAll=document.querySelectorAll(this.wrapperName)}setEventListener(){[].forEach.call(this.$wrapperAll,(e,t)=>{this.eventHandler[t]={},this.eventHandler[t]._onMouseEnter=this.onMouseEnter.bind(this),this.eventHandler[t]._onMouseLeave=this.onMouseLeave.bind(this),e.addEventListener("mouseenter",this.eventHandler[t]._onMouseEnter,!1),e.addEventListener("mouseleave",this.eventHandler[t]._onMouseLeave,!1)})}onMouseEnter(){this.isActive=!0,document.body.classList.add("is-shown-cursor")}onMouseLeave(){document.body.classList.remove("is-shown-cursor"),l.a.delayedCall(.4,()=>{!document.body.classList.contains("is-shown-cursor")&&document.body.classList.contains("is-dragging-slider")&&(this.isActive=!1)})}removeEventListener(){[].forEach.call(this.$wrapperAll,(e,t)=>{e&&(e.removeEventListener("mouseenter",this.eventHandler[t]._onMouseEnter),e.removeEventListener("mouseleave",this.eventHandler[t]._onMouseLeave))}),this.onMouseLeave()}destroy(){this.removeEventListener()}}class R{constructor(e){this.__default={target:".jsSplit",slit:"",addClass:"",parse:!0,template:(e,t,i)=>`<span class="jsSplit_blk jsClone${/[\t\s]/g.test(t)?" -blank ":""}">\n                          <span class="jsSplit_in jsClone_item">${t}</span>\n                        </span>`,templateStatic:(e,t,i)=>`<span class="jsSplit_blk${/[\t\s]/g.test(t)?" -blank ":""}">\n                          <span class="jsSplit_in">${t}</span>\n                        </span>`},this.isDom=!1,this.tag="",this._options=this.__default,this.$targetsAll=null}init(e=document){this.$targetsAll=e.querySelectorAll(this._options.target);let t=[];if(this.$targetsAll.length)return[].forEach.call(this.$targetsAll,e=>{let i=this._unEscapeHTML(e.innerHTML).split(this._options.slit),s=[];/[\t\s]/g.test(i[i.length-1])&&i.pop(),e.innerHTML="",i.forEach((t,n)=>{this._checkString(t),void 0===e.dataset.splitClone?this.isDom||0!==this.tag.length?this.isDom||e.appendChild(this._htmlToNode(this.tag)[0]):this._options.parse?e.appendChild(this._htmlToNode(this._options.templateStatic(n,t,i.length))[0]):s.push(this._options.templateStatic(n,t,i.length)):this.isDom||0!==this.tag.length?this.isDom||e.appendChild(this._htmlToNode(this.tag)[0]):this._options.parse?e.appendChild(this._htmlToNode(this._options.template(n,t,i.length))[0]):s.push(this._options.template(n,t,i.length))}),t.push(s)}),t}_checkString(e){"<"===e?(this.isDom=!0,this.tag+=e):">"===e?(this.tag+=e,this.isDom=!1):this.isDom?this.tag+=e:this.tag=""}_htmlToNode(e){if(!e||"string"!=typeof e)return;let t=document.createElement("div");return t.innerHTML=e,t.childNodes}_unEscapeHTML(e){return e.replace(/(&lt;)/g,"<").replace(/(&gt;)/g,">").replace(/(&quot;)/g,'"').replace(/(&#39;)/g,"'").replace(/(&amp;)/g,"&")}}class ${constructor(){this.parentName=".jsClone",this.targetName=".jsClone_item",this.$parentAll=null,this.len=0}init(e=document.body){this.$parentAll=e.querySelectorAll(this.parentName),this.len=this.$parentAll.length,this.len&&this.set()}set(){[].forEach.call(this.$parentAll,e=>{let t=e.querySelector(this.targetName);t&&e.appendChild(t.cloneNode(!0))})}}var N=i(3),z=i.n(N);class H{constructor(e={}){this.$triggerAll=null,this.triggerName="[data-color]",this.bGl=e.bGl}init(){this.setSelector(),this.setEventListener(),this.setTriggerColor()}setSelector(){this.$trigger=document.querySelector(this.triggerName)}setEventListener(){this.$trigger.addEventListener("click",()=>{this.onClick(this.$trigger)},!1)}setTriggerColor(){const e=this.get();e&&("dark"===e?(document.body.dataset.colorType="dark",this.$trigger.setAttribute("data-color","default"),document.querySelector(".mFooter_innocence_inner").textContent="INNOCENCE"):(document.body.dataset.colorType="default",this.$trigger.setAttribute("data-color","dark"),document.querySelector(".mFooter_innocence_inner").textContent="In The Dark"))}onClick(e){const t=e.dataset;e.classList.add("is-clicked"),l.a.delayedCall(1.1,()=>{document.body.dataset.colorType=t.color,this.bGl.setPlaneBgColor(t.color),this.save(t.color)})}save(e){z.a.set("ui_mode",e)}get(){return z.a.get("ui_mode")}}class k{constructor(e){this.targetName=e||".jsHover",this.$targetAll=null,this.$content=null,this.options=[],this.eventHandler={mouseEnter:null,mouseLeave:null},this.beforeHoverInHandler=[],this.hoverInHandler=[],this.beforeHoverOutHandler=[],this.hoverOutHandler=[]}init(e=document){this.$content=e,this.setSelector(),this.setFlag(this.$targetAll),this.setEventListener()}setSelector(){this.$targetAll=this.$content.querySelectorAll(this.targetName)}setFlag(e){for(let t=e.length;t--;){let i=e[t],s=i.dataset,n=Number(s.hoverStep)||1;this.options[t]={step:n,isHovering:!1,isAnimating:!1},i.setAttribute("data-hover-num",t)}}setEventListener(){this.eventHandler.mouseEnter=e=>{e.preventDefault(),this.onMouseEnter(e.currentTarget)},this.eventHandler.mouseLeave=e=>{e.preventDefault(),this.onMouseLeave(e.currentTarget)},[].forEach.call(this.$targetAll,e=>{e.addEventListener("mouseenter",this.eventHandler.mouseEnter,!1),e.addEventListener("mouseleave",this.eventHandler.mouseLeave,!1)})}onMouseEnter(e){let t=Number(e.dataset.hoverNum);this.options[t].isHovering=!0,this.options[t].isAnimating||this._startMouseEnter(e,t)}onMouseLeave(e){let t=Number(e.dataset.hoverNum);this.options[t].isHovering=!1,this.options[t].isAnimating||this._startMouseLeave(e,t)}_startMouseEnter(e,t){let i=Number(e.dataset.hoverInTime)||0;if(this.options[t].isAnimating=!0,2===this.options[t].step){let s=20;e.classList.add("is-before-hover"),this.beforeHoverInHandler.forEach(t=>{t.task(e)}),l.a.delayedCall(.001*s,()=>{e.classList.add("is-hover"),e.classList.remove("is-before-hover"),this.hoverInHandler.forEach(t=>{t.task(e)})}),l.a.delayedCall(.001*(s+i),()=>{this._completeMouseEnter(e,t)})}else e.classList.add("is-hover"),this.hoverInHandler.forEach(t=>{t.task(e)}),l.a.delayedCall(.001*i,()=>{this._completeMouseEnter(e,t)})}_startMouseLeave(e,t){let i=Number(e.dataset.hoverOutTime)||0;this.options[t].isAnimating=!0,e.classList.add("is-hover-out"),e.classList.remove("is-hover"),this.beforeHoverOutHandler.forEach(t=>{t.task(e)}),l.a.delayedCall(.001*i,()=>{this._completeMouseLeave(e,t)})}_completeMouseEnter(e,t){this.options[t].isAnimating=!1,this.options[t].isHovering||this._startMouseLeave(e,t)}_completeMouseLeave(e,t){this.options[t].isAnimating=!1,e.classList.remove("is-hover-out"),this.hoverOutHandler.forEach(t=>{t.task(e)}),l.a.delayedCall(0,()=>{this.options[t].isHovering&&this._startMouseEnter(e,t)})}destroy(){[].forEach.call(this.$targetAll.length,(e,t)=>{this._startMouseLeave(e,t),e.removeEventListener("mouseenter",this.eventHandler.mouseEnter),e.removeEventListener("mouseleave",this.eventHandler.mouseLeave)})}}class B{constructor(e){this.$app=e,this.bgOpacityTween=null,this.containerOpacityTween=null,this.closeTween=null}willOpen(e,t,i,s){document.documentElement.classList.add("is-wait");const n=this.$app.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cModal_search_bg"),r=n.querySelector(".cModal_btn_close"),a=n.querySelector(".cModal_search_container");l.a.set(r,{opacity:0,force3D:!0}),l.a.set(o,{opacity:0,force3D:!0}),l.a.set(a,{opacity:0,force3D:!0}),e()}didOpen(e,t,i,s){const n=this.$app.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cModal_search_bg"),r=n.querySelector(".cModal_btn_close"),a=n.querySelector(".cModal_search_container");T.clearTween(this.bgOpacityTween),T.clearTween(this.containerOpacityTween),T.clearTween(this.closeTween),this.closeTween=l.a.to(r,.25,{opacity:1,ease:"none",force3D:!0,onComplete:()=>{r.removeAttribute("style")}}),this.bgOpacityTween=l.a.to(o,.25,{opacity:1,ease:"none",force3D:!0,onComplete:()=>{o.removeAttribute("style"),document.documentElement.classList.remove("is-wait"),e()}}),this.containerOpacityTween=l.a.to(a,.25,{opacity:1,ease:"none",force3D:!0,onComplete:()=>{a.removeAttribute("style")}})}willClose(e,t,i,s){document.documentElement.classList.add("is-wait");const n=this.$app.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cModal_search_bg"),r=n.querySelector(".cModal_btn_close"),a=n.querySelector(".cModal_search_container");T.clearTween(this.bgOpacityTween),T.clearTween(this.containerOpacityTween),T.clearTween(this.closeTween),this.bgOpacityTween=l.a.to(o,.25,{opacity:0,ease:"none",onComplete:()=>{document.documentElement.classList.remove("is-wait"),T.clearTween(this.bgOpacityTween),o.removeAttribute("style"),e()}}),this.closeTween=l.a.to(r,.25,{opacity:0,ease:"none",onComplete:()=>{r.removeAttribute("style"),T.clearTween(this.closeTween)}}),this.containerOpacityTween=l.a.to(a,.25,{opacity:0,ease:"none",onComplete:()=>{T.clearTween(this.containerOpacityTween),a.removeAttribute("style")}})}}class U{constructor(){this.$triggerAll=null,this.triggerName=".jsTrigger_sort",this.eventHandler={click:[]}}init(){this.setSelector(),this.setEventListener()}setSelector(){this.$triggerAll=document.querySelectorAll(this.triggerName)}setEventListener(){[].forEach.call(this.$triggerAll,(e,t)=>{this.eventHandler.click[t]=this.onClick,e.addEventListener("click",this.eventHandler.click[t].bind(this),!1)})}onClick(){P.ptType=1}clearEventListener(){[].forEach.call(this.$triggerAll,(e,t)=>{e.removeEventListener("click",this.eventHandler.click[t])})}destroy(){this.clearEventListener()}}class q{constructor(e){this.content=e,this.$app=document.getElementById("app"),this.$appContents=null,this.modal=new E,this.cursorVisibility=new D,this.stringSplit=new R,this.elementClone=new $,this.hover=new k,this.hoverModalGroup=new k,this.hoverModalGroupMain=new k,this.ColorChange=new H({bGl:P.bGl}),this.ColorChange.init(),this.modalSearchAnimation=new B(this.$app),this.pageTransitionController=new U,this.$modalGroup=null,this.$modalGroupMain=null}viewDidLoad(e=this.content){this.$appContents=document.getElementById("appContents"),this.pageTransitionController.init(),this.stringSplit.init(this.$appContents),this.elementClone.init(this.$appContents)}viewWillAppear(){window.pageInited&&(P.scl.reset(),P.scl.reStart(),P.rsz.onResize()),P.scl.init(),P.bGl.run().then(()=>{P.bGl.stop()})}viewDidAppear(){if(this.setModal(),this.setDefaultHoverGetOption(),this.setMenuHoverGetOption(),OTHER){this.hover.init(this.$appContents),this.$modalGroup=this.$app.querySelector(".cModal_group"),this.$modalGroup&&this.hoverModalGroup.init(this.$modalGroup),this.$modalGroupMain=this.$app.querySelector(".cModal_search"),this.$modalGroupMain&&this.hoverModalGroupMain.init(this.$modalGroupMain),this.cursorVisibility.init();const e=this.$app.querySelector(".jsCursor");M.add(P.mm.updateHandler,t=>{e&&this.cursorVisibility.isActive?e.style.transform=`translate3d( ${t.now.x}px, ${t.now.y}px, 0 )`:e.style.transform=null},"cursor"),M.add(P.mm.moveHandler,e=>{P.scl.onMouseMove(e)},"scrollManager")}window.pageInited||(window.pageInited=!0),P.bGl.reStart(),OTHER?P.fGl.setTexture(P.bGl.fbgMesh[0].uniforms.uTexture.value):P.fGl.setTexture()}viewWillDisappear(){P.bGl.removeHtmlElementMeshHoverEvent(),P.bGl.removeHmClMeshHoverEvent(),document.documentElement.classList.add("is-wait_page-transition"),P.IOReady=!1,P.scl.stop({}),P.bGl.stop(),P.hgo.clear(),P.mhgo.clear(),this.pageTransitionController.destroy(),OTHER&&(this.hover.destroy(),this.$modalGroup&&this.hoverModalGroup.destroy(),this.$modalGroupMain&&this.hoverModalGroupMain.destroy(),M.remove(P.mm.updateHandler,"cursor"),M.remove(P.mm.moveHandler,"scrollManager")),1===P.ptType&&this.modal.destroy()}viewDidDisappear(){P.menu.clear(),P.bGl.clear(),P.bGl.setUpdate(),OTHER&&this.cursorVisibility.destroy(),0===P.ptType&&this.modal.destroy(),M.remove(this.modal.willOpenHandler,"ScrollManager"),M.remove(this.modal.didCloseHandler,"ScrollManager"),M.remove(P.hgo.setHandler,"fGlDefaultMouseMesh"),M.remove(P.hgo.mouseEnterHanler,"fGlDefaultMouseMesh"),M.remove(P.hgo.mouseLeaveHanler,"fGlDefaultMouseMesh"),P.hgo.destroy(),M.remove(P.mhgo.setHandler,"fGlMenuMouseMesh"),M.remove(P.mhgo.mouseEnterHanler,"fGlMenuMouseMesh"),M.remove(P.mhgo.mouseLeaveHanler,"fGlMenuMouseMesh"),P.mhgo.destroy(),M.remove(this.modal.willOpenHandler,"ModalChangeSight"),M.remove(this.modal.didOpenHandler,"ModalChangeSight"),M.remove(this.modal.willCloseHandler,"ModalChangeSight"),M.remove(this.modal.willOpenHandler,"ModalSearch"),M.remove(this.modal.didOpenHandler,"ModalSearch"),M.remove(this.modal.willCloseHandler,"ModalSearch");const e=document.querySelector(".pNotice");e&&e.parentNode.removeChild(e)}viewDidLoadStartup(){if(OTHER){const e=new R,t=new $,i=new k,s=new R,n=new $,o=new k;M.add(o.beforeHoverInHandler,e=>{"menuTrigger"===e.dataset.hoverType&&document.querySelector(".mMenu").classList.add("is-before-hover")},"SideMenuHover"),M.add(o.hoverInHandler,e=>{"menuTrigger"===e.dataset.hoverType&&(document.querySelector(".mMenu").classList.remove("is-before-hover"),document.querySelector(".mMenu").classList.add("is-hover"))},"SideMenuHover"),M.add(o.beforeHoverOutHandler,e=>{"menuTrigger"===e.dataset.hoverType&&(document.querySelector(".mMenu").classList.remove("is-hover"),document.querySelector(".mMenu").classList.add("is-hover-out"))},"SideMenuHover"),M.add(o.hoverOutHandler,e=>{"menuTrigger"===e.dataset.hoverType&&document.querySelector(".mMenu").classList.remove("is-hover-out")},"SideMenuHover");const r=document.querySelector(".mHeader"),a=document.querySelector(".mMenu");e.init(r),t.init(r),i.init(r),s.init(a),n.init(a),o.init(a)}M.add(P.menu.willOpenHandler,()=>{P.scl.stop({barIsHidden:!0})},"scroll"),M.add(P.menu.didCloseHandler,()=>{(MOBILE||TABLET)&&setTimeout(()=>{P.scl.reset()},10),P.scl.reStart()},"scroll"),P.menu.init(),M.add(P.rsz.handler,e=>{P.mm.onResize(e.x,e.y)},"scrollManager"),M.add(P.raf.handler,()=>{P.sch.onUpdate()},"scrollHelper"),M.add(P.raf.handler,()=>{P.scl.onUpdate()},"scrollManager"),M.add(P.raf.handler,()=>{P.mm.onUpdate()},"mouseMove"),M.add(P.sch.handler,e=>{P.scl.onScroll(e)},"scrollManager"),M.add(P.ws.focusHandler,()=>{P.hgo&&P.hgo.clear()},"defaultHoverGetOption"),M.add(P.ws.blurHandler,()=>{P.hgo&&P.hgo.clear()},"defaultHoverGetOption"),M.add(P.ws.focusHandler,()=>{P.mhgo&&P.mhgo.clear()},"menuHoverGetOption"),M.add(P.ws.blurHandler,()=>{P.mhgo&&P.mhgo.clear()},"menuHoverGetOption"),P.stc.init(),M.add(P.rsz.handler,()=>{P.stc.onResize()},"StickyChecker"),M.add(P.raf.handler,()=>{P.stc.onUpdate()},"StickyChecker"),M.add(P.rsz.handler,e=>{P.bGl.onResize()},"webglBack"),M.add(P.rsz.handler,e=>{P.fGl.onResize()},"webglFront"),M.add(P.raf.handler,()=>{P.bGl.onUpdate()},"webglBack"),M.add(P.raf.handler,()=>{P.fGl.onUpdate()},"webglFront")}viewWillAppearStartup(){M.add(P.rsz.handler,()=>{P.scl.onResize()},"scroll"),P.fGl.run()}viewDidAppearStartup(){P.mm.init()}setTransitionAnimation(){}runTransitionAnimation(){}setModal(){M.add(this.modal.didOpenHandler,()=>{P.scl.stop({barIsHidden:!0})},"ScrollManager"),M.add(this.modal.didCloseHandler,()=>{P.scl.reStart(),(MOBILE||TABLET)&&P.scl.reset()},"ScrollManager"),M.add(this.modal.willOpenHandler,(e,t,i,s)=>{"search"===s&&this.modalSearchAnimation.willOpen(e,t,i,s)},"ModalSearch"),M.add(this.modal.didOpenHandler,(e,t,i,s)=>{"search"===s&&this.modalSearchAnimation.didOpen(e,t,i,s)},"ModalSearch"),M.add(this.modal.willCloseHandler,(e,t,i,s)=>{"search"===s&&this.modalSearchAnimation.willClose(e,t,i,s)},"ModalSearch"),this.modal.init()}setDefaultHoverGetOption(){M.add(P.hgo.setHandler,e=>{P.fGl.setDefaultHoverGetOption(e)},"fGlDefaultMouseMesh"),M.add(P.hgo.mouseEnterHanler,(e,t,i)=>{P.fGl.onMouseEnterDefaultHoverGetOption(e,t,i)},"fGlDefaultMouseMesh"),M.add(P.hgo.mouseLeaveHanler,(e,t,i,s)=>{P.fGl.onMouseLeaveDefaultHoverGetOption(e,t,i,s)},"fGlDefaultMouseMesh"),P.hgo.init()}setMenuHoverGetOption(){M.add(P.mhgo.setHandler,e=>{P.fGl.setMenuHoverGetOption(e)},"fGlMenuMouseMesh"),M.add(P.mhgo.mouseEnterHanler,(e,t,i)=>{P.fGl.onMouseEnterMenuHoverGetOption(e,t,i)},"fGlMenuMouseMesh"),M.add(P.mhgo.mouseLeaveHanler,(e,t,i,s)=>{P.fGl.onMouseLeaveMenuHoverGetOption(e,t,i,s)},"fGlMenuMouseMesh"),P.mhgo.init()}}class F{constructor({targets:e=[],startNumber:t=0}){this.startNummber=t,this.stateNumber={prev:0,current:this.startNummber,next:0},this.targets=e||null,this.targetsLength=0}init(){this.setLength(),this.toStateNumber({currentNum:this.startNummber})}setLength(){this.targetsLength=this.targets.length}toStateNumber({currentNum:e=0}){this.stateNumber.current=e,this.stateNumber.prev=(this.stateNumber.current-1)%this.targetsLength,this.stateNumber.next=(this.stateNumber.current+1)%this.targetsLength}destroy(){}}class Y{constructor({slider:e,pagerBtnName:t}){this.slider=e,this.pagerBtnName=t,this.$pagerBtnAll=null,this.eventHandler=[]}setSelector(e){this.$pagerBtnAll=e.querySelectorAll(this.pagerBtnName)}setEventListener(){this.eventHandler=[],[].forEach.call(this.$pagerBtnAll,(e,t)=>{this.eventHandler[t]=this.slider.onClick.bind(this.slider,t,1.15,T.getCubicCurve(.65,0,.25,1)),e.addEventListener("click",this.eventHandler[t],!1)})}clearEventListener(){this.$pagerBtnAll&&[].forEach.call(this.$pagerBtnAll,(e,t)=>{e.removeEventListener("click",this.eventHandler[t])})}onUpdate(){[].forEach.call(this.$pagerBtnAll,(e,t)=>{t!==Math.round(this.slider.progress)||e.classList.contains("is-current")?t!==Math.round(this.slider.progress)&&e.classList.remove("is-current"):e.classList.add("is-current")})}}class V{constructor({coverName:e=".jsAppCover",containerName:t=".jsSlider_cnt",listName:i=".jsSlider_list",listItemName:s=".jsSlider_list_item",listItemImgName:n=".jsSlider_list_img",triggerNextName:o=".jsSlider_trigger_next",pagerBtnName:r=".jsSlider_pager_btn",currentNumberListName:a=".jsSlider_current_number",progressName:l=".jsSlider_progress",draggingClassName:h="is-dragging_slider",toCurrentOnComplete:u=(()=>{}),scrollManger:c=null,webglBack:m=null}){this.coverName=e,this.draggingClassName=h,this.conatinerName=t,this.listName=i,this.listItemName=s,this.listItemImgName=n,this.triggerNextName=o,this.progressName=l,this.pagerBtnName=r,this.toCurrentOnComplete=u,this.currentNumberListName=a,this.scrollManger=c,this.webglBack=m,this.isActiveTimer=!1,this.timeProgress=0,this.styleX=0,this.styleEaseX=0,this.diffStyleX=0,this.diffStyleEaseX=0,this.delataPosRatio=OTHER?.15:.075,this.flickBorderLineTime=500,this.screenSize={x:window.innerWidth,y:window.innerHeight},this.wrapper={isInView:!0},this.touches={startX:0,startY:0,currentX:0,currentY:0,diffX:0,diffY:0},this.pos={x:0,y:0,now:{x:0,y:0}},this.$cover=null,this.$container=null,this.$list=null,this.$listItemAll=null,this.$listItemImgAll=null,this.$listItemAll=null,this.$progress=null,this.$currentNumberList=null,this.eventHandler={grab:null,release:null},this.mousePosition={down:{x:0,y:0},up:{x:0,y:0},diff:{x:0,y:0}},this.progress=0,this.progressPrev=0,this.limit={min:0,max:0},this.startNumber=0,this.bgCurrent=0,this.currentNumberMouseDowned=this.startNumber,this.baseWidthListItem=0,this.draggingStartTime=0,this.state=null,this.progressState={prev:0,current:0,next:0},this.isAnimating=!1,this.useGrabbing=!1,this.canUpdate=!1,this.canMouseDown=!1,this.canMouseUp=!1,this.canMouseMove=!1,this.isDraginggContainer=!1,this.isScrolling=!1,this.tweenTimer=null,this.tweenTimerProgress=null,this.tweenToCurrent=null,this.item=[]}init(e,t){this.setInstances(),this.setSelector(e,t),this.resetTimer(),this.startTimer(),this.stopTimer(),this.scrollManger&&this.setWrapperSelector(),this.checkCanRun()&&(this.setStartNumber(),this.setStateNumber(),this.checkUseGrabbing(),this.setSlideSize(),this.setEventListener(),this._update(this.pos),this.canUpdate=!0,this.inited=!1)}resetTimer(e=0,t="none"){T.clearTween(this.tweenTimer),OTHER?(T.clearTween(this.tweenTimerProgress),this.webglBack.hfprgrsMesh[0].uniforms.uTransitionProgress.value=1,this.tweenTimerProgress=l.a.to([this.webglBack.hfprgrsMesh[0].uniforms.uTransitionProgressIn,this.webglBack.hfprgrsMesh[0].uniforms.uTransitionProgress],e,{ease:t,value:0,onComplete:()=>{}}),this.tweenTimer=l.a.to(this,e,{timeProgress:0,ease:t,onComplete:()=>{this.isActiveTimer&&l.a.delayedCall(.2,()=>{this.webglBack.hfprgrsMesh[0].uniforms.uTransitionProgress.value=1,this.startTimer()})}})):this.tweenTimer=l.a.to(this,e,{timeProgress:0,ease:t,onUpdate:()=>{this.$progress.style.transform=`scaleX(${this.timeProgress})`},onComplete:()=>{this.isActiveTimer&&l.a.delayedCall(.2,()=>{this.startTimer()})}})}stopTimer(){this.tweenTimer&&(this.tweenTimer.pause(),this.isActiveTimer=!1)}playTimer(){this.tweenTimer&&(this.tweenTimer.play(),this.isActiveTimer=!0)}startTimer(){T.clearTween(this.tweenTimer),this.tweenTimer=l.a.to(this,5.5,{timeProgress:1,ease:T.getCubicCurve(.6,0,.3,1),onUpdate:()=>{this.webglBack.hfprgrsMesh[0].uniforms.uTransitionProgressIn.value=this.timeProgress},onComplete:()=>{this.state.stateNumber.current+=1,this.state.stateNumber.current%=this.slideLength,this.toCurrent((Math.floor(this.progress)+1)%this.$listItemAll.length,1.2,T.getCubicCurve(.65,0,.25,1))}})}setInstances(){this.pager=new Y({slider:this,pagerBtnName:this.pagerBtnName})}setSelector(e,t){this.$cover=e.querySelector(this.coverName),this.$container=t.querySelector(this.conatinerName),this.$list=this.$container.querySelector(this.listName),this.$listItemAll=this.$list.querySelectorAll(this.listItemName),this.$listItemImgAll=this.$list.querySelectorAll(this.listItemImgName),[].forEach.call(this.$listItemAll,(e,t)=>{this.item[t]={$item:e,$img:this.$listItemImgAll[t],offsetImg:0,offsetBg:0}}),this.$currentNumberList=document.querySelector(this.currentNumberListName),this.$progress=document.querySelector(this.progressName),this.pager.setSelector(t)}setWrapperSelector(){this.scrollManger.els.forEach((e,t)=>{"textLoopSlider"===e.type&&(this.wrapper=e)})}checkCanRun(){return this.slideLength=this.$listItemAll.length,this.limit.max=this.slideLength-1,this.slideLength>0}setStartNumber(){const e=this.$container.dataset;e.slideStart&&(this.startNumber=Number(e.slideStart)||0)}setStateNumber(){this.state=new F({targets:this.$listItemAll,startNumber:this.startNumber}),this.state.init()}checkUseGrabbing(){void 0!==this.$container.dataset.sliderGrab&&(this.useGrabbing=!0,this.$container.classList.add("-grab"))}setSlideSize(){this.screenSize.x=window.innerWidth,this.screenSize.y=window.innerHeight;for(let e=0;e<this.slideLength;e++){const t=this.$listItemAll[e].getBoundingClientRect().width;0===e&&(this.baseWidthListItem=t)}}setEventListener(){this.pager.setEventListener(),this.useGrabbing&&(this.eventHandler.grab=this.onMouseDown.bind(this),this.eventHandler.release=this.onMouseUp.bind(this),this.$container.addEventListener("mousedown",this.eventHandler.grab,!1),window.addEventListener("mouseup",this.eventHandler.release,!1),window.addEventListener("mouseleave",this.eventHandler.release,!1),this.canMouseDown=!0,this.canMouseUp=!0)}checkIsFlicked(e){return e<this.flickBorderLineTime}checkWillMove(){return Math.abs(this.state.stateNumber.current-this.progress)>.1}setPosition(e,t){return e.changedTouches&&e.changedTouches.length&&e.changedTouches[0]?(t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}setBgCurrent(e){this.webglBack.hftlMesh&&this.webglBack.hftlMesh.length&&(this.bgCurrent=e)}async onFlickPrev(){this.state.stateNumber.current-=1,this.state.stateNumber.current<0?(this.state.stateNumber.current=this.slideLength-1,await this.toCurrent(this.state.stateNumber.current,.85)):await this.toCurrent(this.state.stateNumber.current,.85)}async onFlickNext(){this.state.stateNumber.current+=1,this.state.stateNumber.current%=this.slideLength,await this.toCurrent(this.state.stateNumber.current,.85)}async onFlick(){Math.abs(this.mousePosition.diff.x)>5?this.mousePosition.diff.x>0?await this.onFlickPrev():await this.onFlickNext():await this.toCurrent(this.state.stateNumber.current,.85)}onMouseMove(){this.canMouseMove&&(this.isDraginggContainer=!0,this.$cover&&(this.$cover.style.pointerEvents="all"))}onMouseDown(e){this.canMouseDown&&(this.stopTimer(),this.mousePosition.down=this.setPosition(e,this.mousePosition.down),this.currentNumberMouseDowned=this.state.stateNumber.current,this.draggingStartTime=e.timeStamp,this.canMouseUp=!0,this.canMouseMove=!0,document.body.classList.add(this.draggingClassName))}async onMouseUp(e){this.canMouseUp&&(this.canMouseMove=!1,this.canMouseUp=!1,this.isDraginggContainer=!1,document.body.classList.remove(this.draggingClassName),this.$cover&&(this.$cover.style.pointerEvents="none"),this.mousePosition.up=this.setPosition(e,this.mousePosition.up),this.mousePosition.diff.x=this.mousePosition.up.x-this.mousePosition.down.x,this.mousePosition.diff.y=this.mousePosition.up.y-this.mousePosition.down.y,this.isAnimating=!0,this.checkIsFlicked(e.timeStamp-this.draggingStartTime)?await this.onFlick():this.mousePosition.diff.x>0?this.checkWillMove()?await this.onFlickPrev(e):await this.toCurrent(Math.round(this.progress),.6):this.checkWillMove()?await this.onFlickNext(e):await this.toCurrent(Math.round(this.progress),.6),await new Promise(e=>{this.progress%=this.slideLength,this.progress<0&&(this.progress=this.slideLength-this.progress-2),this.state.toStateNumber({currentNum:this.progress}),this.progress=this.state.stateNumber.current,e()}))}onClick(e,t=0,i=T.getCubicCurve(.25,.025,.025,1)){this.state.stateNumber.current=e,this.state.stateNumber.current%=this.slideLength,this.toCurrent(e,t,i)}async toCurrent(e,t=0,i=T.getCubicCurve(.25,.025,.025,1)){this.isAnimating=!0,await new Promise(s=>{T.clearTween(this.tweenToCurrent),this.tweenToCurrent=l.a.to(this,t,{progress:e,ease:i,onComplete:()=>{this.isAnimating=!1,this.webglBack&&this.webglBack.hftlMesh&&this.setBgCurrentAnimation(this.bgCurrent,e),this.toCurrentOnComplete(this.progress),s()}}),this.resetTimer(t,i)})}setAnimating(e){this.$container.classList.add("is-animating"),this.isAnimating=!0,e&&e()}clearAnimating(e){this.$container.classList.remove("is-animating"),this.isAnimating=!1,e&&e()}async setBgCurrentAnimation(e,t){this.bgCurrent=Number(t)}onResize(){if(MOBILE||TABLET){if(this.screenSize.x===window.innerWidth)return;this.screenSize.x=window.innerWidth}this.scrollManger&&this.setWrapperSelector(),this.setSlideSize(),this.stopTimer(),this.toCurrent(this.state.stateNumber.current),this.setBgCurrent(this.state.stateNumber.current),this.wrapper.isInView?(this.stopTimer(),this.startTimer()):this.stopTimer()}setStyle(){if(!this.isAnimating)if(this.progress<this.limit.min){let e=0-this.progress;this.progress+=.15*e}else if(this.limit.max<this.progress){let e=this.limit.max-this.progress;this.progress+=.15*e}let e=this.progress*this.baseWidthListItem;if(e=Math.round(1e3*e)/1e3,this.styleX=e,P.bGl.hfImgMeshX=this.styleX,this.styleEaseX=b.lerp(this.styleEaseX,this.styleX,.175),this.diffStyleX=this.styleEaseX-this.styleX,this.diffStyleEaseX=b.lerp(this.diffStyleEaseX,this.diffStyleX,.1),this.diffStyleEaseX=b.clamp(this.diffStyleEaseX,-60,60),P.bGl.hfImgMeshDiffX=this.diffStyleEaseX,this.$currentNumberList){let e=this.progress/this.slideLength;e=Math.abs(e),this.$currentNumberList.style.transform=`translate3d(0,${-100*e}%,0)`}}onUpdateState(){this.progressState.current=Math.min(Math.round(this.progress),this.slideLength-1),this.progressState.prev=this.progressState.current<=0?this.progressState.prev=this.slideLength-1:this.progressState.prev=this.progressState.current-1,this.progressState.next=(this.progressState.current+1)%this.slideLength,this.webglBack.hftlMesh&&this.webglBack.hftlMesh.length&&this.webglBack.hftlMesh[0].textures.forEach((e,t)=>{this.webglBack.hftlMesh[0].current=Math.max(0,Math.floor(this.progress)),this.webglBack.hftlMesh[0].progress=this.progress-this.webglBack.hftlMesh[0].current})}setStyleItem(e){}onUpdateMouse(e){this.canUpdate&&(this.inited&&!this.wrapper.isInView||(this.pos=e))}onUpdate(){if(this.canUpdate){if(this.wrapper.isInView)this.isActiveTimer||this.canMouseMove||this.playTimer();else if(this.isActiveTimer&&this.stopTimer(),this.inited)return;this._update(this.pos)}}_update(e){let t=(e.x-e.now.x)*this.delataPosRatio;if(this.pager.onUpdate(),this.isDraginggContainer){T.clearTween(this.tweenToCurrent);let e=-this.styleX+t;this.progress=e/this.baseWidthListItem*-1}this.onUpdateState(),this.setStyle(),OTHER||this.setStyleItem(-3*(this.progress-this.progressPrev)*window.innerWidth),this.progressPrev=this.progress,this.inited=!0}destroy(){this.tweenTimer&&this.tweenTimer.pause(),T.clearTween(this.tweenTimer),this.clearEventListener()}clearEventListener(){this.pager.clearEventListener(),this.useGrabbing&&(this.$container.removeEventListener("mousedown",this.eventHandler.grab,!1),this.$container.removeEventListener("mouseup",this.eventHandler.release,!1),this.$container.removeEventListener("mouseleave",this.eventHandler.release,!1))}}class j{constructor(){this.$target=null,this.info={event:null,start:{x:0,y:0},move:{x:0,y:0},end:{x:0,y:0},distance:{x:0,y:0},distanceOffset:function(){return{x:Math.abs(this.distance.x),y:Math.abs(this.distance.y)}},now:{move:{x:0,y:0}},prev:{now:{move:{x:0,y:0}}}},this.canTouch=this.checkCanTouch(),this.canStart=!0,this.canMove=!0,this.canEnd=!0,this.hadnler={touchStart:[],touchMove:[],touchEnd:[],update:[]}}init(e){this.$target=e||document,this.canTouch&&this.setEventListener()}setEventListener(){this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this.$target.addEventListener("touchstart",this._onTouchStart,{passive:!1}),this.$target.addEventListener("touchmove",this._onTouchMove,{passive:!1}),this.$target.addEventListener("touchend",this._onTouchEnd,{passive:!1})}onTouchStart(e){this.canStart&&(this.info.start=this.getInfo(e),this.info.move=this.getInfo(e),this.info.now.move=this.getInfo(e),this.hadnler.touchStart.forEach(t=>{t.task(e,this.info)}))}onTouchMove(e){this.canMove&&(this.info.move=this.getInfo(e),this.hadnler.touchMove.forEach(t=>{t.task(e,this.info)}))}onTouchEnd(e){this.canStart&&(this.info.end=this.getInfo(e),this.hadnler.touchEnd.forEach(t=>{t.task(e,this.info)}))}onUpdate(){this.info.now.move.x=b.lerp(this.info.now.move.x,this.info.move.x,.1),this.info.now.move.y=b.lerp(this.info.now.move.y,this.info.move.y,.1),this.info.prev.now.move.x=b.lerp(this.info.prev.now.move.x,this.info.move.x-this.info.now.move.x,.1),this.info.prev.now.move.y=b.lerp(this.info.prev.now.move.y,this.info.move.y-this.info.now.move.y,.1),this.info.prev.now.move.x=b.clamp(this.info.prev.now.move.x,-60,60),this.info.prev.now.move.y=b.clamp(this.info.prev.now.move.y,-60,60),this.hadnler.update.forEach(e=>{e.task(this.info)})}getInfo(e){let t={x:0,y:0};e.target.getBoundingClientRect();if(e.targetTouches&&e.targetTouches[0]){let i;e.touches?(i=e.targetTouches[0],t.x=i.clientX,t.y=i.clientY):(t.x=e.clientX,t.y=e.clientY)}else t.x=e.clientX||0,t.y=e.clientY||0;return t}clearEventListener(){this.$target.removeEventListener("touchstart",this._onTouchStart,!1),this.$target.removeEventListener("touchmove",this._onTouchMove,!1),this.$target.removeEventListener("touchend",this._onTouchEnd,!1)}checkCanTouch(){return"ontouchstart"in window}destroy(){this.clearEventListener()}}class G extends V{constructor({listItemTextName:e=".jsSlider_list_text",scrollManger:t=null,toCurrentOnComplete:i=null}){super({scrollManger:t}),this.toCurrentOnComplete=i,this.delataPosRatio=.15,this.flickBorderLineTime=500,this.listItemTextName=e,this.isScrolling=!1,this.isMoving=!1,this.dnd=new j}checkUseGrabbing(){this.useGrabbing=!1}startTimer(){T.clearTween(this.tweenTimer),this.tweenTimer=l.a.to(this,4.5,{timeProgress:1,ease:T.getCubicCurve(.6,0,.3,1),onUpdate:()=>{this.$progress.style.transform=`scaleX(${this.timeProgress})`},onComplete:()=>{this.state.stateNumber.current+=1,this.state.stateNumber.current%=this.slideLength,this.toCurrent((Math.floor(this.progress)+1)%this.$listItemAll.length,.5,T.getCubicCurve(.65,0,.25,1))}})}setEventListener(){this.dnd.init(this.$list),this.pager.setEventListener(),M.add(this.dnd.hadnler.touchStart,(e,t)=>{this.onTouchStart(e,t)},"touchStart"),M.add(this.dnd.hadnler.touchMove,(e,t)=>{this.onTouchMove(e,t)},"touchMove"),M.add(this.dnd.hadnler.touchEnd,(e,t)=>{this.onTouchEnd(e,t)},"touchEnd"),M.add(this.dnd.hadnler.update,e=>{this.onUpdateMouse({x:e.move.x,y:e.move.y,now:{x:e.now.move.x,y:e.now.move.y}})},"update"),M.add(P.raf.handler,()=>{this.dnd.onUpdate()},"homeFeaturedMobileHandler"),this.canMouseDown=!0,this.canMouseUp=!0}onTouchStart(e){if(e.targetTouches&&e.targetTouches[0]){let t;e.touches?(t=e.targetTouches[0],this.touches.startX=t.pageX,this.touches.startY=t.pageY):(this.touches.startX=e.pageX,this.touches.startY=e.pageY)}else this.touches.startX=e.pageX||0,this.touches.startY=e.pageY||0;this.canMouseDown&&(this.mousePosition.down=this.setPosition(e,this.mousePosition.down),this.currentNumberMouseDowned=this.state.stateNumber.current,this.draggingStartTime=e.timeStamp,this.canMouseUp=!0,this.canMouseMove=!0)}onTouchMove(e,t){if(this.canMouseMove){if(e){if(this.touches.diffX=t.move.x-t.start.x,this.touches.diffY=t.move.y-t.start.y,this.isMoving)return void(this.isScrolling&&!this.isAnimating||(e.cancelable&&e.preventDefault(),this.dnd.canMove=!0));if(this.isMoving=!0,this.touches.diffX*this.touches.diffX+this.touches.diffY*this.touches.diffY>=25){b.radToDeg(Math.atan2(Math.abs(this.touches.diffY),Math.abs(this.touches.diffX)))<=60?(e.cancelable&&e.preventDefault(),this.isScrolling=!1,this.dnd.canMove=!0):(this.isScrolling=!0,this.dnd.canMove=!1)}}this.isDraginggContainer=!0,this.$cover&&(this.$cover.style.pointerEvents="all")}}async onTouchEnd(e){this.canMouseUp&&(this.canMouseMove=!1,this.canMouseUp=!1,this.isMoving=!1,this.dnd.canMove=!0,this.isDraginggContainer=!1,document.body.classList.remove(this.draggingClassName),this.$cover&&(this.$cover.style.pointerEvents="none"),this.mousePosition.up=this.setPosition(e,this.mousePosition.up),this.mousePosition.diff.x=this.mousePosition.up.x-this.mousePosition.down.x,this.mousePosition.diff.y=this.mousePosition.up.y-this.mousePosition.down.y,this.isAnimating=!0,this.isScrolling||(this.checkIsFlicked(e.timeStamp-this.draggingStartTime)?await this.onFlick():this.mousePosition.diff.x>0?this.checkWillMove()?await this.onFlickPrev(e):await this.toCurrent(Math.round(this.progress),.6):this.checkWillMove()?await this.onFlickNext(e):await this.toCurrent(Math.round(this.progress),.6),await new Promise(e=>{this.progress%=this.slideLength,this.progress<0&&(this.progress=this.slideLength-this.progress-2),this.state.toStateNumber({currentNum:this.progress}),this.progress=this.state.stateNumber.current,e()})))}async onFlickPrev(){this.state.stateNumber.current-=1,this.state.stateNumber.current<0?(this.state.stateNumber.current=this.slideLength-1,await this.toCurrent(this.state.stateNumber.current,.6)):await this.toCurrent(this.state.stateNumber.current,.6)}async onFlickNext(){this.state.stateNumber.current+=1,this.state.stateNumber.current%=this.slideLength,await this.toCurrent(this.state.stateNumber.current,.6)}async onFlick(){Math.abs(this.mousePosition.diff.x)>5?this.mousePosition.diff.x>0?await this.onFlickPrev():await this.onFlickNext():await this.toCurrent(this.state.stateNumber.current,.6)}setBgCurrent(e){this.bgCurrent=e}async toCurrent(e,t=0){await new Promise(i=>{T.clearTween(this.tweenTimer),this.tweenTimer=l.a.to(this,t,{timeProgress:0,ease:"cubic.inOut",onUpdate:()=>{this.$progress.style.transform=`scaleX(${this.timeProgress})`}}),T.clearTween(this.tweenToCurrent),this.tweenToCurrent=l.a.to(this,t,{progress:e,ease:"cubic.inOut",onComplete:()=>{this.isAnimating=!1,this.setBgCurrentAnimation(this.bgCurrent,e),this.toCurrentOnComplete(this.progress),this.resetTimer(t,"none"),i()}})})}onUpdateState(){this.progressState.current=Math.min(Math.round(this.progress),this.slideLength-1),this.progressState.current<=0?this.progressState.prev=this.slideLength-1:this.progressState.prev=this.progressState.current-1,this.progressState.next=(this.progressState.current+1)%this.slideLength}setStyleItem(e){let t=e<0?-1:1,i=Math.floor(this.progress)+1,s=Math.floor(this.slideLength+1-this.progress);this.item.forEach((n,o)=>{let r=this.slideLength-o-1;n.offsetImg+=t>0?.11*(3*e*(o-i)-n.offsetImg):.11*(3*e*(r-s)-n.offsetImg),n.offsetImg=Math.round(1e3*n.offsetImg)/1e3,n.$img.style.transform=`translate3d( ${n.offsetImg}px,0,0 )`})}setStyle(){if(!this.isAnimating)if(this.progress<this.limit.min){let e=0-this.progress;this.progress+=.15*e}else if(this.limit.max<this.progress){let e=this.limit.max-this.progress;this.progress+=.15*e}let e=this.progress*this.baseWidthListItem;if(e=Math.round(1e3*e)/1e3,this.x=e,this.$list.style.transform=`translate3d( ${-e}px , 0, 0 )`,this.$currentNumberList){let e=this.progress/this.slideLength;e=Math.abs(e),this.$currentNumberList.style.transform=`translate3d(0,${-100*e}%,0)`}}_update(e){let t=(e.x-e.now.x)*this.delataPosRatio;if(this.pager.onUpdate(),this.isDraginggContainer){T.clearTween(this.tweenToCurrent);let e=T.getTranslate(this.$list).x+t;this.progress=e/this.baseWidthListItem*-1}this.onUpdateState(),this.setStyle(),OTHER||this.setStyleItem(-3*(this.progress-this.progressPrev)*window.innerWidth),this.progressPrev=this.progress,this.inited=!0}destroy(){this.clearEventListener()}clearEventListener(){this.pager.clearEventListener(),this.useGrabbing&&(this.$container.removeEventListener("mousedown",this.eventHandler.grab,!1),this.$container.removeEventListener("mouseup",this.eventHandler.release,!1),this.$container.removeEventListener("mouseleave",this.eventHandler.release,!1))}}const W={containerName:".jsMvSlider_cnt",listItemName:".jsMvSlider_list_item",pagerBtnName:".jsMvSlider_pager_btn",currentNumberListName:".jsMvSlider_current_number",progressName:".jsMvSlider_progress",timerBlockName:".jsMvSlider_timer_block",timerBackName:".jsMvSlider_timer-back",timerFrontName:".jsMvSlider_timer-front",scrollManger:null,webglBack:null};class X{constructor({slider:e,pagerBtnName:t}){this.slider=e,this.pagerBtnName=t,this.$pagerBtnAll=null,this.eventHandler=[]}setSelector(e){this.$pagerBtnAll=e.querySelectorAll(this.pagerBtnName)}setEventListener(){this.eventHandler=[],[].forEach.call(this.$pagerBtnAll,(e,t)=>{this.eventHandler[t]=this.slider.toCurrent.bind(this.slider,t,.9,!0),e.addEventListener("click",this.eventHandler[t],!1)})}clearEventListener(){this.$pagerBtnAll&&([].forEach.call(this.$pagerBtnAll,(e,t)=>{e.removeEventListener("click",this.eventHandler[t]),this.eventHandler[t]=null}),this.eventHandler=[])}onUpdate(){[].forEach.call(this.$pagerBtnAll,(e,t)=>{t!==Math.round(this.slider.progress)||e.classList.contains("is-current")?t!==Math.round(this.slider.progress)&&e.classList.remove("is-current"):e.classList.add("is-current")})}}const Z={diameter:95,fill:"transparent",strokeWidth:1,strokeColor:"#fff",opacity:1,isProgress:!0,$target:document.querySelector(".jsProgress_pie")};class J{constructor(e,t={}){Object.assign(this,Z,t),this.slider=e,this.percent=0,this.canUpdate=!0}init(){this.$target&&(this.set(),this.addBaseStyle(),this.addProgressBackStyle())}stop(){this.canUpdate=!1}reStart(){this.canUpdate=!0}set(){this.circleLength=Math.PI*this.diameter*2}addBaseStyle(e=this.$target){e.style.opacity=this.opacity,e.setAttribute("cx",100),e.setAttribute("cy",100),e.setAttribute("r",Math.round(this.diameter)),e.setAttribute("fill",this.fill),e.setAttribute("stroke",this.strokeColor),e.setAttribute("stroke-width",this.strokeWidth+"px")}addProgressBackStyle(e=this.$target){e.setAttribute("stroke-dasharray",`${Math.round(this.circleLength)}px,${Math.round(this.circleLength)}px`)}addProgressFrontStyle(e=0,t=this.$target){t.setAttribute("stroke-dashoffset",this.circleLength-e*this.circleLength+"px")}}class K{constructor(e={}){Object.assign(this,W,e),this.wrapper={isInView:!0},this.$container=null,this.$listItemAll=null,this.$timerBlock=null,this.$progress=null,this.$currentNumberList=null,this.progress=0,this.limit={min:0,max:0},this.startNumber=0,this.bgCurrent=0,this.currentNumberMouseDowned=this.startNumber,this.baseWidthListItem=0,this.state=null,this.isTimerActive=!1,this.isAnimatingToCurrent=!1,this.animatingToCurrentTimer=!1,this.canUpdate=!1,this.canUpdateTime=!1,this.tweenTimer=null,this.tweenTimerBlcok=null,this.tweenToCurrent=null,this.tweenToProgress=null,this.tweenToProgress2=null,this.timer=0}init(e){this.setInstances(),this.setSelector(e),this.checkCanRun()&&(this.setEventListener(),this.scrollManger&&this.setWrapperSelector(),this.setStartNumber(),this.setStateNumber(),this.setBgCurrent(this.startNumber))}start(){l.a.delayedCall(.25,()=>{this.webglBack.hmvbgMesh[0].animationIn(this.$listItemAll.length,0).then(()=>{this.state.stateNumber.current=0,this.state.stateNumber.current%=this.listItemLength,this.bgCurrent=0,this.runTimer(),this.canUpdate=!0,this.inited=!1}),this.webglBack.hmvprgrsMesh[0].startupAnimation()})}run(){this.canUpdate=!0,this.inited=!1}setInstances(){this.pager=new X({slider:this,pagerBtnName:this.pagerBtnName}),this.timerFront=new J(this,{isProgress:!1,$target:document.querySelector(this.timerFrontName)}),this.timerBack=new J(this,{isProgress:!1,$target:document.querySelector(this.timerBackName),opacity:.5}),this.timerBack.init(),this.timerFront.init(),this.timerFront.addProgressFrontStyle()}setSelector(e){this.$container=e.querySelector(this.containerName),this.$listItemAll=this.$container.querySelectorAll(this.listItemName),this.$timerBlock=this.$container.querySelector(this.timerBlockName),this.$currentNumberList=this.$container.querySelector(this.currentNumberListName),this.$progress=this.$container.querySelector(this.progressName),this.pager.setSelector(this.$container)}setWrapperSelector(){this.scrollManger.secs.forEach((e,t)=>{e.$sec.classList.contains("pHome_mv")&&(this.wrapper=e)})}runTimer(){this.canUpdateTimer=this.wrapper.isInView,this.canUpdateTimer&&(this.timerFront.addProgressFrontStyle(this.timer),this.isTimerActive=!0,T.clearTween(this.tweenTimer),this.tweenTimer=l.a.to(this,3.5,{ease:"linear.in",timer:1,onUpdate:()=>{this.timerFront&&this.timerFront.addProgressFrontStyle(this.timer)},onComplete:()=>{this.timerFront&&this.timerFront.addProgressFrontStyle(this.timer),this.toCurrent((this.state.stateNumber.current+1)%this.listItemLength,.9,!0),this.isTimerActive=!1}}))}stopTimer(){this.canUpdateTimer=!1,this.tweenTimer&&this.isTimerActive&&this.tweenTimer.pause()}checkCanRun(){return this.listItemLength=this.$listItemAll.length,this.limit.max=this.listItemLength-1,this.listItemLength>0}checkWillMove(){return Math.abs(this.state.stateNumber.current-this.progress)>.1}setStartNumber(){const e=this.$container.dataset;e.slideStart?this.startNumber=Number(e.slideStart)||0:this.startNumber=this.$listItemAll.length-1}setEventListener(){this.pager.setEventListener()}setStateNumber(){this.state=new F({targets:this.$listItemAll,startNumber:this.startNumber}),this.state.init()}setBgCurrent(e){this.webglBack.hmvbgMesh&&this.webglBack.hmvbgMesh.length&&(this.webglBack.hmvbgMesh[0].set(this.state.stateNumber.current),this.bgCurrent=e)}async toCurrent(e,t=0,i=!1){await new Promise(s=>{this.isAnimatingToCurrent||e!==this.state.stateNumber.current&&(this.isAnimatingToCurrent=!0,i&&(this.state.stateNumber.current=e,this.state.stateNumber.current%=this.listItemLength),Promise.all([this.toCurrentTimerAnimation(),this.toCurrentWebglAnimation(this.bgCurrent,e),this.toCurrentProgressAnimation(e,t)]).then(()=>{this.runTimer()}))})}async toCurrentProgressAnimation(e,t){await new Promise(i=>{T.clearTween(this.tweenToCurrent),this.tweenToCurrent=l.a.to(this,t,{progress:e,ease:"cubic.inOut",onComplete:()=>{i()}})})}async toCurrentTimerAnimation(e=1){await new Promise(e=>{this.timer||e(),this.animatingToCurrentTimer=!0,T.clearTween(this.tweenTimer),T.clearTween(this.tweenTimerBlcok),this.tweenTimerBlcok=l.a.set(this.$timerBlock,{rotationZ:-90}),this.tweenTimerBlcok=l.a.to(this.$timerBlock,1.6,{ease:"quart.inOut",rotationZ:270,onComplete:()=>{this.$timerBlock.style.transform=""}}),this.tweenTimer=l.a.to(this,1.6,{ease:"cubic.inOut",timer:2,onUpdate:()=>{this.timerFront.addProgressFrontStyle(this.timer)},onComplete:()=>{this.timer=0,this.animatingToCurrentTimer=!1,this.timerFront.addProgressFrontStyle(this.timer),e()}})})}async toCurrentWebglAnimation(e,t){if(this.webglBack&&this.webglBack.hmvtlMesh&&this.webglBack.hmvbgMesh)if(e!==t){let i=e<t?1:-1,s=[];if(s.push(this.webglBack.hmvtlMesh[0].animationIn(e,t)),s.push(this.webglBack.hmvbgMesh[0].animationIn(e,t,i)),s.push(this.webglBack.hmvprgrsMesh[0].animationIn(e,t,i)),await Promise.all(s),!this.canUpdate)return;this.isAnimatingToCurrent=!1,this.bgCurrent=Number(t)}else await new Promise(e=>{this.isAnimatingToCurrent=!1,this.bgCurrent=Number(t),e()});else await new Promise(e=>e())}onResize(){this.scrollManger&&this.setWrapperSelector()}setStyle(){if(this.$progress,this.$currentNumberList){let e=this.progress/this.listItemLength;e=Math.abs(e),T.clearTween(this.tweenToProgress2),this.tweenToProgress2=l.a.to(this.$currentNumberList,.25,{y:-100*e+"%",force3D:!0})}}onUpdate(){this.canUpdate&&(this.inited&&!this.wrapper.isInView&&(this.canUpdateTimer=this.wrapper.isInView,this.stop(!0)),this.canUpdateTimer||(this.canUpdateTimer=this.wrapper.isInView,this.wrapper.isInView&&this.reStart()),this.pager.onUpdate(),this.setStyle(),this.inited=!0)}stop(e=!1){this.canUpdate&&(this.canUpdate=e,this.canUpdateTimer=!1,this.stopTimer(),this.isAnimatingToCurrent&&(this.tweenToCurrent.pause(),this.tweenTimerBlcok.pause()),this.webglBack.hmvtlMesh.forEach(e=>{e.pause()}),this.webglBack.hmvbgMesh.forEach(e=>{e.pause()}))}reStart(){this.canUpdate=!0,this.canUpdateTimer=this.wrapper.isInView,this.tweenTimer&&this.tweenTimer.play(),this.isAnimatingToCurrent&&(this.tweenToCurrent.play(),this.tweenTimerBlcok.play()),this.webglBack.hmvtlMesh.forEach(e=>{e.play()}),this.webglBack.hmvbgMesh.forEach(e=>{e.play()})}reset(){this.canUpdate=!0,this.canUpdateTimer=this.wrapper.isInView,this.setStyle(),this.canUpdateTimer&&this.animatingToCurrentTimer&&(this.isAnimatingToCurrent=!1,this.toCurrentTimerAnimation(0))}destroy(){this.clearEventListener(),this.stop(),this.timer=null,this.canUpdate=!1}clearEventListener(){this.pager.clearEventListener()}}class Q extends K{constructor(e={}){super(e),this.targetOptions=[],this.isFirst=!0}init(e){this.setInstances(),this.setSelector(e),this.setOptions(),this.checkCanRun()&&(this.setEventListener(),this.scrollManger&&this.setWrapperSelector(),this.setStartNumber(),this.setStateNumber())}run(){this.runTimer(),this.canUpdate=!0,this.inited=!1}setInstances(){this.pager=new X({slider:this,pagerBtnName:this.pagerBtnName}),this.timerFront=new J(this,{isProgress:!1,$target:document.querySelector(this.timerFrontName)}),this.timerBack=new J(this,{isProgress:!1,$target:document.querySelector(this.timerBackName),opacity:.5}),this.timerBack.init(),this.timerFront.init()}setSelector(e){this.$container=e.querySelector(this.containerName),this.$listItemAll=this.$container.querySelectorAll(this.listItemName),this.$listItemAll[0].style.opacity=1,this.$timerBlock=this.$container.querySelector(this.timerBlockName),this.$currentNumberList=this.$container.querySelector(this.currentNumberListName),this.$progress=this.$container.querySelector(this.progressName),this.pager.setSelector(this.$container)}setWrapperSelector(){this.scrollManger.secs.forEach((e,t)=>{e.$sec.classList.contains("pHome_mv")&&(this.wrapper=e)})}setOptions(){[].forEach.call(this.$listItemAll,(e,t)=>{this.targetOptions[t]={tweenScale:null,tweenOpacity:null}})}runTimer(){this.canUpdateTimer=this.wrapper.isInView,this.canUpdateTimer&&(this.timerFront.addProgressFrontStyle(this.timer),this.isTimerActive=!0,T.clearTween(this.tweenTimer),this.isFirst&&(this.targetOptions[this.state.stateNumber.current].tweenScale=l.a.set(this.$listItemAll[this.state.stateNumber.current],{scale:1.133334,force3D:!0}),this.targetOptions[this.state.stateNumber.current].tweenScale=l.a.to(this.$listItemAll[this.state.stateNumber.current],4,{scale:1,force3D:!0,ease:"none"}),this.isFirst=!1),this.tweenTimer=l.a.to(this,3.5,{ease:"none",timer:1,onUpdate:()=>{this.timerFront&&this.timerFront.addProgressFrontStyle(this.timer)},onComplete:()=>{this.timerFront&&this.timerFront.addProgressFrontStyle(this.timer),this.toCurrent((this.state.stateNumber.current+1)%this.listItemLength,.9,!0),this.isTimerActive=!1}}))}stopTimer(){this.canUpdateTimer=!1,this.tweenTimer&&this.isTimerActive&&(this.tweenTimer.pause(),this.targetOptions.forEach(e=>{e.tweenScale&&e.tweenScale.pause(),e.tweenOpacity&&e.tweenOpacity.pause()}))}checkCanRun(){return this.listItemLength=this.$listItemAll.length,this.limit.max=this.listItemLength-1,this.listItemLength>0}checkWillMove(){return Math.abs(this.state.stateNumber.current-this.progress)>.1}setStartNumber(){const e=this.$container.dataset;e.slideStart&&(this.startNumber=Number(e.slideStart)||0)}setEventListener(){this.pager.setEventListener()}setStateNumber(){this.state=new F({targets:this.$listItemAll,startNumber:this.startNumber}),this.state.init()}setBgCurrent(e){this.bgCurrent=e}async toCurrent(e,t=0,i=!1){await new Promise(s=>{this.isAnimatingToCurrent||e!==this.state.stateNumber.current&&(this.isAnimatingToCurrent=!0,i&&(this.state.stateNumber.current=e,this.state.stateNumber.current%=this.listItemLength),Promise.all([this.toCurrentTimerAnimation(),this.toCurrentAnimation(this.bgCurrent,e),this.toCurrentProgressAnimation(e,t)]).then(()=>{this.isAnimatingToCurrent=!1,this.runTimer()}))})}async toCurrentProgressAnimation(e,t){await new Promise(i=>{T.clearTween(this.tweenToCurrent),this.tweenToCurrent=l.a.to(this,t,{progress:e,ease:"cubic.inOut",onComplete:()=>{i()}})})}async toCurrentTimerAnimation(e=1){await new Promise(e=>{this.timer||e(),this.animatingToCurrentTimer=!0,T.clearTween(this.tweenTimer),T.clearTween(this.tweenTimerBlcok),this.tweenTimerBlcok=l.a.set(this.$timerBlock,{rotationZ:-90}),this.tweenTimerBlcok=l.a.to(this.$timerBlock,.95,{ease:"cubic.inOut",rotationZ:270,onComplete:()=>{this.$timerBlock.style.transform=""}}),this.tweenTimer=l.a.to(this,.95,{ease:"cubic.inOut",timer:2,onUpdate:()=>{this.timerFront.addProgressFrontStyle(this.timer)},onComplete:()=>{this.timer=0,this.animatingToCurrentTimer=!1,this.timerFront.addProgressFrontStyle(this.timer),e()}})})}async toCurrentAnimation(e,t){e!==t?await new Promise(i=>{l.a.to(this.$listItemAll[e],1,{opacity:0,ease:"none"}),T.clearTween(this.targetOptions[t].tweenScale),this.targetOptions[t].tweenScale=l.a.set(this.$listItemAll[t],{scale:1.2,force3D:!0}),this.targetOptions[t].tweenScale=l.a.to(this.$listItemAll[t],5,{scale:1,force3D:!0,ease:"none"}),T.clearTween(this.targetOptions[t].tweenOpacity),this.targetOptions[t].tweenOpacity=l.a.set(this.$listItemAll[t],{opacity:0}),this.targetOptions[t].tweenOpacity=l.a.to(this.$listItemAll[t],1,{opacity:1,ease:"none",onComplete:()=>{T.clearTween(this.targetOptions[t].tweenOpacity),this.targetOptions[t].tweenOpacity=null,this.targetOptions.forEach((e,i)=>{i!==t&&T.clearTween(this.targetOptions[i].tweenScale)}),this.bgCurrent=Number(t),i()}})}):await new Promise(e=>{this.isAnimatingToCurrent=!1,this.bgCurrent=Number(t),e()})}onResize(){this.scrollManger&&this.setWrapperSelector()}setStyle(){if(this.$progress){let e=this.progress/this.listItemLength+1/this.listItemLength;e=Math.abs(e),e=b.clamp(e,0,1),T.clearTween(this.tweenToProgress),this.tweenToProgress=l.a.to(this.$progress,0,{scaleY:e,force3D:!0})}if(this.$currentNumberList){let e=this.progress/this.listItemLength;e=Math.abs(e),T.clearTween(this.tweenToProgress2),this.tweenToProgress2=l.a.to(this.$currentNumberList,.25,{y:-100*e+"%",force3D:!0})}}onUpdate(){this.canUpdate&&(this.inited&&!this.wrapper.isInView&&this.canUpdateTimer&&this.stop(!0),this.wrapper.isInView&&(this.canUpdateTimer||this.reStart()),this.pager.onUpdate(),this.setStyle(),this.inited=!0)}stop(e=!1){this.canUpdate=e,this.canUpdateTimer=!1,this.stopTimer(),this.isAnimatingToCurrent&&(this.tweenToCurrent.pause(),this.tweenTimerBlcok.pause()),this.targetOptions.forEach(e=>{e.tweenScale&&e.tweenScale.pause(),e.tweenOpacity&&e.tweenOpacity.pause()})}reStart(){this.canUpdate=!0,this.canUpdateTimer=!0,this.tweenTimer&&this.tweenTimer.play(),this.targetOptions.forEach(e=>{e.tweenScale&&e.tweenScale.play(),e.tweenOpacity&&e.tweenOpacity.play()}),this.isAnimatingToCurrent&&(this.tweenToCurrent.play(),this.tweenTimerBlcok.play())}reset(){this.canUpdate=!0,this.canUpdateTimer=this.wrapper.isInView,this.setStyle(),this.canUpdateTimer&&this.animatingToCurrentTimer&&(this.isAnimatingToCurrent=!1,this.toCurrentTimerAnimation(0))}destroy(){this.clearEventListener(),this.stopTimer(),this.timer=null,this.canUpdate=!1}clearEventListener(){this.pager.clearEventListener()}}class ee{constructor(){this.targetName=".jsRepeat",this.$content=null,this.$targetAll=null,this.targetOptions=[],this.observer=new A({},!0)}init(e){this.setSelector(e),this.setOptions()}setSelector(e){this.$content=e||document.body,this.$targetAll=this.$content.querySelectorAll(this.targetName)}setOptions(){[].forEach.call(this.$targetAll,(e,t)=>{const i=e.dataset;this.observer.add(e),this.targetOptions[t]={$target:e,isShown:!1,isPlaying:!1,type:i.repeatType||null,direction:i.direction||null,translate:{x:0,y:0,z:0}}})}stop(e){e.isPlaying=!1}restart(e){e.isPlaying=!0}updateStyle(e){e.isPlaying?(e.translate.y+=.25,e.$target.style.backgroundPositionY=e.translate.y+"px",e.$target.style.transform="translate3d(0,0,0)"):(e.translate.y=0,e.$target.style.backgroundPositionY="0px",e.$target.style.transform="translate3d(0,0,0)")}onResize(){}onUpdate(){this.targetOptions.forEach((e,t)=>{e.isShown?(this.updateStyle(e),e.$target.classList.contains("is-in-view")||(e.isShown=!1),e.isPlaying||this.restart(e)):(e.$target.classList.contains("is-in-view")&&(e.isShown=!0),e.isPlaying&&(this.stop(e),this.updateStyle(e)))})}destroy(){this.observer.clear()}}class te{constructor(e){this.content=e,this.$listItemAll=null,this.dateName=".jsTrans_date",this.dateBarName=".jsTrans_date_bar",this.tagName=".jsTrans_tag",this.descriptionName=".jsTrans_description",this.cardName=".cJournal_list_card_thumb",this.tweenTransitionListDateBarOpacity=[],this.tweenTransitionListDateBarTranslate=[],this.tweenTransitionListDateBarScale=[],this.tweenTransitionListDate=[],this.tweenTransitionListTags=[],this.tweenTransitionDescriptions=[],this.isIn=[]}set(){this.$listItemAll=this.content.querySelectorAll(".jsTrans_list_item"),[].forEach.call(this.$listItemAll,e=>{const t=e.querySelectorAll(this.dateName),i=e.querySelector(this.dateBarName),s=e.querySelectorAll(this.tagName),n=e.querySelector(this.descriptionName);if(l.a.set(t,{y:"100%",force3D:!0}),l.a.set(i,{scaleX:1,y:.03125*window.innerWidth,opacity:0,force3D:!0}),s.length&&l.a.set(s,{y:"100.05%",force3D:!0}),l.a.set(n,{opacity:0}),!OTHER){const t=e.querySelector(this.cardName);l.a.set(t,{opacity:0})}})}run(){[].forEach.call(this.$listItemAll,(e,t)=>{this.isIn[t]=!1}),M.add(P.raf.handler,()=>{this.$listItemAll.forEach((e,t)=>{P.IOReady&&e.classList.contains("is-in")&&!this.isIn[t]&&(this.isIn[t]=!0,this.in(t))})},"listItemAll"),l.a.delayedCall(.95,()=>{P.IOReady=!0})}in(e){const t=this.$listItemAll[e],i=t.querySelectorAll(this.dateName),s=t.querySelector(this.dateBarName),n=t.querySelectorAll(this.tagName),o=t.querySelector(this.descriptionName);if(this.tweenTransitionListDateBarOpacity[e]=l.a.to(s,.6,{delay:.225,opacity:1,ease:"none",onComplete:()=>{T.clearTween(this.tweenTransitionListDateBarOpacity[e]),this.tweenTransitionListDateBarOpacity[e]=null,s.style.opacity=""}}),this.tweenTransitionListDateBarTranslate[e]=l.a.to(s,1.2,{delay:.225,y:0,ease:"expo.out",force3D:!0,onComplete:()=>{T.clearTween(this.tweenTransitionListDateBarTranslate[e]),this.tweenTransitionListDateBarTranslate[e]=null}}),this.tweenTransitionListDateBarScale[e]=l.a.to(s,1.15,{delay:.0125+.225,scaleX:.1612,ease:"quart.inOut",force3D:!0,onComplete:()=>{T.clearTween(this.tweenTransitionListDateBarScale[e]),this.tweenTransitionListDateBarScale[e]=null,s.style.transform="",s.style=""}}),[].forEach.call(i,(t,i)=>{this.tweenTransitionListDate[e+i]=l.a.to(t,1.45,{delay:.1+.04*i+.225,y:"0%",force3D:!0,ease:"expo.out",onComplete:()=>{t.style.transform=""}})}),[].forEach.call(n,(t,i)=>{this.tweenTransitionListTags[e+i]=l.a.to(t,1.45,{delay:.05+.04*i+.225,y:"0%",force3D:!0,ease:"expo.out",onComplete:()=>{t.style.transform=""}})}),this.tweenTransitionDescriptions[e]=l.a.to(o,.75,{delay:.3,opacity:1,ease:"none",onComplete:()=>{T.clearTween(this.tweenTransitionDescriptions[e]),this.tweenTransitionDescriptions[e]=null,o.style.opacity=""}}),!OTHER){const e=t.querySelector(this.cardName);l.a.to(e,.5,{delay:.3,opacity:1,ease:"none"})}}clear(){M.remove(P.raf.handler,"listItemAll"),this.tweenTransitionListDateBarOpacity.forEach(e=>{T.clearTween(e),e=null}),this.tweenTransitionListDateBarTranslate.forEach(e=>{T.clearTween(e),e=null}),this.tweenTransitionListDateBarScale.forEach(e=>{T.clearTween(e),e=null}),this.tweenTransitionListDate.forEach(e=>{T.clearTween(e),e=null}),this.tweenTransitionListTags.forEach(e=>{T.clearTween(e),e=null}),this.tweenTransitionDescriptions.forEach(e=>{T.clearTween(e),e=null})}}class ie{constructor(e){this.content=e,this.$collectionItemAll=null,this.collectionItemName=".pHome_collection_list_img_block",this.isIn=[]}set(){this.$collectionItemAll=this.content.querySelectorAll(this.collectionItemName),this.$collectionItemAll.forEach((e,t)=>{l.a.set(e,{x:t%2==0?"-20%":"20%",y:"25%",rotationZ:.01})})}run(){[].forEach.call(this.$collectionItemAll,(e,t)=>{this.isIn[t]=!1}),M.add(P.raf.handler,()=>{this.$collectionItemAll.forEach((e,t)=>{P.IOReady&&e.classList.contains("is-in")&&!this.isIn[t]&&(this.isIn[t]=!0,this.in(t))})},"collectionItemAnimation")}in(e){const t=this.$collectionItemAll[e];t.style.opacity="",l.a.to(t,1,{x:"0%",y:"0%",force3D:!0,ease:"quart.out",onComplete:()=>{t.style.transform=""}})}clear(){M.remove(P.raf.handler,"collectionItemAnimation")}}class se{constructor(e,t){this.modal=e,this.$content=t,this.bgOpacityTween=null,this.blockOpacityTween=null,this.wrapperTween=null,this.bodyTween=null,this.titleTween=null,this.dateTween=null,this.closeTween=null,this.barTween=null}willOpen(e,t,i){const s=i.modalTriggerInformationId,n=this.$content.querySelectorAll("[data-modal-information-id]");document.documentElement.classList.add("is-wait"),[].forEach.call(n,e=>{const t=e.dataset.modalInformationId;e.style.display=t!==s?"none":"block"});const o=this.$content.querySelector(".cModal_information"),r=o.querySelector(".cModal_bg"),a=o.querySelector(".cModal_information_block"),h=o.querySelector(".cModal_btn_close");a.removeAttribute("style"),l.a.set(h,{opacity:0,force3D:!0}),l.a.set(r,{opacity:0,force3D:!0}),e()}didOpen(e){const t=this.$content.querySelector(".cModal_information"),i=t.querySelector(".cModal_bg"),s=t.querySelector(".cModal_btn_close"),n=t.querySelector(".cScl_bar_information"),o=t.querySelector(".cModal_information_wrapper");T.clearTween(this.bgOpacityTween),T.clearTween(this.blockOpacityTween),T.clearTween(this.wrapperTween),T.clearTween(this.closeTween),T.clearTween(this.barTween),this.bgOpacityTween=l.a.to(i,.4,{opacity:1,force3D:!0,ease:"none",onComplete:()=>{i.removeAttribute("style"),document.documentElement.classList.remove("is-wait")}}),this.closeTween=l.a.to(s,.3,{opacity:1,ease:"none",force3D:!0,onComplete:()=>{s.removeAttribute("style")}}),this.barTween=l.a.fromTo(n,{transformOrigin:"right",scaleX:0,opacity:0,force3D:!0},{scaleX:1,opacity:1,force3D:!0,ease:"sine.out",duration:.275,delay:.95,onComplete:()=>{n.removeAttribute("style")}}),OTHER&&!SAFARI&&(this.wrapperTween=l.a.fromTo(o,{y:"10%",z:-50,rotationX:-5,transformOrigin:"top",force3D:!0},{y:"0%",z:0,rotationX:0,force3D:!0,duration:1.15,ease:"expo.out",onComplete:()=>{this.modal.modalScroll&&this.modal.modalScroll.onResize(),o.removeAttribute("style"),T.clearTween(this.wrapperTween)}}))}willClose(e,t,i){document.documentElement.classList.add("is-wait");const s=this.$content.querySelector(".cModal_information"),n=s.querySelector(".cModal_bg"),o=s.querySelector(".cModal_btn_close"),r=s.querySelector(".cModal_information_block");T.clearTween(this.bgOpacityTween),T.clearTween(this.blockOpacityTween),T.clearTween(this.closeTween),this.bgOpacityTween=l.a.to(n,.35,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{n.removeAttribute("style")}}),this.closeTween=l.a.to(o,.35,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{o.removeAttribute("style"),T.clearTween(this.closeTween)}}),this.blockOpacityTween=l.a.to(r,.35,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{r.removeAttribute("style");const t=document.querySelectorAll("[data-modal-information-id]");[].forEach.call(t,e=>{e.style.display="none"}),document.documentElement.classList.remove("is-wait"),e()}})}}class ne{constructor(e,t){this.modal=e,this.$content=t,this.bgOpacityTween=null,this.blockOpacityTween=null,this.closeTween=null}willOpen(e,t,i){const s=i.modalTriggerInformationId,n=this.$content.querySelectorAll("[data-modal-information-id]");document.documentElement.classList.add("is-wait"),[].forEach.call(n,e=>{const t=e.dataset.modalInformationId;e.style.display=t!==s?"none":"block"});const o=this.$content.querySelector(".cModal_information"),r=o.querySelector(".cModal_bg"),a=o.querySelector(".cModal_information_block"),h=o.querySelector(".cModal_btn_close");l.a.set(h,{opacity:0}),l.a.set(r,{opacity:0}),l.a.set(a,{opacity:0}),e()}didOpen(e){const t=this.$content.querySelector(".cModal_information"),i=t.querySelector(".cModal_bg"),s=t.querySelector(".cModal_btn_close"),n=t.querySelector(".cScl_bar_information"),o=t.querySelector(".cModal_information_wrapper"),r=t.querySelector(".cModal_information_block");T.clearTween(this.bgOpacityTween),T.clearTween(this.blockOpacityTween),T.clearTween(this.closeTween),this.bgOpacityTween=l.a.to(i,.4,{opacity:1,force3D:!0,ease:"none",onComplete:()=>{i.removeAttribute("style"),document.documentElement.classList.remove("is-wait")}}),this.closeTween=l.a.to(s,.4,{opacity:1,ease:"none",onComplete:()=>{s.removeAttribute("style")}}),l.a.set(n,{transformOrigin:"right",scaleX:0,opacity:0,force3D:!0}),this.blockOpacityTween=l.a.to(r,.4,{opacity:1,ease:"none",onComplete:()=>{this.modal.modalScroll.onResize(),o.removeAttribute("style"),T.clearTween(this.blockOpacityTween),n.style.opacity="",l.a.to(n,.5,{scaleX:1,ease:"quart.out",force3D:!0,onComplete:()=>{n.removeAttribute("style")}})}})}willClose(e){document.documentElement.classList.add("is-wait");const t=this.$content.querySelector(".cModal_information"),i=t.querySelector(".cModal_bg"),s=t.querySelector(".cModal_btn_close"),n=t.querySelector(".cModal_information_block");T.clearTween(this.bgOpacityTween),T.clearTween(this.blockOpacityTween),T.clearTween(this.closeTween),this.bgOpacityTween=l.a.to(i,.4,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{i.removeAttribute("style")}}),this.closeTween=l.a.to(s,.4,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{s.removeAttribute("style"),T.clearTween(this.closeTween)}}),this.blockOpacityTween=l.a.to(n,.4,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{n.removeAttribute("style");const t=document.querySelectorAll("[data-modal-information-id]");[].forEach.call(t,e=>{e.style.display="none"}),document.documentElement.classList.remove("is-wait"),e()}})}}class oe{constructor(e=document){this.content=e,this.transitionTitleAll=null,this.transitionLineAll=null,this.transitionDecriptionAll=null,this.transitionBg=null,this.transitionThumb=null,this.tweenTransitionBgOpacity=null,this.tweenTransitionBgTransform=null,this.tweenTransitionLinesOpacity=[],this.tweenTransitionLinesTranslate=[],this.tweenTransitionLinesScale=[],this.tweenTransitionTitles=[],this.tweenTransitionDescriptions=[]}set(){this.transitionTitleAll=this.content.querySelectorAll(".jsTrans_title"),this.transitionLineAll=this.content.querySelectorAll(".jsTrans_line"),this.transitionDecriptionAll=this.content.querySelectorAll(".jsTrans_description"),this.transitionBg=this.content.querySelector(".pAbout_sec_bg"),OTHER||l.a.set(this.transitionBg,{opacity:.1,scale:1.4,x:-.1*window.innerWidth,force3D:!0}),l.a.set(this.transitionTitleAll,{y:"100%",rotationX:-25,force3D:!0}),l.a.set(this.transitionLineAll,{scaleX:1,y:.075*window.innerWidth,opacity:0,force3D:!0}),l.a.set(this.transitionDecriptionAll,{y:"100%",force3D:!0})}run(){P.IOReady=!0,(MOBILE||TABLET)&&(this.tweenTransitionBgOpacity=l.a.to(this.transitionBg,1.5,{ease:"linear.inOut",opacity:1,onComplete:()=>{T.clearTween(this.tweenTransitionBgOpacity),this.tweenTransitionBgOpacity=null}}),this.tweenTransitionBgTransform=l.a.to(this.transitionBg,3,{scale:1,x:0,ease:"expo.out",force3D:!0,onComplete:()=>{T.clearTween(this.tweenTransitionBgTransform),this.tweenTransitionBgTransform=null}})),[].forEach.call(this.transitionLineAll,(e,t)=>{this.tweenTransitionLinesOpacity[t]=l.a.to(e,.4,{delay:.075*t,ease:"linear.inOut",opacity:1,onComplete:()=>{T.clearTween(this.tweenTransitionLinesOpacity[t]),this.tweenTransitionLinesOpacity[t]=null,e.style.opacity=""}}),this.tweenTransitionLinesTranslate[t]=l.a.to(e,1.2,{delay:.075*t,ease:"expo.out",y:0,onComplete:()=>{T.clearTween(this.tweenTransitionLinesTranslate[t]),this.tweenTransitionLinesTranslate[t]=null}})});const e=window.innerWidth<768,t=[];t.push(e?.49343:.45833),t.push(e?.17333:.08333),t.push(e?.14666:.640599),[].forEach.call(this.transitionLineAll,(e,i)=>{const s=i;this.tweenTransitionLinesScale[i]=l.a.to(e,1.1,{scaleX:t[i],force3D:!0,ease:"quart.inOut",delay:.65+.075*i,onComplete:()=>{T.clearTween(this.tweenTransitionLinesScale[s]),this.tweenTransitionLinesScale[s]=null}})}),[].forEach.call(this.transitionTitleAll,(e,t)=>{this.tweenTransitionTitles[t]=l.a.to(e,1.525,{delay:.075*t+1.35,y:"0%",rotationX:0,ease:"expo.out",force3D:!0,onComplete:()=>{T.clearTween(this.tweenTransitionTitles[t]),this.tweenTransitionTitles[t]=null,e.style.transform=""}})}),[].forEach.call(this.transitionDecriptionAll,(e,t)=>{this.tweenTransitionDescriptions[t]=l.a.to(e,1.65,{delay:.105*t+1.95,y:"0%",ease:"expo.out",force3D:!0,onComplete:()=>{T.clearTween(this.tweenTransitionDescriptions[t]),this.tweenTransitionDescriptions[t]=null,e.style.transform=""}})})}clear(){T.clearTween(this.tweenTransitionBgOpacity),this.tweenTransitionBgOpacity=null,T.clearTween(this.tweenTransitionBgTransform),this.tweenTransitionBgTransform=null,this.tweenTransitionLinesOpacity.forEach(e=>{T.clearTween(e),e=null}),this.tweenTransitionLinesTranslate.forEach(e=>{T.clearTween(e),e=null}),this.tweenTransitionLinesScale.forEach(e=>{T.clearTween(e),e=null}),this.tweenTransitionTitles.forEach(e=>{T.clearTween(e),e=null}),this.tweenTransitionDescriptions.forEach(e=>{T.clearTween(e),e=null})}}class re{constructor(e){this.content=document.getElementById("appContents"),this.transitionTitleSubAll=null,this.transitionTitleAll=null,this.transitionTitleChildrenAll=null,this.transitionBtnText=null,this.transitionBtnLine=null,this.transitionBtnIconAll=null,this.tweenTransitionTitleSubs=[],this.tweenTransitionTitleChildren=[],this.tweenTransitionBtnLineOpacity=null,this.tweenTransitionBtnLineTransfrom=null,this.tweenTransitionBtnText=null,this.tweenTransitionBtnIcons=[]}set(){this.transitionTitleSubAll=this.content.querySelectorAll(".jsTrans_title_sub"),this.transitionTitleAll=this.content.querySelectorAll(".jsTrans_title"),this.transitionTitleChildrenAll=this.content.querySelector(".pJournal_sec_title").querySelectorAll(".jsSplit_in"),this.transitionBtnText=this.content.querySelector(".jsTrans_btn_text"),this.transitionBtnLine=this.content.querySelector(".jsTrans_btn_line"),this.transitionBtnIconAll=this.content.querySelectorAll(".jsTrans_btn_icon"),l.a.set(this.transitionTitleChildrenAll,{x:"20%",y:"100.5%",opacity:0,rotationX:-60,rotationY:60,force3D:!0}),l.a.set(this.transitionTitleSubAll,{y:"100%",force3D:!0}),l.a.set(this.transitionBtnText,{y:"100%",force3D:!0}),l.a.set(this.transitionBtnLine,{y:.03125*window.innerWidth,opacity:0,force3D:!0}),l.a.set(this.transitionBtnIconAll[0],{x:"-75%",scaleX:0,force3D:!0}),l.a.set(this.transitionBtnIconAll[1],{y:"75%",scaleX:0,force3D:!0})}run(){[].forEach.call(this.transitionTitleSubAll,(e,t)=>{this.tweenTransitionTitleSubs[t]=l.a.to(e,1.35,{delay:.06*t+.25,y:"0%",ease:"expo.out",force3D:!0,onComplete:()=>{T.clearTween(this.tweenTransitionTitleSubs[t]),this.tweenTransitionTitleSubs[t]=null,e.style.transform=""}})}),[].forEach.call(this.transitionTitleAll,(e,t)=>{let i=e.querySelectorAll(".jsSplit_in");[].forEach.call(i,(e,i)=>{l.a.to(e,0,{opacity:1,delay:.06*t+.05*i+.075+.25}),this.tweenTransitionTitleChildren[t+i]=l.a.to(e,1.35,{delay:.06*t+.05*i+.075+.25,x:"0%",y:"0%",rotationX:0,rotationY:0,ease:"expo.out",force3D:!0,onComplete:()=>{e.style.transform="",e.style=""}})})}),this.tweenTransitionBtnLineOpacity=l.a.to(this.transitionBtnLine,.5,{delay:.85,ease:"linear.out",opacity:1,onComplete:()=>{T.clearTween(this.tweenTransitionBtnLineOpacity),this.tweenTransitionBtnLineOpacity=null,this.transitionBtnLine.style.opacity=""}}),this.tweenTransitionBtnLineTransfrom=l.a.to(this.transitionBtnLine,1.35,{delay:.85,ease:"expo.out",y:0,force3D:!0,onComplete:()=>{T.clearTween(this.tweenTransitionBtnLineTransfrom),this.tweenTransitionBtnLineTransfrom=null,this.transitionBtnLine.style.transform=""}}),this.tweenTransitionBtnText=l.a.to(this.transitionBtnText,1.3,{delay:1.5,y:"0%",ease:"expo.out",force3D:!0,onComplete:()=>{T.clearTween(this.tweenTransitionBtnText),this.tweenTransitionBtnText=null,this.transitionBtnText.style.transform=""}}),[].forEach.call(this.transitionBtnIconAll,(e,t)=>{this.tweenTransitionBtnIcons[t]=l.a.to(e,1.3,{delay:1.3+.075*t+.25,ease:"expo.out",x:"0%",y:"0%",scaleX:1,force3D:!0,onComplete:()=>{T.clearTween(this.tweenTransitionBtnIcons[t]),this.tweenTransitionBtnIcons[t]=null,e.style.transform=""}})})}clear(){this.tweenTransitionTitleSubs.forEach(e=>{T.clearTween(e),e=null}),this.tweenTransitionTitleChildren.forEach(e=>{T.clearTween(e),e=null}),T.clearTween(this.tweenTransitionBtnLineOpacity),this.tweenTransitionBtnLineOpacity=null,T.clearTween(this.tweenTransitionBtnLineTransfrom),this.tweenTransitionBtnLineTransfrom=null,T.clearTween(this.tweenTransitionBtnText),this.tweenTransitionBtnText=null,this.tweenTransitionBtnIcons.forEach(e=>{T.clearTween(e),e=null})}}class ae{constructor(){this.modalOpacityTween=null,this.containerTransformTween=null,this.textsTween=null,this.tagsTween=null}willOpen(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelectorAll(".cModal_slide_left_text"),r=n.querySelectorAll(".cTag_card");l.a.set(n,{opacity:0,force3D:!0}),l.a.set(o,{y:"100%",force3D:!0}),l.a.set(r,{y:"100.05%",force3D:!0}),e()}didOpen(e,t,i,s){const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cModal_slide_left_container"),r=n.querySelectorAll(".cModal_slide_left_text"),a=n.querySelectorAll(".cModal_filter_dl_block");this.textsTween=this.textsTween||[],this.tagsTween=this.tagsTween||[],T.clearTween(this.modalOpacityTween),T.clearTween(this.containerTransformTween),this.modalOpacityTween=l.a.to(n,.25,{opacity:1,force3D:!0,ease:"none",onComplete:()=>{document.documentElement.classList.remove("is-wait"),e()}}),OTHER&&!SAFARI&&(this.containerTransformTween=l.a.fromTo(o,{x:"15%",z:-20,rotationY:2.5,transformOrigin:"top left",force3D:!0},{x:"0%",z:0,rotationY:0,force3D:!0,ease:"expo.out",duration:1.15,onComplete:()=>{o.style.overflow="",o.removeAttribute("style")}})),[].forEach.call(r,(e,t)=>{T.clearTween(this.textsTween[t]),this.textsTween[t]=l.a.fromTo(e,{y:"100.05%",force3D:!0},{y:"0%",force3D:!0,ease:"quart.out",duration:1.1,delay:.3+.03*t,onComplete:()=>{e.style.opacity="",e.removeAttribute("style")}})}),[].forEach.call(a,(e,t)=>{const i=e.querySelectorAll(".cTag_card");this.tagsTween[t]=this.tagsTween[t]||[],[].forEach.call(i,(e,i)=>{T.clearTween(this.tagsTween[t][i]),this.tagsTween[t][i]=l.a.set(e,{y:"100.05%",force3D:!0}),this.tagsTween[t][i]=l.a.to(e,1.2,{delay:.35+.03*t+.015*i,y:"0%",force3D:!0,ease:"expo.out",onComplete:()=>{e.style.transform="",e.removeAttribute("style")}})})})}willClose(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']");T.clearTween(this.modalOpacityTween),this.modalOpacityTween=l.a.to(n,.3,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{document.documentElement.classList.remove("is-wait"),T.clearTween(this.modalOpacityTween),n.removeAttribute("style"),e()}})}}class le{constructor(){this.modalOpacityTween=null,this.barTween=null}willOpen(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']");l.a.set(n,{opacity:0}),e()}didOpen(e,t,i,s){const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cScl_bar_"+s);T.clearTween(this.modalOpacityTween),T.clearTween(this.barTween),this.modalOpacityTween=l.a.to(n,.4,{opacity:1,ease:"none",onComplete:()=>{document.documentElement.classList.remove("is-wait"),e()}}),o&&(l.a.set(o,{transformOrigin:"right",scaleX:0,opacity:0,force3D:!0}),this.barTween=l.a.to(o,.275,{opacity:1,scaleX:1,ease:"sine.out",force3D:!0,delay:.95,onComplete:()=>{o.style.transformOrigin="",o.style.opacity="",o.removeAttribute("style")}}))}willClose(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']");T.clearTween(this.modalOpacityTween),this.modalOpacityTween=l.a.to(n,.4,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{document.documentElement.classList.remove("is-wait"),T.clearTween(this.modalOpacityTween),n.removeAttribute("style"),e()}})}}class he{constructor(e){this.content=e,this.$article=null,this.$dateAll=null,this.$dateBar=null,this.$tagAll=null,this.$blockAll=null,this.dateName=".jsTrans_date",this.dateBarName=".jsTrans_date_bar",this.tagName=".jsTrans_tag",this.blockName=".jsTrans_block"}set(){this.$article=this.content.querySelector(".pJournal_single_article"),this.$dateBar=this.$article.querySelectorAll(this.dateBarName),this.$dateAll=this.$article.querySelectorAll(this.dateName),this.$tagAll=this.$article.querySelectorAll(this.tagName),this.$blockAll=this.$article.querySelectorAll(this.blockName),l.a.set(this.$dateBar,{scaleX:1,opacity:0,y:.03125*window.innerWidth}),l.a.set(this.$dateAll,{y:"100%",rotationX:-30,force3D:!0}),l.a.set(this.$tagAll,{y:"100%",opacity:0,force3D:!0}),l.a.set(this.$blockAll,{opacity:0})}run(){l.a.to(this.$dateBar,.6,{opacity:1,ease:"linear.inOut"}),l.a.to(this.$dateBar,1.25,{y:0,force3D:!0,ease:"expo.out"}),l.a.to(this.$dateBar,1.25,{delay:.2,scaleX:.065,force3D:!0,ease:"quart.inOut"}),[].forEach.call(this.$dateAll,(e,t)=>{l.a.to(e,1.65,{delay:.7+.05*t,y:"0%",rotationX:0,force3D:!0,ease:"expo.out"})}),[].forEach.call(this.$tagAll,(e,t)=>{l.a.set(e,{opacity:1}),l.a.to(e,1.45,{delay:.5+.05*t,y:"0%",force3D:!0,ease:"expo.out"})}),[].forEach.call(this.$blockAll,(e,t)=>{l.a.to(e,.6,{delay:.575+.075*t,opacity:1,ease:"linear.inOut"})})}clear(){}}class ue{constructor(e){this.content=e,this.transitionSecTitle=null,this.transitionSecTitleText=null,this.transitionSecTitleLine=null,this.transitionSecTitleName=".jsTrans_title_sec",this.transitionSecTitleTextName=".jsTrans_title_sec_text",this.transitionSecTitleLineName=".jsTrans_title_sec_line",this.isIn=!1,this.tweenTransitionSecTitleText=null,this.tweenTransitionSecTitleLineOpacity=null,this.tweenTransitionSecTitleLineTransform=null}set(){this.transitionSecTitle=this.content.querySelector(this.transitionSecTitleName),this.transitionSecTitleText=this.transitionSecTitle.querySelector(this.transitionSecTitleTextName),this.transitionSecTitleLine=this.transitionSecTitle.querySelector(this.transitionSecTitleLineName),l.a.set(this.transitionSecTitleText,{y:"100.5%",force3D:!0}),l.a.set(this.transitionSecTitleLine,{opacity:0,y:"100.5%",force3D:!0})}run(){M.add(P.raf.handler,()=>{P.IOReady&&this.transitionSecTitle.classList.contains("is-in")&&!this.isIn&&(this.isIn=!0,this.in())},"secTitleAnimation")}in(){this.tweenTransitionSecTitleText=l.a.to(this.transitionSecTitleText,1.45,{y:"0%",force3D:!0,ease:"expo.out",delay:.1,onComplete:()=>{T.clearTween(this.tweenTransitionSecTitleText),this.tweenTransitionSecTitleText=null,this.transitionSecTitleText.style.transform=""}}),this.tweenTransitionSecTitleLineOpacity=l.a.to(this.transitionSecTitleLine,.6,{opacity:1,force3D:!0,onComplete:()=>{T.clearTween(this.tweenTransitionSecTitleLineOpacity),this.tweenTransitionSecTitleLineOpacity=null,this.transitionSecTitleLine.style.opacity=""}}),this.tweenTransitionSecTitleLineTransform=l.a.to(this.transitionSecTitleLine,1.2,{y:0,force3D:!0,ease:"expo.out",onComplete:()=>{T.clearTween(this.tweenTransitionSecTitleLineTransform),this.tweenTransitionSecTitleLineTransform=null,this.transitionSecTitleLine.style.transform=""}})}clear(){M.remove(P.raf.handler,"secTitleAnimation")}}class ce{constructor(e){this.content=document.getElementById("appContents"),this.transitionTitleSubAll=null,this.transitionTitleAll=null,this.transitionTitleChildrenAll=null,this.transitionArrowAll=null,this.transitionBtnTextAll=null,this.transitionBtnLineAll=null,this.transitionBtnIconAll=null}set(){this.transitionTitleSubAll=this.content.querySelectorAll(".jsTrans_title_sub"),this.transitionTitleAll=this.content.querySelectorAll(".jsTrans_title"),this.transitionTitleChildrenAll=this.content.querySelectorAll(".jsSplit_in"),this.transitionArrowAll=this.content.querySelectorAll(".jsTrans_arrow"),this.transitionBtnTextAll=this.content.querySelectorAll(".jsTrans_btn_text"),this.transitionBtnLineAll=this.content.querySelectorAll(".jsTrans_btn_line"),this.transitionBtnIconAll=this.content.querySelectorAll(".jsTrans_btn_icon"),this.transitionOpacityAll=this.content.querySelectorAll(".jsTransition_opacity"),l.a.set(this.transitionTitleAll,{y:"100%",rotationX:-30,force3D:!0}),l.a.set(this.transitionTitleSubAll,{y:"100%",force3D:!0}),this.transitionBtnTextAll&&this.transitionBtnTextAll.length&&l.a.set(this.transitionBtnTextAll,{y:"100%",force3D:!0}),this.transitionArrowAll&&this.transitionArrowAll.length&&l.a.set(this.transitionArrowAll[0],{opacity:0}),this.transitionBtnLineAll&&this.transitionBtnLineAll.length&&l.a.set(this.transitionBtnLineAll,{y:.015625*window.innerWidth,opacity:0,force3D:!0}),this.transitionBtnIconAll&&this.transitionBtnIconAll.length&&(l.a.set(this.transitionBtnIconAll[0],{x:"-75%",scaleX:0,force3D:!0}),l.a.set(this.transitionBtnIconAll[1],{y:"75%",scaleX:0,force3D:!0}),l.a.set(this.transitionBtnIconAll[2],{x:"-75%",scaleX:0,force3D:!0}),l.a.set(this.transitionBtnIconAll[3],{y:"75%",scaleX:0,force3D:!0})),this.transitionOpacityAll&&this.transitionOpacityAll.length&&l.a.set(this.transitionOpacityAll,{opacity:0})}run(){[].forEach.call(this.transitionTitleSubAll,(e,t)=>{l.a.to(e,1.5,{delay:.075*t+.275,y:"0%",ease:"expo.out",force3D:!0,onComplete:()=>{e.style.transform="",e.removeAttribute("style")}})}),[].forEach.call(this.transitionTitleAll,(e,t)=>{l.a.to(e,1.5,{delay:.075*t+.075+.275,y:"0%",rotationX:0,ease:"expo.out",force3D:!0,onComplete:()=>{e.style.transform="",e.removeAttribute("style")}})}),this.transitionArrowAll&&this.transitionArrowAll.length&&l.a.to(this.transitionArrowAll[0],1.25,{delay:.65,opacity:1,ease:"none",force3D:!0,onComplete:()=>{this.transitionArrowAll[0]&&this.transitionArrowAll[0].removeAttribute("style")}}),[].forEach.call(this.transitionBtnLineAll,e=>{l.a.to(e,.6,{delay:.525,ease:"linear.out",opacity:1}),l.a.to(e,1.5,{delay:.525,ease:"expo.out",y:0,force3D:!0,onComplete:()=>{e.removeAttribute("style")}})}),[].forEach.call(this.transitionBtnTextAll,(e,t)=>{l.a.to(e,1.45,{delay:.95+.05*t+.275,y:"0%",ease:"expo.out",force3D:!0,onComplete:()=>{e.style.opacity=""}})}),[].forEach.call(this.transitionBtnIconAll,(e,t)=>{l.a.to(e,1.45,{delay:1+.1*t+.275,ease:"expo.out",x:"0%",y:"0%",scaleX:1,force3D:!0,onComplete:()=>{e.removeAttribute("style")}})}),this.transitionOpacityAll&&this.transitionOpacityAll.length&&[].forEach.call(this.transitionOpacityAll,(e,t)=>{l.a.to(e,1.2,{delay:1+.1*t+.275,opacity:1,onComplete:()=>{e.removeAttribute("style")}})})}clear(){}}class me{constructor(e){this.content=e,this.listItemName=".pCollection_sec_list_item",this.thumbName=".pCollection_sec_list_card_thumb",this.$thumbAll=null,this.$listItemAll=null,this.isIn=[]}set(){OTHER||(this.$listItemAll=this.content.querySelectorAll(this.listItemName),this.$thumbAll=this.content.querySelectorAll(this.thumbName),[].forEach.call(this.$thumbAll,e=>{l.a.set(e,{opacity:0})}))}run(){OTHER||([].forEach.call(this.$listItemAll,(e,t)=>{this.isIn[t]=!1}),M.add(P.raf.handler,()=>{this.$listItemAll.forEach((e,t)=>{P.IOReady&&e.classList.contains("is-in")&&!this.isIn[t]&&(this.isIn[t]=!0,this.in(t))})},"listItemAll"))}in(e){const t=this.$listItemAll[e].querySelector(this.thumbName);l.a.to(t,.6,{delay:.75,opacity:1,ease:"none",onComplete:()=>{t.style.opacity=""}})}clear(){M.remove(P.raf.handler,"listItemAll")}}class de{constructor(){this.modalOpacityTween=null,this.containerTransformTween=null,this.textsTween=null,this.tagsTween=null,this.thumbsTween=null,this.bgsTween=null}willOpen(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelectorAll(".cModal_slide_left_text"),r=n.querySelectorAll(".cTag_card"),a=n.querySelectorAll(".cColor_list_bg"),h=n.querySelectorAll(".cColor_list_thumb");l.a.set(n,{opacity:0,force3D:!0}),l.a.set([o,r],{y:"100.5%",force3D:!0}),l.a.set([a,h],{scaleX:0,scaleY:0,force3D:!0}),e()}didOpen(e,t,i,s){const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cModal_slide_left_container"),r=n.querySelectorAll(".cModal_slide_left_text"),a=n.querySelectorAll(".cModal_filter_dl_block");this.textsTween=this.textsTween||[],this.tagsTween=this.tagsTween||[],this.bgsTween=this.bgsTween||[],this.thumbsTween=this.thumbsTween||[],T.clearTween(this.modalOpacityTween),T.clearTween(this.containerTransformTween),this.modalOpacityTween=l.a.to(n,.3,{opacity:1,force3D:!0,ease:"none",onComplete:()=>{n.removeAttribute("style"),document.documentElement.classList.remove("is-wait"),e()}}),OTHER&&!SAFARI&&(this.containerTransformTween=l.a.fromTo(o,{x:"15%",z:-20,rotationY:2.5,transformOrigin:"top left",force3D:!0},{x:"0%",z:0,rotationY:0,force3D:!0,ease:"expo.out",duration:1.15})),[].forEach.call(r,(e,t)=>{T.clearTween(this.textsTween[t]),this.textsTween[t]=l.a.fromTo(e,{y:"100.05%",force3D:!0},{y:"0%",force3D:!0,ease:"quart.out",duration:1.1,delay:.3+.03*t,onComplete:()=>{e.removeAttribute("style")}})}),[].forEach.call(a,(e,t)=>{const i=e.querySelectorAll(".cTag_card"),s=e.querySelectorAll(".cColor_list_bg"),n=e.querySelectorAll(".cColor_list_thumb");this.tagsTween[t]=this.tagsTween[t]||[],this.bgsTween[t]=this.bgsTween[t]||[],this.thumbsTween[t]=this.thumbsTween[t]||[],[].forEach.call(s,(e,i)=>{T.clearTween(this.bgsTween[t][i]),this.bgsTween[t][i]=l.a.fromTo(e,{scaleX:0,scaleY:0,force3D:!0},{scaleX:1,scaleY:1,force3D:!0,ease:"expo.out",duration:1.15,delay:.33+.03*t+.03*i,onComplete:()=>{e.removeAttribute("style")}})}),[].forEach.call(n,(e,i)=>{T.clearTween(this.thumbsTween[t][i]),this.thumbsTween[t][i]=l.a.fromTo(e,{scaleX:0,scaleY:0,force3D:!0},{scaleX:1,scaleY:1,force3D:!0,ease:"expo.out",duration:1.15,delay:.525+.03*t+.03*i,onComplete:()=>{e.style.transform=""}})}),[].forEach.call(i,(e,i)=>{T.clearTween(this.tagsTween[t][i]),this.tagsTween[t][i]=l.a.fromTo(e,{y:"100.05%",force3D:!0},{y:"0%",force3D:!0,ease:"expo.out",duration:1.2,delay:.35+.03*t+.015*i,onComplete:()=>{e.removeAttribute("style")}})})})}willClose(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']");T.clearTween(this.modalOpacityTween),this.modalOpacityTween=l.a.to(n,.3,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{document.documentElement.classList.remove("is-wait"),n.removeAttribute("style"),e()}})}}class pe{constructor(){this.modalOpacityTween=null,this.barTween=null,this.containerTransformTween=null,this.textsTween=[]}willOpen(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelectorAll(".cModal_nav_text");l.a.set(n,{opacity:0,force3D:!0}),l.a.set(o,{y:"100%",opacity:0,force3D:!0}),e()}didOpen(e,t,i,s){const n=document.querySelector("[data-modal-target='"+s+"']"),o=(n.querySelector(".cScl_bar_sort"),n.querySelector(".cModal_slide_right_container")),r=n.querySelectorAll(".cModal_nav_text");this.modalSortTextsTween=this.modalSortTextsTween||[],T.clearTween(this.barTween),T.clearTween(this.modalOpacityTween),T.clearTween(this.containerTransformTween),this.modalOpacityTween=l.a.to(n,.25,{opacity:1,ease:"none",force3D:!0,onComplete:()=>{document.documentElement.classList.remove("is-wait"),n.removeAttribute("style"),e()}}),OTHER&&!SAFARI&&(this.containerTransformTween=l.a.fromTo(o,{x:"-20%",z:-20,rotationY:-2.5,transformOrigin:"top right",force3D:!0},{x:"0%",z:0,rotationY:0,force3D:!0,ease:"expo.out",duration:1.15,onComplete:()=>{o.removeAttribute("style")}})),[].forEach.call(r,(e,t)=>{T.clearTween(this.textsTween[t]),this.textsTween[t]=l.a.fromTo(e,{y:"100.05%",opacity:1,force3D:!0},{y:"0%",force3D:!0,duration:1.1,delay:.2+.03*t,ease:"quart.out"})})}willClose(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelectorAll(".cModal_nav_text");T.clearTween(this.modalOpacityTween),this.modalOpacityTween=l.a.to(n,.3,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{document.documentElement.classList.remove("is-wait"),n.removeAttribute("style"),T.clearTween(this.modalOpacityTween),[].forEach.call(o,(e,t)=>{T.clearTween(this.textsTween[t])}),e()}})}}class ve{constructor(){this.modalOpacityTween=null,this.textsTween=null}willOpen(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelectorAll(".cModal_nav_text");l.a.set(n,{opacity:0,force3D:!0}),l.a.set(o,{y:"100%",rotationX:-60,opacity:0,transformOrigin:"top left",force3D:!0}),e()}didOpen(e,t,i,s){const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelectorAll(".cModal_nav_text");T.clearTween(this.modalOpacityTween),this.textsTween=this.textsTween||[],this.modalOpacityTween=l.a.to(n,.4,{opacity:1,ease:"none",onComplete:()=>{n.removeAttribute("style"),document.documentElement.classList.remove("is-wait"),e()}}),[].forEach.call(o,(e,t)=>{T.clearTween(this.textsTween[t]),this.textsTween[t]=l.a.fromTo(e,{y:"100.05%",rotationX:-60,opacity:1,force3D:!0},{y:"0%",rotationX:0,force3D:!0,ease:"expo.out",duration:1.2,delay:.05+.03*t,onComplete:()=>{e.style.transform="",e.style.transformOrigin="",e.removeAttribute("style")}})})}willClose(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']");T.clearTween(this.modalOpacityTween),this.modalOpacityTween=l.a.to(n,.4,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{T.clearTween(this.modalOpacityTween),n.removeAttribute("style"),document.documentElement.classList.remove("is-wait"),e()}})}}class ge{constructor(e={containerName:".jsSlide_container",nextTriggerName:".jsSlide_next",prevTriggerName:".jsSlide_prev",listItemName:".jsSlide_img_item",isChangeBlockHeight:!1,beforeChangeFunction:()=>{},afterChangeFunction:()=>{}}){this.containerName=e.containerName,this.nextTriggerName=e.nextTriggerName,this.prevTriggerName=e.prevTriggerName,this.listItemName=e.listItemName,this.isChangeBlockHeight=e.isChangeBlockHeight||!1,this.beforeChangeFunction=e.beforeChangeFunction,this.afterChangeFunction=e.afterChangeFunction,this.$content=null,this.$container=null,this.$nextTrigger=null,this.$prevTrigger=null,this.$listItemAll=null,this.slideLength=0,this.state={prev:0,current:0,next:0},this.keyCode={left:37,right:39},this.currentTween=null,this.toTween=null,this.isAnimating=!1,this.canUseKeyFunc=!1,this.flickBorderLineTime=500,this.dnd=new j,this.draggingStartTime=0,this.isScrolling=!1,this.touches={startX:0,startY:0,currentX:0,currentY:0,diffX:0,diffY:0},this.pos={x:0,y:0,now:{x:0,y:0}},this.mousePosition={down:{x:0,y:0},up:{x:0,y:0},diff:{x:0,y:0}}}init(e){this.$content=e,this.setSelector(),this.setSliderLength(),this.setCurrent(),this.setEventListener(),this.onResize()}setSelector(){this.$container=this.$content.querySelector(this.containerName),this.$nextTrigger=this.$content.querySelector(this.nextTriggerName),this.$prevTrigger=this.$content.querySelector(this.prevTriggerName),this.$listItemAll=this.$content.querySelectorAll(this.listItemName)}setSliderLength(){this.slideLength=this.$listItemAll.length}setCurrent(e=0){this.state.prev=e<=0?this.slideLength-1:e-1,this.state.current=e,this.state.next=(e+1)%this.slideLength}setEventListener(){this.nextClickFunction=()=>{this.onClickNext()},this.prevClickFunction=()=>{this.onClickPrev()},this.keyDownFunction=e=>{this.onKeyDown(e)},this.$nextTrigger.addEventListener("click",this.nextClickFunction.bind(this),!1),this.$prevTrigger.addEventListener("click",this.prevClickFunction.bind(this),!1),window.addEventListener("keydown",this.keyDownFunction,!1),(MOBILE||TABLET)&&(this.dnd.init(this.$container),M.add(this.dnd.hadnler.touchStart,(e,t)=>{this.onTouchStart(e,t)},this.containerName+"touchStart"),M.add(this.dnd.hadnler.touchMove,(e,t)=>{this.onTouchMove(e,t)},this.containerName+"touchMove"),M.add(this.dnd.hadnler.touchEnd,(e,t)=>{this.onTouchEnd(e,t)},this.containerName+"touchEnd"))}onTouchStart(e){if(e.targetTouches&&e.targetTouches[0]){let t;e.touches?(t=e.targetTouches[0],this.touches.startX=t.pageX,this.touches.startY=t.pageY):(this.touches.startX=e.pageX,this.touches.startY=e.pageY)}else this.touches.startX=e.pageX||0,this.touches.startY=e.pageY||0;this.mousePosition.down=this.setPosition(e,this.mousePosition.down),this.draggingStartTime=e.timeStamp}onTouchMove(e,t){if(e&&(this.touches.diffX=t.move.x-t.start.x,this.touches.diffY=t.move.y-t.start.y,this.touches.diffX*this.touches.diffX+this.touches.diffY*this.touches.diffY>=25)){b.radToDeg(Math.atan2(Math.abs(this.touches.diffY),Math.abs(this.touches.diffX)))<=45?(e.cancelable&&e.preventDefault(),this.isScrolling=!1,this.dnd.canMove=!0):(this.isScrolling=!0,this.dnd.canMove=!1)}this.isDraginggContainer=!0,this.$cover&&(this.$cover.style.pointerEvents="all")}async onTouchEnd(e){this.dnd.canMove=!0,this.mousePosition.up=this.setPosition(e,this.mousePosition.up),this.mousePosition.diff.x=this.mousePosition.up.x-this.mousePosition.down.x,this.mousePosition.diff.y=this.mousePosition.up.y-this.mousePosition.down.y,this.isScrolling||this.checkIsFlicked(e.timeStamp-this.draggingStartTime)&&await this.onFlick()}async onFlick(){Math.abs(this.mousePosition.diff.x)>5&&(this.mousePosition.diff.x>0?await this.onClickPrev():await this.onClickNext())}checkIsFlicked(e){return e<this.flickBorderLineTime}setPosition(e,t){return e.changedTouches&&e.changedTouches.length&&e.changedTouches[0]?(t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}async onKeyDown(e){this.canUseKeyFunc&&(this.isAnimating||(e.keyCode===this.keyCode.right&&(this.setCurrent((this.state.current+1)%this.slideLength),await this.animation(this.state.prev,this.state.current,"next")),e.keyCode===this.keyCode.left&&(this.setCurrent((this.state.current+1)%this.slideLength),await this.animation(this.state.prev,this.state.current,"prev"))))}async onClickNext(){this.isAnimating||(this.setCurrent((this.state.current+1)%this.slideLength),await this.animation(this.state.prev,this.state.current,"next"))}async onClickPrev(){this.isAnimating||(this.state.current<=0?this.setCurrent(this.slideLength-1):this.setCurrent(this.state.current-1),await this.animation(this.state.next,this.state.current,"prev"))}async animation(e,t,i){this.isAnimating=!0,T.clearTween(this.currentTween),T.clearTween(this.toTween),this.$listItemAll[e].style.pointerEvents="none",this.isChangeBlockHeight&&this.changeBlockHeight(t,0),await new Promise(i=>{this.currentTween=l.a.fromTo(this.$listItemAll[e],{opacity:1},{opacity:0,ease:"none",duration:.45}),this.$listItemAll[t].style.pointerEvents="all",this.toTween=l.a.fromTo(this.$listItemAll[t],{opacity:0},{opacity:1,ease:"none",duration:.45,onComplete:()=>{i(),this.isAnimating=!1}})})}changeBlockHeight(e,t,i=!1){[].forEach.call(this.$listItemAll,(s,n)=>{n===e&&l.a.to(this.$container,t,{height:s.clientHeight,ease:"quart.inOut",onComplete:()=>{this.$container.style.transform="",i||P.rsz.setResize()}})})}onResize(e=!0){this.isChangeBlockHeight&&this.changeBlockHeight(this.state.current,0,e)}destroy(){this.clearEventListener()}clearEventListener(){this.$nextTrigger.removeEventListener("click",this.nextClickFunction),this.$prevTrigger.removeEventListener("click",this.prevClickFunction),window.removeEventListener("keydown",this.keyDownFunction),(MOBILE||TABLET)&&(M.remove(this.dnd.hadnler.touchStart,this.containerName+"touchStart"),M.remove(this.dnd.hadnler.touchMove,this.containerName+"touchMove"),M.remove(this.dnd.hadnler.touchEnd,this.containerName+"touchEnd"),this.dnd.destroy())}}class fe{constructor(){this.$favorite=null,this.onClickFunction=null}init(e){this.$favorite=e.querySelector(".jsFavorite"),this.onClickFunction=this._onClick.bind(this),this.$favorite.addEventListener("click",this.onClickFunction,!1)}_onClick(e){const t=e.currentTarget,i=t.dataset.id;if(t.classList.contains("-active")){this.delete(i)&&t.classList.remove("-active")}else{this.save(i)&&t.classList.add("-active")}}get(){let e=z.a.get("favorites");return e||(e=""),e}save(e){if(this.inFavorites(e))return!1;{let t=this.get();return t+=e+",",z.a.set("favorites",t),!0}}delete(e){let t=!1,i=this.get();i=i.split(",");for(let s=0;s<i.length;s++){e==i[s]&&(i.splice(s,1),t=!0)}return!!t&&(i=i.join(","),z.a.set("favorites",i),!0)}inFavorites(e){let t=this.get();t=t.split(",");for(let i=0;i<t.length;i++){if(e==t[i])return!0}return!1}destroy(){this.$favorite.removeEventListener("click",this.onClickFunction,!1)}}class ye{constructor(e){this.content=e,this.tagAll=null,this.titleAll=null,this.colorBgAll=null,this.colorAll=null,this.btn1=null,this.btn1Cover=null,this.descriptionAll=null,this.btn2All=null,this.cardBgAll=null,this.cardThumbAll=null,this.btn2TextName=".jsTrans_btn_2_text",this.btn2IconName=".jsTrans_btn_2_icon",this.btn2LineName=".jsTrans_btn_2_line"}set(){this.imgMain=this.content.querySelector(".jsTrans_main_img"),this.imgBgMain=this.content.querySelector(".jsTrans_main_img_bg"),this.tagAll=this.content.querySelectorAll(".jsTrans_tag"),this.titleAll=this.content.querySelectorAll(".jsTrans_title"),this.colorBgAll=this.content.querySelectorAll(".jsTrans_color_bg"),this.colorAll=this.content.querySelectorAll(".jsTrans_color"),this.btn1=this.content.querySelector(".jsTrans_btn_1"),this.btn1Cover=this.content.querySelector(".jsTrans_btn_1_cover"),this.descriptionAll=this.content.querySelectorAll(".jsTrans_description"),this.btn2All=this.content.querySelectorAll(".jsTrans_btn_2"),this.cardBgAll=document.querySelectorAll(".jsTrans_card_bg"),this.cardThumbAll=document.querySelectorAll(".jsTrans_card_thumb"),l.a.set(this.imgMain,{scale:1.15,opacity:0,force3D:!0}),l.a.set(this.imgBgMain,{opacity:0,force3D:!0}),this.tagAll&&l.a.set(this.tagAll,{y:"100.05%",opacity:0,force3D:!0}),this.titleAll&&l.a.set(this.titleAll,{y:"100.05%",force3D:!0}),this.colorBgAll&&l.a.set(this.colorBgAll,{scaleX:0,scaleY:0,force3D:!0}),this.colorBgAll&&l.a.set(this.colorAll,{scaleX:0,scaleY:0,force3D:!0}),l.a.set(this.btn1,{opacity:0,y:"100%",force3D:!0}),l.a.set(this.descriptionAll,{opacity:0,y:.03125*window.innerWidth*.5,force3D:!0}),[].forEach.call(this.btn2All,(e,t)=>{const i=e.querySelectorAll(this.btn2TextName),s=e.querySelectorAll(this.btn2IconName),n=e.querySelector(this.btn2LineName);l.a.set(i,{y:"100%",force3D:!0}),l.a.set(s[0],{x:"-30%",scaleX:0,force3D:!0}),l.a.set(s[1],{y:"30%",scaleY:0,force3D:!0}),l.a.set(n,{y:.03125*window.innerWidth*.5,opacity:0,force3D:!0})}),this.cardBgAll&&l.a.set(this.cardBgAll,{opacity:0,scaleX:.25,scaleY:.25,force3D:!0}),this.cardThumbAll&&l.a.set(this.cardThumbAll,{opacity:0,scaleX:1.15,scaleY:1.15,force3D:!0})}run(){P.bGl.tlMesh&&P.bGl.tlMesh[0]&&l.a.to(P.bGl.tlMesh[0].uniforms.uFade,.6,{value:1,ease:"none",delay:.2+.1}),l.a.to(this.imgMain,.6,{opacity:1,ease:"none",force3D:!0,delay:.2}),l.a.to(this.imgMain,1.45,{scale:1,delay:.2,ease:"expo.out",force3D:!0}),l.a.to(this.imgBgMain,.6,{opacity:1,ease:"none",force3D:!0,delay:.2}),[].forEach.call(this.tagAll,(e,t)=>{l.a.set(e,{delay:.2,opacity:1,onComplete:()=>{e.style.opacity=""}}),l.a.to(e,1.45,{delay:.075*t+.2,y:"0%",force3D:!0,ease:"expo.out",onComplete:()=>{e.removeAttribute("style")}})}),[].forEach.call(this.titleAll,(e,t)=>{l.a.to(e,1.6,{delay:.1+.1*t+.2,y:"0%",force3D:!0,ease:"expo.out",onComplete:()=>{e.removeAttribute("style")}})}),[].forEach.call(this.colorBgAll,(e,t)=>{l.a.to(e,1.25,{delay:.25+.075*t+.2,scaleX:1,scaleY:1,force3D:!0,ease:"expo.out",onComplete:()=>{e.removeAttribute("style")}})}),[].forEach.call(this.colorAll,(e,t)=>{l.a.to(e,1.25,{delay:.45+.075*t+.2,scaleX:1,scaleY:1,force3D:!0,ease:"expo.out",onComplete:()=>{e.style.transform=""}})}),l.a.to(this.btn1,1.25,{delay:.2,opacity:1,onComplete:()=>{this.btn1.style.opacity=""}}),l.a.to(this.btn1,1.25,{delay:.2,y:0,force3D:!0,ease:"expo.out",onComplete:()=>{this.btn1.removeAttribute("style")}}),l.a.to(this.btn1Cover,1.25,{delay:1,scaleY:0,force3D:!0,ease:"expo.inOut"}),[].forEach.call(this.descriptionAll,(e,t)=>{l.a.to(e,.6,{delay:.625+.075*t+.2,opacity:1,ease:"linear.inOut",onComplete:()=>{e.style.opacity=""}}),l.a.to(e,1.45,{delay:.625+.075*t+.2,y:0,force3D:!0,ease:"expo.out",onComplete:()=>{e.removeAttribute("style")}})}),[].forEach.call(this.btn2All,(e,t)=>{const i=e.querySelectorAll(this.btn2TextName),s=e.querySelectorAll(this.btn2IconName),n=e.querySelector(this.btn2LineName),o=.075*t;l.a.to(n,.6,{delay:.775+o+.2,opacity:1,ease:"linear.inOut",onComplete:()=>{n.style.opacity=""}}),l.a.to(n,1.5,{delay:.775+o+.2,y:0,force3D:!0,ease:"expo.out",onComplete:()=>{n.removeAttribute("style")}}),[].forEach.call(i,(e,t)=>{l.a.to(e,1.45,{delay:1.525+.075*t+o+.2,y:"0%",force3D:!0,ease:"expo.out",onComplete:()=>{e.removeAttribute("style")}})}),l.a.to(s[0],1.45,{delay:1.575+o+.2,x:"0%",scaleX:1,force3D:!0,ease:"expo.out",onComplete:()=>{s[0].removeAttribute("style")}}),l.a.to(s[1],1.45,{delay:1.675+o+.2,y:"0%",scaleY:1,force3D:!0,ease:"expo.out",onComplete:()=>{s[1].removeAttribute("style")}})});let e=767>=window.innerWidth,t=e?0:.9,i=e?.25:1.275;[].forEach.call(this.cardBgAll,(e,i)=>{l.a.to(e,.6,{delay:t+.0975*i+.2,opacity:1,force3D:!0,ease:"linear.inOut",onComplete:()=>{e.style.opacity=""}}),l.a.to(e,1.45,{delay:t+.0975*i+.2,scaleX:1,scaleY:1,force3D:!0,ease:"expo.out",onComplete:()=>{e.removeAttribute("style")}})}),[].forEach.call(this.cardThumbAll,(e,t)=>{l.a.to(e,1.25,{delay:i+.0975*t+.2,opacity:1,onComplete:()=>{e.style.opacity=""}}),l.a.to(e,1.45,{delay:i+.0975*t+.2,scaleX:1,scaleY:1,force3D:!0,ease:"expo.out"})})}clear(){}}class we{constructor(e){this.content=e,this.title=null,this.titleText=null,this.titleLine=null,this.titleBtnText=null,this.titleBtnLine=null,this.titleName=".jsTrans_title_review",this.titleTextName=".jsTrans_title_review_text",this.titleLineName=".jsTrans_title_review_line",this.titleBtnTextName=".jsTrans_title_review_btn_text",this.titleBtnLineName=".jsTrans_title_review_btn_line",this.titleBtnTextTween=null,this.titleBtnLineTween=null,this.isIn=!1}set(){this.title=this.content.querySelector(this.titleName),this.titleText=this.title.querySelector(this.titleTextName),this.titleLine=this.title.querySelector(this.titleLineName),this.titleBtnText=this.title.querySelector(this.titleBtnTextName),this.titleBtnLine=this.title.querySelector(this.titleBtnLineName),l.a.set(this.titleText,{y:"100%",force3D:!0}),l.a.set(this.titleLine,{scaleX:0,force3D:!0}),l.a.set(this.titleBtnText,{y:"100%",force3D:!0}),l.a.set(this.titleBtnLine,{y:.03125*window.innerWidth*.5,opacity:0,force3D:!0})}run(){M.add(P.raf.handler,()=>{P.IOReady&&this.title.classList.contains("is-in")&&!this.isIn&&(this.isIn=!0,this.in())},"ReviewTitle")}in(){l.a.to(this.titleText,1.5,{y:"0%",force3D:!0,delay:.2,ease:"expo.out",onComplete:()=>{this.titleText&&this.titleText.removeAttribute("style")}}),l.a.to(this.titleLine,1.2,{scaleX:1,force3D:!0,delay:.2-.125,ease:"quart.inOut",onComplete:()=>{this.titleLine&&this.titleLine.removeAttribute("style")}}),l.a.to(this.titleBtnText,1.4,{y:"0%",force3D:!0,delay:.675,ease:"expo.out",onComplete:()=>{this.titleBtnText&&this.titleBtnText.removeAttribute("style")}}),l.a.to(this.titleBtnLine,.6,{opacity:1,delay:.625,ease:"linear.out"}),l.a.to(this.titleBtnLine,1.2,{y:0,delay:.625,force3D:!0,ease:"expo.out",onComplete:()=>{this.titleBtnLine&&this.titleBtnLine.removeAttribute("style")}})}clear(){M.remove(P.raf.handler,"ReviewTitle")}}class Te{constructor(e){this.content=e,this.discriptionAll=null,this.discriptionName=".jsTrans_description_review",this.isIn=[]}set(){this.discriptionAll=this.content.querySelectorAll(this.discriptionName),l.a.set(this.discriptionAll,{y:.03125*window.innerWidth*.5,opacity:0})}run(){this.discriptionAll.forEach((e,t)=>{this.isIn[t]=!1}),M.add(P.raf.handler,()=>{this.discriptionAll.forEach((e,t)=>{P.IOReady&&e.classList.contains("is-in")&&!this.isIn[t]&&(this.isIn[t]=!0,this.in(t))})},"ReviewDescription")}in(e){l.a.to(this.discriptionAll[e],.7,{opacity:1,ease:"linear.inOut",delay:.125}),l.a.to(this.discriptionAll[e],1.2,{y:0,ease:"expo.out",force3D:!0,delay:.125,onComplete:()=>{this.discriptionAll[e].removeAttribute("style")}})}clear(){M.remove(P.raf.handler,"ReviewDescription")}}class xe{constructor(e){this.content=e,this.listAll=null,this.listHeadAll=null,this.listBodyAll=null,this.listLineAll=null,this.listName=".jsTrans_review_list",this.listHeadName=".jsTrans_review_list_head",this.listBodyName=".jsTrans_review_list_body",this.listLineName=".jsTrans_review_list_line",this.isIn=[]}set(){this.listAll=this.content.querySelectorAll(this.listName),this.listHeadAll=this.content.querySelectorAll(this.listHeadName),this.listBodyAll=this.content.querySelectorAll(this.listBodyName),this.listLineAll=this.content.querySelectorAll(this.listLineName),l.a.set(this.listHeadAll,{y:"100%",force3D:!0}),l.a.set(this.listBodyAll,{y:"100%",force3D:!0}),l.a.set(this.listLineAll,{y:.03125*window.innerWidth*.5,opacity:0,force3D:!0})}run(){this.listAll.forEach((e,t)=>{this.isIn[t]=!1}),M.add(P.raf.handler,()=>{this.listAll.forEach((e,t)=>{P.IOReady&&e.classList.contains("is-in")&&!this.isIn[t]&&(this.isIn[t]=!0,this.in(t))})},"ReviewList")}in(e){const t=this.listAll[e],i=t.querySelectorAll(this.listHeadName),s=t.querySelectorAll(this.listBodyName),n=t.querySelectorAll(this.listLineName);[].forEach.call(i,(e,t)=>{l.a.to(e,1.45,{y:"0%",force3D:!0,ease:"expo.out",delay:.125*t+.25+.25,onComplete:()=>{e.removeAttribute("style")}})}),[].forEach.call(s,(e,t)=>{l.a.to(e,1.45,{y:"0%",force3D:!0,ease:"expo.out",delay:.125*t+.25+.25,onComplete:()=>{e.removeAttribute("style")}})}),[].forEach.call(n,(e,t)=>{l.a.to(e,.75,{opacity:1,ease:"linear.out",delay:.125*t+.25}),l.a.to(e,1.4,{y:"0%",force3D:!0,ease:"expo.out",delay:.125*t+.25,onComplete:()=>{e.removeAttribute("style")}})})}clear(){M.remove(P.raf.handler,"ReviewList")}}class Se{constructor(e){this.content=e,this.title=null,this.titleTextAll=null,this.titleBtnText=null,this.titleBtnLine=null,this.titleName=".jsTrans_title_info",this.titleTextName=".jsTrans_title_info_text",this.titleBtnTextName=".jsTrans_title_info_btn_text",this.titleBtnLineName=".jsTrans_title_info_btn_line",this.isIn=!1}set(){this.title=this.content.querySelector(this.titleName),this.titleTextAll=this.title.querySelectorAll(this.titleTextName),this.titleBtnText=this.title.querySelector(this.titleBtnTextName),this.titleBtnLine=this.title.querySelector(this.titleBtnLineName),this.titleTextAll&&l.a.set(this.titleTextAll,{y:"100%",force3D:!0}),this.titleBtnText&&l.a.set(this.titleBtnText,{y:"100%",force3D:!0}),this.titleBtnLine&&l.a.set(this.titleBtnLine,{opacity:0,y:.03125*window.innerWidth*.5,force3D:!0})}run(){M.add(P.raf.handler,()=>{P.IOReady&&this.title.classList.contains("is-in")&&!this.isIn&&(this.isIn=!0,this.in())},"InfoTitle")}in(){[].forEach.call(this.titleTextAll,(e,t)=>{l.a.to(e,1.4,{y:"0%",force3D:!0,delay:.075*t+.125,ease:"expo.out",onComplete:()=>{e.removeAttribute("style")}})}),this.titleBtnText&&l.a.to(this.titleBtnText,1.3,{y:"0%",force3D:!0,delay:.4,ease:"expo.out",onComplete:()=>{this.titleBtnText.removeAttribute("style")}}),this.titleBtnLine&&(l.a.to(this.titleBtnLine,.6,{opacity:1,delay:.325,y:.03125*window.innerWidth*.5,force3D:!0,ease:"linear.out"}),l.a.to(this.titleBtnLine,1.3,{y:0,delay:.325,force3D:!0,ease:"expo.out",onComplete:()=>{this.titleBtnLine.removeAttribute("style")}}))}clear(){M.remove(P.raf.handler,"InfoTitle")}}class Me{constructor(e){this.content=e,this.listAll=null,this.listItemAll=null,this.listName=".jsTrans_info_list",this.listItemName=".jsTrans_info_list_item",this.isIn=[]}set(){this.listAll=this.content.querySelectorAll(this.listName),this.listItemAll=this.content.querySelectorAll(this.listItemName),l.a.set(this.listItemAll,{opacity:0,y:.03125*window.innerWidth,force3D:!0})}run(){this.listAll.forEach((e,t)=>{this.isIn[t]=!1}),M.add(P.raf.handler,()=>{this.listAll.forEach((e,t)=>{P.IOReady&&e.classList.contains("is-in")&&!this.isIn[t]&&(this.isIn[t]=!0,this.in(t))})},"InfoList")}in(e){const t=this.listAll[e].querySelectorAll(this.listItemName);[].forEach.call(t,(e,t)=>{l.a.to(e,.925,{opacity:1,delay:.09*t+.2,ease:"linear.inOut"}),l.a.to(e,1.25,{y:0,force3D:!0,delay:.09*t+.2,ease:"expo.out",onComplete:()=>{e.removeAttribute("style")}})})}clear(){M.remove(P.raf.handler,"InfoList")}}class be{constructor(e){this.content=e,this.title=null,this.titleText=null,this.titleLine=null,this.titleName=".jsTrans_title_recommend",this.titleTextName=".jsTrans_title_recommend_text",this.titleLineName=".jsTrans_title_recommend_line",this.titleTextTween=null,this.titleTextTween=null,this.titleLineTween=null,this.isIn=!1}set(){this.title=this.content.querySelector(this.titleName),this.titleText=this.title.querySelector(this.titleTextName),this.titleLine=this.title.querySelector(this.titleLineName),l.a.set(this.titleText,{y:"100%",force3D:!0}),l.a.set(this.titleLine,{y:.03125*window.innerWidth*2,opacity:0,force3D:!0})}run(){M.add(P.raf.handler,()=>{P.IOReady&&this.title.classList.contains("is-in")&&!this.isIn&&(this.isIn=!0,this.in())},"RecommendTitle")}in(){l.a.to(this.titleText,1.5,{y:"0%",force3D:!0,delay:.2,ease:"expo.out",onComplete:()=>{this.titleText.removeAttribute("style")}}),l.a.to(this.titleLine,.6,{opacity:1,delay:.1,ease:"linear.out"}),l.a.to(this.titleLine,1.2,{y:0,delay:.1,force3D:!0,ease:"expo.out",onComplete:()=>{this.titleLine.removeAttribute("style")}})}clear(){M.remove(P.raf.handler,"RecommendTitle")}}class Ae{constructor(e){this.collectionReviewSlider=e,this.modalOpacityTween=null,this.wrapperTween=null,this.titleTween=null,this.headTween=null,this.barTween=null,this.footTween=null,this.blockBodyTween=null}willOpen(e,t,i,s){document.documentElement.classList.add("is-wait");const n=i.modalTriggerReviewId,o=document.querySelectorAll("[data-modal-review-id]");let r="";this.collectionReviewSlider.setCurrent(Number(n)),[].forEach.call(o,e=>{e.dataset.modalReviewId!==n?(e.style.opacity=0,e.style.pointerEvents="none"):(r=e,e.style.opacity=1,e.style.pointerEvents="all")});const a=document.querySelector("[data-modal-target='"+s+"']"),h=a.querySelector(".cModal_review_wrapper"),u=r.querySelector(".cModal_review_title_text"),c=r.querySelector(".cModal_review_block_info_head_text"),m=r.querySelector(".cModal_review_block_info_bar"),d=r.querySelector(".cModal_review_block_info_foot_text");T.clearTween(this.titleTween),T.clearTween(this.headTween),T.clearTween(this.barTween),T.clearTween(this.footTween),T.clearTween(this.blockBodyTween),T.clearTween(this.wrapperTween),l.a.set(h,{transformOrigin:"top",force3D:!0}),l.a.set(a,{opacity:0,force3D:!0}),this.titleTween=l.a.set(u,{y:"100%",opacity:0,force3D:!0}),this.headTween=l.a.set(c,{y:"100%",opacity:0,force3D:!0}),this.footTween=l.a.set(d,{y:"100%",opacity:0,force3D:!0}),this.barTween=l.a.set(m,{scaleX:0,force3D:!0}),e()}didOpen(e,t,i,s){const n=i.modalTriggerReviewId,o=document.querySelectorAll("[data-modal-review-id]");let r="";this.collectionReviewSlider.onResize(),[].forEach.call(o,e=>{e.dataset.modalReviewId!==n||(r=e)});const a=document.querySelector("[data-modal-target='"+s+"']"),h=a.querySelector(".cModal_review_wrapper"),u=a.querySelector(".cScl_bar_review"),c=r.querySelector(".cModal_review_title_text"),m=r.querySelector(".cModal_review_block_info_head_text"),d=r.querySelector(".cModal_review_block_info_bar"),p=r.querySelector(".cModal_review_block_info_foot_text"),v=r.querySelector(".cModal_review_block_body");T.clearTween(this.modalOpacityTween),this.modalOpacityTween=l.a.to(a,.25,{opacity:1,force3D:!0,ease:"none",onComplete:()=>{a.removeAttribute("style"),document.documentElement.classList.remove("is-wait"),e()}}),l.a.delayedCall(.75,()=>{this.collectionReviewSlider.onResize(!1)}),u&&l.a.fromTo(u,{transformOrigin:"right",scaleX:0,opacity:0,force3D:!0},{opacity:1,scaleX:1,force3D:!0,ease:"sine.out",duration:.275,delay:.95,onComplete:()=>{u.style.transformOrigin="",u.style.opacity="",u.removeAttribute("style")}}),OTHER&&!SAFARI&&(this.wrapperTween=l.a.fromTo(h,{y:"5%",z:-20,rotationX:-1.5,force3D:!0},{y:"0%",z:0,rotationX:0,force3D:!0,ease:"expo.out",duration:1.15,onComplete:()=>{h.removeAttribute("style")}})),this.titleTween=l.a.fromTo(c,{opacity:1},{y:"0%",force3D:!0,ease:"expo.out",duration:1.1,delay:.075,onComplete:()=>{c.removeAttribute("style")}}),this.headTween=l.a.fromTo(m,{opacity:1},{y:"0%",force3D:!0,ease:"expo.out",duration:1.1,delay:.105,onComplete:()=>{m.removeAttribute("style")}}),this.barTween=l.a.to(d,.8,{delay:.025,scaleX:1,ease:"quart.inOut",force3D:!0,onComplete:()=>{d.removeAttribute("style")}}),this.footTween=l.a.fromTo(p,{opacity:1},{y:"0%",ease:"expo.out",force3D:!0,duration:1.1,delay:.135,onComplete:()=>{p.removeAttribute("style")}}),this.blockBodyTween=l.a.to(v,1,{opacity:1,ease:"none",delay:.075+.09,onComplete:()=>{v.removeAttribute("style")}})}willClose(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']");T.clearTween(this.modalOpacityTween),this.modalOpacityTween=l.a.to(n,.4,{opacity:0,force3D:!0,ease:"none",onComplete:()=>{n.removeAttribute("style"),document.documentElement.classList.remove("is-wait");const t=document.querySelectorAll("[data-modal-review-id]");[].forEach.call(t,e=>{e.style.opacity=0,e.style.pointerEvents="none"}),e()}})}}class Ce{constructor(e){this.collectionImagesSlider=e,this.modalOpacityTween=null,this.wrapperTransformTween=null}willOpen(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cModal_images_wrapper");l.a.set(n,{opacity:0,force3D:!0}),OTHER&&!SAFARI&&l.a.set(o,{rotationX:-2,z:-30,y:"10%",transformOrigin:"top",force3D:!0});const r=i.modalTriggerImgId,a=document.querySelectorAll("[data-modal-img-id]");let h="";this.collectionImagesSlider.setCurrent(Number(r)),[].forEach.call(a,e=>{e.dataset.modalImgId!==r?(e.style.opacity=0,e.style.pointerEvents="none"):(h=e,e.style.opacity=1,e.style.pointerEvents="all")}),e()}didOpen(e,t,i,s){const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cModal_images_wrapper");T.clearTween(this.modalOpacityTween),T.clearTween(this.wrapperTransformTween),this.modalOpacityTween=l.a.to(n,.35,{opacity:1,force3D:!0,ease:"none",onComplete:()=>{n.removeAttribute("style"),document.documentElement.classList.remove("is-wait"),e()}}),OTHER&&!SAFARI&&(this.wrapperTransformTween=l.a.to(o,1.15,{rotationX:0,z:0,y:"0%",ease:"expo.out",force3D:!0,onComplete:()=>{o.removeAttribute("style")}}))}willClose(e,t,i,s){const n=document.querySelector("[data-modal-target='"+s+"']");T.clearTween(this.modalOpacityTween),this.modalOpacityTween=l.a.to(n,.35,{opacity:0,ease:"none",onComplete:()=>{n.removeAttribute("style"),T.clearTween(this.modalOpacityTween),document.documentElement.classList.remove("is-wait");const t=document.querySelectorAll("[data-modal-img-id]");[].forEach.call(t,e=>{e.style.opacity=0,e.style.pointerEvents="none",e.style.transform="",e.style.transformOrigin=""}),e()}})}}class _e{constructor(){this.bgOpacityTween=null,this.containerOpacityTween=null,this.closeTween=null}willOpen(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cModal_bg"),r=n.querySelector(".cModal_btn_close"),a=n.querySelector(".cModal_whats-review_container");l.a.set(r,{opacity:0,force3D:!0}),l.a.set(o,{opacity:0,force3D:!0}),l.a.set(a,{opacity:0,force3D:!0}),e()}didOpen(e,t,i,s){const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cModal_bg"),r=n.querySelector(".cModal_btn_close"),a=n.querySelector(".cModal_whats-review_container");T.clearTween(this.bgOpacityTween),T.clearTween(this.containerOpacityTween),T.clearTween(this.closeTween),this.closeTween=l.a.to(r,.25,{opacity:1,ease:"none",force3D:!0,onComplete:()=>{r.removeAttribute("style")}}),this.bgOpacityTween=l.a.to(o,.25,{opacity:1,ease:"none",force3D:!0,onComplete:()=>{P.rsz.setResize(),o.removeAttribute("style"),document.documentElement.classList.remove("is-wait"),e()}}),this.containerOpacityTween=l.a.to(a,.25,{opacity:1,ease:"none",force3D:!0,onComplete:()=>{a.removeAttribute("style")}})}willClose(e,t,i,s){document.documentElement.classList.add("is-wait");const n=document.querySelector("[data-modal-target='"+s+"']"),o=n.querySelector(".cModal_bg"),r=n.querySelector(".cModal_btn_close"),a=n.querySelector(".cModal_whats-review_container");T.clearTween(this.bgOpacityTween),T.clearTween(this.containerOpacityTween),T.clearTween(this.closeTween),this.bgOpacityTween=l.a.to(o,.25,{opacity:0,ease:"none",onComplete:()=>{document.documentElement.classList.remove("is-wait"),T.clearTween(this.bgOpacityTween),o.removeAttribute("style"),e()}}),this.closeTween=l.a.to(r,.25,{opacity:0,ease:"none",onComplete:()=>{r.removeAttribute("style"),T.clearTween(this.closeTween)}}),this.containerOpacityTween=l.a.to(a,.25,{opacity:0,ease:"none",onComplete:()=>{T.clearTween(this.containerOpacityTween),a.removeAttribute("style")}})}}var Ie={default:q,home:class extends q{constructor(e){super(e),this.journalListItemAnimation=new te(e),OTHER?this.modalInformationAnimation=new se(this.modal,e):(this.collectioItemAnimation=new ie(e),this.modalInformationAnimation=new ne(this.modal,e),this.elementRepeat=new ee,this.elementRepeat.init()),this.$linkAll=e.querySelectorAll(".jsSlider_card_link"),this.$collectionBtn=e.querySelector(".jsSlider_btn_detail"),this.homeFeaturedSliderController=null,this.homeMvSlider=null,this.$notice=null}viewDidLoad(){super.viewDidLoad(),this._setHomeMenu(),this._setHomeMvSlider()}viewWillAppear(e=!1){OTHER||M.add(P.raf.handler,()=>{this.elementRepeat.onUpdate()},"elementRepeat"),super.viewWillAppear(),OTHER&&this.homeMvSlider.start(),this.homeMvSlider.run(),l.a.delayedCall(e?.5:1,()=>{OTHER&&P.bGl.hmvtlMesh[0].startUpAnimation()})}viewDidAppear(){super.viewDidAppear(),this._setHomeInformationModal(),this._setHomeFeaturedSlider()}viewWillDisappear(){super.viewWillDisappear(),this.clearTransitionAnimation(),this.clearHomeInformationModal()}viewDidDisappear(){super.viewDidDisappear(),this.clearHomeMvSliderHandler(),OTHER||(this.elementRepeat.destroy(),M.remove(P.raf.handler,"elementRepeat")),this.$linkAll=null,this.$collectionBtn=null,this.homeMvSlider.destroy(),this.homeMvSlider=null,this.homeFeaturedSliderController.destroy(),this.homeFeaturedSliderController=null,this.$notice&&this.$notice.parentNode.removeChild(this.$notice)}viewDidLoadStartup(){super.viewDidLoadStartup(),this._setNotice()}setTransitionAnimation(){this.journalListItemAnimation.set(),OTHER||this.collectioItemAnimation.set()}runTransitionAnimation(){this.journalListItemAnimation.run(),OTHER||this.collectioItemAnimation.run(),P.IOReady=!0}clearTransitionAnimation(){this.journalListItemAnimation.clear(),OTHER||this.collectioItemAnimation.clear()}_setHomeFeaturedSlider(){OTHER?this.homeFeaturedSliderController=new V({scrollManger:P.scl,webglBack:P.bGl,toCurrentOnComplete:e=>{if(this.$linkAll&&this.$linkAll[e]){const t=this.$linkAll[e].dataset.href;this.$collectionBtn.setAttribute("href",t)}}}):this.homeFeaturedSliderController=new G({scrollManger:P.scl,toCurrentOnComplete:e=>{if(this.$linkAll&&this.$linkAll[e]){const t=this.$linkAll[e].dataset.href;this.$collectionBtn.setAttribute("href",t)}}}),M.add(P.rsz.handler,()=>{this.homeFeaturedSliderController.onResize()},"homeFeaturedSliderController"),OTHER?(M.add(P.mm.moveHandler,e=>{this.homeFeaturedSliderController.onMouseMove(e)},"homeFeaturedSliderController"),M.add(P.mm.updateHandler,e=>{this.homeFeaturedSliderController.onUpdateMouse(e)},"homeFeaturedSliderController"),M.add(P.raf.handler,()=>{this.homeFeaturedSliderController.onUpdate()},"homeFeaturedSliderController")):M.add(P.raf.handler,()=>{this.homeFeaturedSliderController.onUpdate()},"homeFeaturedSliderController"),this.homeFeaturedSliderController.init(this.$app,this.content)}_setHomeMenu(){M.add(P.menu.willOpenHandler,()=>{this.homeMvSlider.stop()},"homeMvSlider"),M.add(P.menu.willCloseHandler,()=>{setTimeout(()=>{this.homeMvSlider&&this.homeMvSlider.reStart()},10)},"homeMvSlider")}_setHomeMvSlider(){OTHER?this.homeMvSlider=new K({scrollManger:P.scl,webglBack:P.bGl}):this.homeMvSlider=new Q({scrollManger:P.scl}),M.add(P.rsz.handler,()=>{this.homeMvSlider.onResize()},"homeMvSlider"),M.add(P.raf.handler,e=>{this.homeMvSlider.onUpdate(e)},"homeMvSlider"),this.homeMvSlider.init(this.content)}clearHomeMvSliderHandler(){M.remove(P.rsz.handler,"homeMvSlider"),M.remove(P.raf.handler,"homeMvSlider"),M.remove(P.rsz.handler,"homeFeaturedSliderController"),OTHER&&(M.remove(P.mm.moveHandler,"homeFeaturedSliderController"),M.remove(P.mm.updateHandler,"homeFeaturedSliderController")),M.remove(P.raf.handler,"homeFeaturedSliderController"),M.remove(P.menu.willOpenHandler,"homeMvSlider"),M.remove(P.menu.willCloseHandler,"homeMvSlider"),M.remove(P.menu.didCloseHandler,"homeMvSlider")}_setHomeInformationModal(){M.add(this.modal.willOpenHandler,(e,t,i,s)=>{"information"===s&&this.modalInformationAnimation.willOpen(e,t,i)},"InformationModal"),M.add(this.modal.didOpenHandler,(e,t,i,s)=>{"information"===s&&this.modalInformationAnimation.didOpen(t,i)},"InformationModal"),M.add(this.modal.willCloseHandler,(e,t,i,s)=>{"information"===s&&this.modalInformationAnimation.willClose(e,t,i)},"InformationModal")}clearHomeInformationModal(){M.remove(this.modal.willOpenHandler,"InformationModal"),M.remove(this.modal.didOpenHandler,"InformationModal"),M.remove(this.modal.willCloseHandler,"InformationModal")}_setNotice(){this.$notice=this.$app.querySelector(".pNotice"),this.$notice&&this.$notice.addEventListener("click",()=>{l.a.to(this.$notice,.5,{y:"100.5%",force3D:!0,ease:"cubic.inOut",onComplete:()=>{this.$notice.parentNode.removeChild(this.$notice)}})})}},about:class extends q{constructor(e){super(e),this.content=e,this.$footerHead=document.querySelector(".mFooter_head"),this.firstViewAnimation=new oe(e)}viewDidLoad(){super.viewDidLoad()}viewWillAppear(){super.viewWillAppear(),this.$footerHead.setAttribute("data-scroll-bg","black")}viewDidAppear(){super.viewDidAppear()}viewWillDisappear(){super.viewWillDisappear(),this.clearTransitionAnimation()}viewDidDisappear(){super.viewDidDisappear(),this.$footerHead.setAttribute("data-scroll-bg","white")}setTransitionAnimation(){this.firstViewAnimation.set()}runTransitionAnimation(){this.firstViewAnimation.run()}clearTransitionAnimation(){this.firstViewAnimation.clear()}},journal:class extends q{constructor(e){super(e),this.content=e,this.firstViewAnimation=new re(e),this.listItemAnimation=new te(document),OTHER?this.modalCategoryAnimation=new ae:this.modalCategoryAnimation=new le}viewDidLoad(){super.viewDidLoad()}viewWillAppear(){super.viewWillAppear(),this.setModalJournalHome()}viewDidAppear(){super.viewDidAppear()}viewWillDisappear(){super.viewWillDisappear(),this.firstViewAnimation.clear(),this.listItemAnimation.clear()}viewDidDisappear(){this.clearModalJournalHome(),super.viewDidDisappear()}setTransitionAnimation(){this.firstViewAnimation.set(),this.listItemAnimation.set()}runTransitionAnimation(){this.firstViewAnimation.run(),this.listItemAnimation.run(),window.pageInited||P.scl.onResize()}setModalJournalHome(){M.add(this.modal.willOpenHandler,(e,t,i,s)=>{"categories"===s&&this.modalCategoryAnimation.willOpen(e,t,i,s)},"CategoryModal"),M.add(this.modal.didOpenHandler,(e,t,i,s)=>{"categories"===s&&this.modalCategoryAnimation.didOpen(e,t,i,s)},"CategoryModal"),M.add(this.modal.willCloseHandler,(e,t,i,s)=>{"categories"===s&&this.modalCategoryAnimation.willClose(e,t,i,s)},"CategoryModal")}clearModalJournalHome(){M.remove(this.modal.willOpenHandler,"CategoryModal"),M.remove(this.modal.didOpenHandler,"CategoryModal"),M.remove(this.modal.willCloseHandler,"CategoryModal")}},"journal-single":class extends q{constructor(e){super(e),this.content=e,this.firstViewAnimation=new he(e),this.listItemAnimation=new te(e),this.secTitleAnimation=new ue(e)}viewDidLoad(){super.viewDidLoad()}viewWillAppear(){super.viewWillAppear(),this.firstViewAnimation.clear(),this.listItemAnimation.clear(),this.secTitleAnimation.clear()}viewDidAppear(){super.viewDidAppear()}viewWillDisappear(){super.viewWillDisappear()}viewDidDisappear(){super.viewDidDisappear()}setTransitionAnimation(){this.firstViewAnimation.set(),this.secTitleAnimation.set(),this.listItemAnimation.set()}runTransitionAnimation(){this.firstViewAnimation.run(),this.secTitleAnimation.run(),this.listItemAnimation.run(),l.a.delayedCall(.45,()=>{P.IOReady=!0})}},collection:class extends q{constructor(e){super(e),this.content=e,this.firstViewAnimation=new ce(e),this.listItemAnimation=new me(e),this.modalFilterAnimation=new de,this.modalSortAnimation=new pe,this.modalCollectionCategoryAnimation=new ve}viewDidLoad(){super.viewDidLoad(),this.setModalCollectionHome()}viewWillAppear(){super.viewWillAppear()}viewDidAppear(){super.viewDidAppear()}viewWillDisappear(){super.viewWillDisappear(),this.firstViewAnimation.clear(),this.listItemAnimation.clear()}viewDidDisappear(){super.viewDidDisappear(),this.clearModalCollectionHome()}setTransitionAnimation(){this.firstViewAnimation.set(),this.listItemAnimation.set(),P.rsz.onResize()}runTransitionAnimation(){this.firstViewAnimation.run(),this.listItemAnimation.run(),l.a.delayedCall(.825,()=>{P.IOReady=!0})}setModalCollectionHome(){M.add(this.modal.willOpenHandler,(e,t,i,s)=>{"filter"===s&&this.modalFilterAnimation.willOpen(e,t,i,s)},"FilterModal"),M.add(this.modal.didOpenHandler,(e,t,i,s)=>{"filter"===s&&this.modalFilterAnimation.didOpen(e,t,i,s)},"FilterModal"),M.add(this.modal.willCloseHandler,(e,t,i,s)=>{"filter"===s&&this.modalFilterAnimation.willClose(e,t,i,s)},"FilterModal"),M.add(this.modal.willOpenHandler,(e,t,i,s)=>{"sort"===s&&this.modalSortAnimation.willOpen(e,t,i,s)},"SortModal"),M.add(this.modal.didOpenHandler,(e,t,i,s)=>{"sort"===s&&this.modalSortAnimation.didOpen(e,t,i,s)},"SortModal"),M.add(this.modal.willCloseHandler,(e,t,i,s)=>{"sort"===s&&this.modalSortAnimation.willClose(e,t,i,s)},"SortModal"),M.add(this.modal.willOpenHandler,(e,t,i,s)=>{if("category_select"===s){let n=1.2;OTHER&&0===T.getTranslate(document.querySelector(".pCollection_sec")).y&&(n=0),P.scl.scrollTo(".pCollection_sec",null,n).then(()=>{this.modalCollectionCategoryAnimation.willOpen(e,t,i,s)})}},"CategorySelectModal"),M.add(this.modal.didOpenHandler,(e,t,i,s)=>{"category_select"===s&&this.modalCollectionCategoryAnimation.didOpen(e,t,i,s)},"CategorySelectModal"),M.add(this.modal.willCloseHandler,(e,t,i,s)=>{"category_select"===s&&this.modalCollectionCategoryAnimation.willClose(e,t,i,s)},"CategorySelectModal")}clearModalCollectionHome(){M.remove(this.modal.willOpenHandler,"FilterModal"),M.remove(this.modal.didOpenHandler,"FilterModal"),M.remove(this.modal.willCloseHandler,"FilterModal"),M.remove(this.modal.willOpenHandler,"SortModal"),M.remove(this.modal.didOpenHandler,"SortModal"),M.remove(this.modal.willCloseHandler,"SortModal")}},"collection-single":class extends q{constructor(e){super(e),this.content=e,this.collectionImagesSlider=new ge,this.collectionReviewSlider=new ge({containerName:".cModal_review_list",nextTriggerName:".cModal_review_btn.-next",prevTriggerName:".cModal_review_btn.-prev",listItemName:".cModal_review_list_item",isChangeBlockHeight:!0}),this.zoomImageLoader=new f({isMobile:MOBILE,isTablet:TABLET,targetName:"[data-img-zoom-src]",srcName:"imgZoomSrc"}),this.zoomImageLoaderProgress=new x,this.firstViewAnimation=new ye(e),this.reviewTitleAnimation=new we(e),this.reviewDecriptionAnimation=new Te(e),this.reviewListAnimation=new xe(e),this.infoTitleAnimation=new Se(e),this.infoListAnimation=new Me(e),this.recommendTitleAnimation=new be(e),this.listItemAnimation=new me(e),this.modalImageAnimation=new Ce(this.collectionImagesSlider),this.modalReviewAnimation=new Ae(this.collectionReviewSlider),this.modalWhatsReviewAnimation=new _e,this.favorite=new fe}viewDidLoad(){super.viewDidLoad(),this.setModalCollectionSingleHandler(),this.collectionImagesSlider.init(document.body),this.collectionReviewSlider.init(document.body),this.favorite.init(this.content)}viewWillAppear(){super.viewWillAppear(),P.scl.onResize()}viewDidAppear(){P.scl.onResize(),super.viewDidAppear(),this.zoomImageLoader.init(),this.zoomImageLoaderProgress.init({onUpdateProgressAnimation:(e,t)=>{},onComplete:()=>{}}),this.zoomImageLoader.options.forEach(e=>{this.zoomImageLoaderProgress.add(this.zoomImageLoader.load.bind(this,e,e=>{const t=e.$target,i=e.src;t.style.backgroundImage=`url(${i})`}),"imageLoader")}),this.zoomImageLoaderProgress.set(),this.zoomImageLoaderProgress.run()}viewWillDisappear(){super.viewWillDisappear(),this.clearModalCollectionSingleHandler(),this.firstViewAnimation.clear(),this.reviewTitleAnimation.clear(),this.reviewDecriptionAnimation.clear(),this.reviewListAnimation.clear(),this.infoTitleAnimation.clear(),this.infoListAnimation.clear(),this.recommendTitleAnimation.clear(),this.collectionImagesSlider.destroy(),this.collectionReviewSlider.destroy(),this.favorite.destroy()}viewDidDisappear(){super.viewDidDisappear()}setTransitionAnimation(){this.firstViewAnimation.set(),this.reviewTitleAnimation.set(),this.reviewDecriptionAnimation.set(),this.reviewListAnimation.set(),this.infoTitleAnimation.set(),this.infoListAnimation.set(),this.recommendTitleAnimation.set(),this.listItemAnimation.set()}runTransitionAnimation(){this.firstViewAnimation.run(),this.reviewTitleAnimation.run(),this.reviewDecriptionAnimation.run(),this.reviewListAnimation.run(),this.infoTitleAnimation.run(),this.infoListAnimation.run(),this.recommendTitleAnimation.run(),this.listItemAnimation.run(),l.a.delayedCall(.6,()=>{P.IOReady=!0})}setModalCollectionSingleHandler(){M.add(this.modal.willOpenHandler,(e,t,i,s)=>{"images"===s&&this.modalImageAnimation.willOpen(e,t,i,s)},"ImageModal"),M.add(this.modal.didOpenHandler,(e,t,i,s)=>{"images"===s&&(this.collectionImagesSlider.canUseKeyFunc=!0,this.modalImageAnimation.didOpen(e,t,i,s))},"ImageModal"),M.add(this.modal.willCloseHandler,(e,t,i,s)=>{"images"===s&&(this.collectionImagesSlider.canUseKeyFunc=!1,this.modalImageAnimation.willClose(e,t,i,s))},"ImageModal"),M.add(this.modal.willOpenHandler,(e,t,i,s)=>{"whats-review"===s&&this.modalWhatsReviewAnimation.willOpen(e,t,i,s)},"whatsReviewModal"),M.add(this.modal.didOpenHandler,(e,t,i,s)=>{"whats-review"===s&&this.modalWhatsReviewAnimation.didOpen(e,t,i,s)},"whatsReviewModal"),M.add(this.modal.willCloseHandler,(e,t,i,s)=>{"whats-review"===s&&this.modalWhatsReviewAnimation.willClose(e,t,i,s)},"whatsReviewModal"),M.add(this.modal.willOpenHandler,(e,t,i,s)=>{"review"===s&&this.modalReviewAnimation.willOpen(e,t,i,s)},"ReviewModal"),M.add(this.modal.didOpenHandler,(e,t,i,s)=>{"review"===s&&(this.collectionReviewSlider.canUseKeyFunc=!0,this.modalReviewAnimation.didOpen(e,t,i,s))},"ReviewModal"),M.add(this.modal.willCloseHandler,(e,t,i,s)=>{"review"===s&&(this.collectionReviewSlider.canUseKeyFunc=!1,this.modalReviewAnimation.willClose(e,t,i,s))},"ReviewModal"),M.add(P.rsz.handler,()=>{this.collectionReviewSlider.onResize()},"reviewSlider")}clearModalCollectionSingleHandler(){M.remove(this.modal.willOpenHandler,"ImageModal"),M.remove(this.modal.didOpenHandler,"ImageModal"),M.remove(this.modal.willCloseHandler,"ImageModal"),M.remove(this.modal.willOpenHandler,"whatsReviewModal"),M.remove(this.modal.didOpenHandler,"whatsReviewModal"),M.remove(this.modal.willCloseHandler,"whatsReviewModal"),M.remove(this.modal.willOpenHandler,"ReviewModal"),M.remove(this.modal.didOpenHandler,"ReviewModal"),M.remove(this.modal.willCloseHandler,"ReviewModal")}},"not-found":class extends q{constructor(e){super(e),this.content=e}viewDidLoad(){super.viewDidLoad()}viewWillAppear(){super.viewWillAppear()}viewDidAppear(){super.viewDidAppear()}viewWillDisappear(){super.viewWillDisappear()}viewDidDisappear(){super.viewDidDisappear()}setTransitionAnimation(){}runTransitionAnimation(){}}};class Pe{constructor(){this.event={wheel:"onwheel"in document?"wheel":"mousewheel",keyDown:"keydown",keyUp:"keyup",touchMove:"ontouchmove"in document?"touchmove":"click"}}fix(e=document.getElementById("app"),t=!1){this.appFix(e),this.setNoKeyDown(),this.setNoKeyUp(),this.setNoWheel(t)}clearFix(e=document.getElementById("app"),t=!1){this.appClearFix(e),this.clearNoKeyDown(),this.clearNoKeyUp(),this.clearNoWheel(t)}appFix(e=document.getElementById("app")){e&&(e.style.position="fixed",e.style.top="1px",e.style.right=0,e.style.width="100%",e.style.height="100vh",e.style.marginTop="-1px",e.style.overflow="hidden")}appClearFix(e=document.getElementById("app")){e&&(e.style.position="",e.style.top="",e.style.right="",e.style.width="",e.style.height="",e.style.marginTop="",e.style.overflow="")}setNoKeyDown(){window.addEventListener(this.event.keyDown,this._preventKey,!1)}clearNoKeyDown(){window.removeEventListener(this.event.keyDown,this._preventKey)}setNoKeyUp(){window.addEventListener(this.event.keyUp,this._preventKey,!1)}clearNoKeyUp(){window.removeEventListener(this.event.keyUp,this._preventKey)}setNoWheel(e=!1){window.addEventListener(this.event.wheel,this._preventWheel,{passive:!1}),e||window.addEventListener(this.event.touchMove,this._preventWheel,{passive:!1})}clearNoWheel(e=!1){window.removeEventListener(this.event.wheel,this._preventWheel),e||window.removeEventListener(this.event.touchMove,this._preventWheel,{passive:!1})}_preventKey(e){let t=null;e.keyCode?t=event.keyCode:e.which&&(t=event.which),38!==t&&40!==t||e.preventDefault()}_preventWheel(e){e.cancelable&&e.preventDefault()}}class Oe{constructor(e){this.breakPoint=e||768,this.screenSize={x:0,y:0,xRatio:0,yRatio:0},this.screenSizeAspect={xy:0,yx:0},this.screenSizePrev={x:0,y:0},this.screenSizeFirstTime={x:0,y:0},this.handler=[],this.canResizeUpdate=!1,this.isMobileLayout=!1}init(){this.setScreenSize(),this.setScreenSizePrev(),this.setScreenSizeFirstTime(),window.addEventListener("resize",this.onResize.bind(this),!1),this.setResize()}setScreenSizeFirstTime(){this.screenSizeFirstTime.x=this.screenSize.x,this.screenSizeFirstTime.y=this.screenSize.y,this.isMobileLayout=this.breakPoint>this.screenSize.x}setScreenSize(){this.screenSize.x=window.innerWidth,this.screenSize.y=window.innerHeight,this.screenSize.xRatio=1/this.screenSize.x,this.screenSize.yRatio=1/this.screenSize.y,this.screenSizeAspect={xy:this.screenSize.x/this.screenSize.y,yx:this.screenSize.y/this.screenSize.x}}setScreenSizePrev(){this.screenSizePrev.x=this.screenSize.x,this.screenSizePrev.y=this.screenSize.y}checkLayoutChange(){this.isMobileLayout?window.innerWidth>=this.breakPoint&&location.reload():window.innerWidth<this.breakPoint&&location.reload()}runHandler(){this.handler.forEach(e=>{e.task(this.screenSize)})}onResize(){OTHER&&window.isStartup&&location.reload(),this.setResize()}setResize(){setTimeout(()=>{if(this.checkLayoutChange(),this.setScreenSize(),this.setScreenSizePrev(),this.runHandler(),MOBILE||TABLET){if(this.screenSizePrev.x===window.innerWidth&&!this.canResizeUpdate)return;this.screenSizePrev.x!==window.innerWidth&&(this.screenSizeFirstTime.y=window.innerHeight,Oe.resize())}this.canResizeUpdate=!1},50)}static resize(){const e=document.querySelectorAll(".jsHeight_screen-mobile");e.length&&[].forEach.call(e,e=>{const t=parseFloat(e.dataset.fixHeightRatio)||1;e.style.height=Math.round(P.rsz.screenSizeFirstTime.y*t)+"px"})}}class Le{constructor(){this.handler=[],this.fpsDigit=1e3,this.baseFps=60,this.multiplierMin=1,this.digit=1e4,this.prevTime=0,this.deltaTime=0,this.fpsMultiplier=1,this.fps=this.fpsDigit/this.baseFps}init(){this._onUpdate()}runHandler(){this.handler.forEach(e=>{e.task()})}_calcFps(e=0){this.deltaTime=e-this.prevTime,this.fpsMultiplier=this.fps/this.deltaTime,this.digit,this.fpsMultiplier=Math.max(this.fpsMultiplier,this.multiplierMin),this.prevTime=e}_onUpdate(e=0){this._calcFps(e),this.runHandler(),requestAnimationFrame(this._onUpdate.bind(this))}}class Ee{constructor(e){this.parent=e,this.$sec=null,this.num=0,this.size={x:0,y:0},this.inViewPos=0,this.inViewPos2=0,this.inViewPosLimit=0,this.inViewPosLimit2=0,this.isInView=!1,this.data=null,this.windowSizeRatio=1.5}setSelector(e){this.$sec=e}setProps(e){this.data=this.$sec.dataset,this.num=e;const t=this.$sec.getBoundingClientRect();this.size.x=t.width,this.size.y=t.height,this.inViewPos=T.getTargetOffsetTop(this.$sec)-this.parent.screenSize.y*this.windowSizeRatio,this.inViewPos2=T.getTargetOffsetTop(this.$sec),this.inViewPosLimit=this.inViewPos+t.height+2*this.parent.screenSize.y,this.inViewPosLimit2=this.inViewPos2+t.height,this.parent.scroll.y>=this.inViewPos&&this.parent.scroll.y<=this.parent.limit&&(this.isInView=!0)}inView(){this.isInView||(this.isInView=!0)}outView(){this.isInView&&(this.isInView=!1)}onUpdate(){}destroy(){this.$sec=null,this.num=0,this.size.x=0,this.size.y=0,this.inViewPos=0,this.inViewPosLimit=0}}class De{constructor(e){this.parent=e,this.sec=null,this.$el=null,this.isInView=!1,this.num=0,this.width=0,this.height=0,this.top=0,this.left=0,this.bottom=0,this.type=null,this.delay=0,this.position={x:0,y:0},this.speed=null,this.isParallax=!1}setSelector(e,t){this.$el=t,this.sec=e}setProps(e){this.width=this.$el.offsetWidth,this.height=this.$el.offsetHeight;const t=this.$el.getBoundingClientRect();this.top=T.getTargetOffsetTop(this.$el),this.left=t.left,this.bottom=this.top+this.height;const i=this.$el.dataset;this.type=i.scrollType,this.delay=i.scrollDelay||0,this.speed=!!i.scrollSpeed&&.1*parseFloat(i.scrollSpeed),this.speed&&(this.isParallax=!0),this.num=e,this.isInView=!1}inView(){this.isInView||(this.isInView=!0)}outView(){this.isInView&&(this.isInView=!1)}onUpdate(e){}}class Re{constructor(){this.contentName=".jsScroll_cnt",this.secName=".jsScroll_sec",this.elsName=".jsScroll_el",this.anchorTriggerName=".jsScroll_anchor",this.$body=document.body,this.$content=null,this.$secAll=null,this.screenSize={x:0,y:0,xHalf:0,yHalf:0},this.scroll={x:0,y:0},this.scrollPrev={x:0,y:0},this.random=0,this.limit={min:0,max:0},this.secs=[],this.els=[],this.canScroll=!1,this.canResize=!0,this.canUpdate=!1,this.nowWindowTop=0,this.ratio=.15,this.smoothSpeed=.15,this.smoothSpeedRatio=1,this.observerSecs=new A({},!0),this.observerEls=new A({},!0)}init(){this.random=Math.random(),window.addEventListener("scroll",this.onScroll.bind(this),!1),this.setSelector(),this.setSecs(),this.setEls(),this.setSize(),this.setLimit(),this.setAnchor(),this.canScroll=!0,this.onUpdateEls(),this.onUpdateSecs()}stop(){this.canUpdate=!1,this.canScroll=!1,this.nowWindowTop=document.documentElement.scrollTop||document.body.scrollTop;const e=document.getElementById("app");e.style.position="fixed",e.style.top="1px",e.style.right=0,e.style.width="100%",e.style.height="200%",e.style.marginTop="-1px",e.style.overflow="hidden",this.$content.style.position="relative",this.$content.style.top=-this.scroll.y+"px"}reStart(){this.canUpdate=!0,this.canScroll=!0}reset(){this.scroll.y=0;const e=document.documentElement,t=document.body,i=document.getElementById("app"),s=-1*parseInt(this.$content.style.top)||0;i.style.position=null,i.style.top=null,i.style.right=null,i.style.width=null,i.style.height=null,i.style.marginTop=null,i.style.overflow=null,document.body.style.overflow=null,this.setSelector(),this.$content.style.position=null,this.$content.style.top=null,[e,t,i].forEach(e=>{e.scrollTop=s})}setAnchor(e=this.$body){let t=e.querySelectorAll(this.anchorTriggerName);[].forEach.call(t,e=>{let t,i;e.addEventListener("click",s=>{s.preventDefault(),this.isAnchor=!0;let n=e.dataset;n&&(t=n.anchorTarget||null,i=n.anchorOffsetRatio||null,this.scrollTo(t,i))})})}async scrollTo(e,t,i=1){let s;this.isAnchor=!0;let n=t?parseInt(t):0;"string"==typeof e?s=document.querySelectorAll(e)[0]:e.target||(s=e),s&&(n=T.getTargetOffsetTop(s)),await new Promise(e=>{l.a.to("body,html",i,{scrollTop:Math.min(n,this.limit.max),ease:"quint.inOut",onComplete:()=>{this.isAnchor=!1,e()}})})}setSelector(){const e=document.querySelectorAll(this.contentName);this.$content=e[e.length-1]}setLimit(){this.limit.min=0,this.limit.max=Math.max(this.$content.clientHeight-this.screenSize.y,0)}setSecs(e=!1){e?[].forEach.call(this.$secAll,(e,t)=>{this.observerSecs.add(e),this.secs[t].setProps(t)}):(this.$secAll=this.$content.querySelectorAll(this.secName),this.secs=null,this.secs=[],[].forEach.call(this.$secAll,(e,t)=>{this.observerSecs.add(e),this.secs[t]=new Ee(this),this.secs[t].setSelector(e),this.secs[t].setProps(t)}))}setEls(e=!1){let t=0;e?this.secs.forEach(e=>{const i=e.$sec.querySelectorAll(this.elsName);[].forEach.call(i,e=>{this.els[t].setProps(t),this.observerEls.add(e),t++})}):(this.els=null,this.els=[],this.secs.forEach(e=>{const i=e.$sec.querySelectorAll(this.elsName);[].forEach.call(i,i=>{this.els[t]=new De(this,e),this.els[t].setSelector(e,i),this.els[t].setProps(t),this.observerEls.add(i),t++})}))}setSize(){this.screenSize.x=window.innerWidth,this.screenSize.y=window.innerHeight,this.screenSize.yHalf=.5*window.innerHeight}checkScroll(){Math.abs(this.scroll.y-this.scrollPrev.y)<.1&&(this.canUpdate=!1),this.scrollPrev.y=this.scroll.y}onUpdateEls(){const e=this.scroll.y,t=e+this.screenSize.y;this.els.forEach((i,s)=>{i.isInView?(t<i.top||e>i.bottom)&&i.outView(i.$el):t>=i.top-this.screenSize.x*this.ratio&&e<=i.bottom+this.screenSize.x*this.ratio&&i.inView(i.$el)})}onUpdateSecs(){this.secs.forEach(e=>{this.scroll.y>=e.inViewPos&&this.scroll.y<=e.inViewPosLimit?e.inView():e.outView()})}onScroll(e){this.canScroll&&(this.scroll.y=document.documentElement.scrollTop||document.body.scrollTop,this.canUpdate=!0)}onResize(){this.canResize&&(this.setSelector(),this.observerSecs.clear(),this.observerEls.clear(),this.setSecs(!0),this.setEls(!0),this.setSize(),this.setLimit(),this.checkScroll(),this.onUpdateSecs(!0),this.onUpdateEls())}onMouseMove(){}onUpdate(e=!1){(this.canUpdate||e)&&(this.checkScroll(),this.onUpdateSecs(),this.onUpdateEls())}}var $e=i(17),Ne=i.n($e);class ze{constructor(){this.mouseMultiplier=.5,this.touchMultiplier=2,this.vs=new Ne.a({mouseMultiplier:this.mouseMultiplier*(navigator.platform.indexOf("Win")>-1?1:.5),touchMultiplier:this.touchMultiplier,firefoxMultiplier:40}),this.runningCheckRatio=10,this.smoothSpeed=.1,this.coverName="#app-cvr",this.handler=[],this.startHandler=[],this.pos={x:0,y:0},this.nowPos={x:0,y:0},this.$cover=null,this.canUpdate=!1,this.isRunning=!1,this.canRunEvent=!1,this.ticking=!1}init(){this.$cover=document.querySelector(this.coverName),this.canRunEvent=!0,this.setEvent()}setEvent(){this.vs.on(e=>{this.canRunEvent&&this._runSetEvent(e)})}_runSetEvent(e){this.ticking||(requestAnimationFrame(()=>{this.ticking=!1,this.canRunEvent||(e.x=0,e.y=0,e.deltaX=0,e.deltaY=0),this.runHandler(e),this.pos.y+=e.deltaY,this.canUpdate||(this.canUpdate=!0)}),this.ticking=!0)}runHandler(e){this.handler.forEach(t=>{t.task(e)})}startRunning(){this.isRunning=!0,this.$cover&&(this.$cover.style.pointerEvents="all"),this.startHandler.forEach(e=>{e.task(event)})}stopRunning(){this.isRunning=!1,this.$cover&&(this.$cover.style.pointerEvents="none"),this.canUpdate=!1}checkRunning(){Math.abs(this.pos.y-this.nowPos.y)<this.runningCheckRatio&&this.stopRunning()}onUpdate(){this.canUpdate&&(this.isRunning||this.startRunning(),this.isRunning&&(this.nowPos.y=b.lerp(this.nowPos.y,this.pos.y,this.smoothSpeed),this.checkRunning()))}stop(){this.canRunEvent=!1,this.canUpdate=!1}reStart(){this.canRunEvent=!0,this.canUpdate=!0}}class He{constructor(){this.focusHandler=[],this.blurHandler=[],this.eventHandler={focus:null,blur:null}}init(){this.setEventListener()}setEventListener(){this.eventHandler.focus=this.onFocus.bind(this),this.eventHandler.bluer=this.onBlur.bind(this),window.addEventListener("focus",this.eventHandler.focus,!1),window.addEventListener("blur",this.eventHandler.bluer,!1)}onFocus(){this.focusHandler.forEach(e=>{e.task()})}onBlur(){this.blurHandler.forEach(e=>{e.task()})}destroy(){this.clearEventListener()}clearEventListener(){window.remove("focus",this.eventHandler.focus),window.remove("blur",this.eventHandler.bluer),this.eventHandler.focus=null,this.eventHandler.bluer=null,this.eventHandler=[]}}class ke{constructor({sizes:e,renderer:t,config:i=!1,debug:s=null}){this.cameraPosition={x:0,y:0,z:1},this.sizes=e,this.renderer=t,this.config=i,this.init()}init(){this.container=new g.g,this.container.matrixAutoUpdate=!1,this.setInstance(),this.setCamera()}setInstance(){this.instance=new g.h(0,this.sizes.xy,.1,10),this.instance.lookAt(0,0,0),this.instance.position.x=this.cameraPosition.x,this.instance.position.y=this.cameraPosition.y,this.instance.position.z=this.cameraPosition.z,this.setCamera()}setCamera(){this.instance.aspect=this.sizes.xy||window.innerWidth/window.innerHeight,this.instance.fov=2*Math.atan(this.sizes.width/this.instance.aspect/(2*this.instance.position.z))*(180/Math.PI),this.instance.updateProjectionMatrix(),this.renderer.setSize(this.sizes.x,this.sizes.y)}onResize(e){this.sizes=e,this.setCamera()}onUpdate(){}}class Be{constructor(){this.camera=null,this.scene=null,this.renderer=null,this.light=null,this.debug=null,this.stageSize={width:0,height:0,widthHalf:0,heightHalf:0,widthRatio:0,heightRatio:0,aspect:{xy:0,yx:0}},this.rendererColor={color:16777215,alpha:0},this.devicePixelRatio=Math.min(window.devicePixelRatio,1.5),this.rendererOptions={canvas:null,antialias:!1,alpha:!0}}init(e,t,i){this.debug=i,this.rendererOptions.canvas=e,this.scene=new g.k,this.renderer=new g.m(this.rendererOptions),this.setStageSize(),this.camera=new ke({sizes:this.stageSize,renderer:this.renderer,config:t,debug:i}),this.initRenderer(e)}initRenderer(){this.renderer.setClearColor(this.rendererColor.color,this.rendererColor.alpha),this.setRenderer()}setRenderer(){this.renderer.setSize(this.stageSize.width,this.stageSize.height),this.renderer.setPixelRatio(this.devicePixelRatio)}setStageSize(){this.stageSize.width=window.innerWidth,this.stageSize.height=window.innerHeight,this.stageSize.widthRatio=1/this.stageSize.width,this.stageSize.heightRatio=1/this.stageSize.height,this.stageSize.aspect.xy=this.stageSize.width/this.stageSize.height,this.stageSize.aspect.yx=this.stageSize.height/this.stageSize.width,this.stageSize.widthHalf=.5*this.stageSize.width,this.stageSize.heightHalf=.5*this.stageSize.height}onUpdateRenderer(){this.renderer.render(this.scene,this.camera.instance)}onResize(){this.setStageSize(),this.camera.onResize(this.stageSize),this.setRenderer()}onUpdate(){this.onUpdateRenderer(),this.camera.onUpdate()}}class Ue{constructor({stage:e,width:t=1,height:i=1,uniforms:s={},vs:n="#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform  vec2 uMeshScale;\n\nattribute vec2 uv;\nattribute vec3 position;\nattribute vec4 color;\nvarying vec2 vUv;\n\nvoid main()  {\n  vUv = uv;\n\n  vec3 pos = position;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n",fs:o="precision highp float;\n#define GLSLIFY 1\n\n//uniform float uAspectRatio;\nuniform vec2 uResWin;\nuniform sampler2D uTexture;\nuniform float uOpacity;\n\nvarying vec2 vUv;\nconst float PI = 3.14159265359;\n\nvoid main() {\n    gl_FragColor = vec4( vec3(1.,0.,0.), uOpacity );\n}\n",geometry:r=null,material:a=null}){this.stage=e,this.width=t,this.height=i,this.widthHalf=.5*t,this.heightHalf=.5*i,this.screenWidthHalf=.5*e.stageSize.width,this.screenHeightHalf=.5*e.stageSize.height,this.isInView=!1,this.uniforms={uTime:{value:0},uMouse:{value:{x:0,y:0}},uResWin:{value:{x:window.innerWidth,y:window.innerHeight}},uOpacity:{value:0}},this.uniforms=Object.assign(this.uniforms,s),this.geometry=r||new g.i(1,1,16,16),this.mesh=null,this.vs=n,this.fs=o,this.material=a||new g.j({vertexShader:this.vs,fragmentShader:this.fs,depthTest:!1,transparent:!0,alphaTest:.5})}init(){this.material.uniforms=this.uniforms,this.mesh=new g.f(this.geometry,this.material),this.setMeshSize(),this.mesh.position.x=10*window.innerWidth,this.mesh.position.y=10*window.innerHeight}setMeshSize(){}onResize(e={width:1,height:1}){this.uniforms.uResWin.value.x=window.innerWidth,this.uniforms.uResWin.value.y=window.innerHeight,this.width=e.width,this.height=e.height,this.setMeshSize()}onUpdate(){}}class qe extends Ue{constructor({stage:e,width:t=1,height:i=1,uniforms:s={},geometry:n=null,el:o=null,texture:r=null,color:a=16250871,isNoEffect:l=!1,isCollection:h=!1,vs:u,fs:c}){super({stage:e,width:t,height:i,uniforms:s,vs:u||(r?"#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uTime;\nuniform float uScrollY;\nuniform float uScrollDeltaY;\nuniform float uInTranslate;\nuniform vec2 uMeshSizeRatio;\nuniform float uHoverScale;\nattribute vec2 uv;\nattribute vec3 position;\n\nvarying vec2 vUv;\n\nconst float POS_IN_RATIO = 0.85;\nconst float TRANSLATE_Y_RATIO = -0.85;\nconst float CURVE_RATIO_Y = 0.00075;\nconst float CURVE_RATIO_Z = 0.0000675;\n\nvoid main() {\n    vUv = uv;\n    vec3 _pos = position;\n\n    // in view\n    float posIn = (_pos.x * 0.5 - _pos.y + 1.) * 0.5;\n    float startPoint = posIn * POS_IN_RATIO;\n\n    float inProgress = smoothstep(startPoint, 1., uInTranslate);\n    float _inProgress = 1. + (0.25 * (1. - inProgress));\n    _pos.x *= _inProgress;\n\n    float tranlateY =  TRANSLATE_Y_RATIO * (1. -  uInTranslate);\n    _pos.y += tranlateY;\n\n    // scroll curve\n    vec2 uvCurve = uv * 2. - 1.;\n    float curveY = sin((uvCurve.x  * 0.45  + 0.5) * PI)  * uScrollDeltaY;\n    float curveZ = sin(((uvCurve.y + uScrollY * 0.00185 + uTime * 1.5) + 0.15) * PI) * uScrollDeltaY;\n    curveY *= CURVE_RATIO_Y * uMeshSizeRatio.x;\n    curveZ *= CURVE_RATIO_Z * uMeshSizeRatio.y;\n    _pos.y -= curveY;\n    _pos.z += curveZ;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(_pos, 1.);\n}":"#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uScrollY;\nuniform float uScrollDeltaY;\nuniform float uInTranslate;\nuniform float uHoverScale;\nuniform vec2 uMeshSizeRatio;\n\nattribute vec2 uv;\nattribute vec3 position;\n\nvarying vec2 vUv;\n\nconst float POS_IN_RATIO = 0.8;\nconst float TRANSLATE_Y_RATIO = -0.45;\nconst float CURVE_SCALE_X_RATIO = 0.166667;\nconst float CURVE_RATIO_Y = 0.0015;\nconst float CURVE_RATIO_Z = 0.000125;\n\nvoid main() {\n    vUv = uv;\n    vec3 _pos = position;\n\n    // in view\n    float posIn = (uv.x * 0.5 - uv.y + 1.) * 0.5;\n    float startPoint = posIn * POS_IN_RATIO;\n    float inProgress = smoothstep(startPoint, 1., uInTranslate);\n    float _inProgress = 1. + (0.25 * (1. - inProgress));\n    _pos.x *= _inProgress;\n\n    float tranlateY =  TRANSLATE_Y_RATIO * (1. -  uInTranslate);\n    _pos.y += tranlateY;\n\n    // scroll curve\n    vec2 uvCurve = uv * 2. - 1.;\n    float curveScaleX  =  CURVE_SCALE_X_RATIO * (1. - uHoverScale);\n\n    float curveY = sin((uvCurve.x  * 0.435 + 0.5 + curveScaleX) * PI)  * uScrollDeltaY;\n    float curveZ = sin(((uvCurve.y + uScrollY * 0.00185) + 0.15) * PI) * uScrollDeltaY;\n    curveY *= uMeshSizeRatio.x * CURVE_RATIO_Y;\n    curveZ *= uMeshSizeRatio.y * CURVE_RATIO_Z;\n    _pos.y -= curveY;\n    _pos.z -= curveZ;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(_pos, 1.);\n}"),fs:c||(h?"precision highp float;\n#define GLSLIFY 1\n\nuniform vec2 uMeshSize;\nuniform float uTime;\nuniform float uOpacity;\nuniform float uInOpacity;\nuniform float uParallax;\nuniform float uHoverColor;\nuniform float uHoverOpacity;\nuniform float uHoverScale;\nuniform float uHoverRipple;\n\nuniform vec3 uBgColor;\nuniform vec3 uBgActiveColor;\n\nuniform sampler2D uTexture;\n\nvarying vec2 vUv;\n\nconst float HOVER_SCALE_RATIO = 0.05;\nconst float PARALLAX_RATIO = 0.0045;\nconst float COLOR_TEXTURE_ACTIVE_RATIO = 0.1;\n\nvoid main() {\n    vec2 uvTex = vUv;\n\n    // aspect  / hover scale\n    uvTex -= 0.5;\n    uvTex.y *= ( uMeshSize.y / uMeshSize.x );\n    uvTex /= 1. + uHoverScale * HOVER_SCALE_RATIO;\n    uvTex *= 1. + sin(uTime * 6.5) * 0.00325 * uHoverScale;\n    uvTex += 0.5;\n\n    // parallax\n    uvTex.y -= uParallax * PARALLAX_RATIO;\n\n    vec2 uvRipple = vUv * 2. - 1.;\n    uvRipple.y *= ( uMeshSize.y / uMeshSize.x );\n    uvRipple *= 1. - sin(uTime * 6.5) * 0.00325;\n    float len = length(uvRipple);\n    float dist = len * 55.;\n    float s = (sin( dist - ( uTime * 6.5 + uHoverRipple * 5.) )) * 0.00325 * uHoverScale;\n    uvTex += vec2( len * s );\n\n    // color\n    vec4 cTex = texture2D(uTexture, uvTex);\n    vec4 cBg = vec4( mix(uBgColor, uBgActiveColor , uHoverColor ), 1.);\n    vec4 cTexActive;\n    cTexActive.rgb = cTex.rgb * (cBg.rgb + COLOR_TEXTURE_ACTIVE_RATIO);\n    cTexActive.a = cTex.a + cBg.a;\n\n    cTexActive = mix( cTex, cTexActive, uHoverOpacity);\n\n    // bg texture mix\n    vec4 cDist = mix(\n        cBg,\n        cTexActive,\n        smoothstep(0., 1., cTex.a)\n    );\n    cDist.a *= uOpacity * uInOpacity;\n\n    gl_FragColor = cDist;\n}\n":r?"precision highp float;\n#define GLSLIFY 1\n\nuniform vec2 uMeshSize;\nuniform float uTime;\nuniform float uOpacity;\nuniform float uInOpacity;\nuniform float uParallax;\nuniform float uHoverColor;\nuniform float uHoverOpacity;\nuniform float uHoverScale;\n\nuniform vec3 uBgColor;\nuniform vec3 uBgActiveColor;\n\nuniform sampler2D uTexture;\n\nvarying vec2 vUv;\n\nconst float HOVER_SCALE_RATIO = 0.05;\nconst float PARALLAX_RATIO = 0.0045;\nconst float COLOR_TEXTURE_ACTIVE_RATIO = 0.1;\n\nvoid main() {\n    vec2 uvTex = vUv;\n\n    // aspect  / hover scale\n    uvTex -= 0.5;\n    uvTex.y *= ( uMeshSize.y / uMeshSize.x );\n    uvTex /= 1. + uHoverScale * HOVER_SCALE_RATIO;\n    uvTex += 0.5;\n\n    // parallax\n    uvTex.y -= uParallax * PARALLAX_RATIO;\n\n    // color\n    vec4 cTex = texture2D(uTexture, uvTex);\n    vec4 cBg = vec4( mix(uBgColor, uBgActiveColor , uHoverColor ), 1.);\n    vec4 cTexActive;\n    cTexActive.rgb = cTex.rgb * (cBg.rgb + COLOR_TEXTURE_ACTIVE_RATIO);\n    cTexActive.a = cTex.a + cBg.a;\n\n    cTexActive = mix( cTex, cTexActive, uHoverOpacity);\n\n    // bg texture mix\n    vec4 cDist = mix(\n        cBg,\n        cTexActive,\n        smoothstep(0., 1., cTex.a)\n    );\n    cDist.a *= uOpacity * uInOpacity;\n\n//    cDist = vec4( vec3(len), 1.);\n\n//    gl_FragColor = vec4(len * (s));\n    gl_FragColor = cDist;\n}\n":"precision highp float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform float uOpacity;\nuniform float uInOpacity;\nuniform float uHoverScale;\nuniform float uHoverColor;\n\nuniform vec3 uBgColor;\nuniform vec3 uBgActiveColor;\n\nconst float SCALE_X_RATIO = 0.4;\nconst float A_SCALE_X_RATIO = 0.6;\nconst float WAVE_X_RATIO = 0.15;\n\nvarying vec2 vUv;\n\nvoid main() {\n    float scaleX = uHoverScale * SCALE_X_RATIO;\n\n    float maskRatio = mix(\n        uHoverScale,\n        1. - uHoverScale,\n        step(0.5, uHoverScale)\n    );\n\n    float maskWaveX = sin(vUv.y  * PI) * maskRatio * WAVE_X_RATIO;\n    float maskOpacity = mix(1., 0., step(A_SCALE_X_RATIO + scaleX, vUv.x - maskWaveX));\n    float distAlpha = maskOpacity * uOpacity * uInOpacity;\n    vec4 cDist = vec4(mix(uBgColor, uBgActiveColor, uHoverColor), distAlpha);\n\n    gl_FragColor = cDist;\n}"),geometry:n}),this.isNoEffect=l,this.isCollection=h,this.texture=r,this.el=o,this.isIn=!1,this.tweenInOpacity=null,this.tweenInTranslate=null,this.tweenScale=null,this.tweenTextAll=[],this.tweenImg=null,this.eventHadnler={mouseEnter:null,mouseLeave:null},this.$p=this.el.$el.closest("[data-hover-gl-type]"),this.hoverType=0,this.$p&&(this.hoverType=Number(this.$p.dataset.hoverGlType)||0,this.setParentEventListener(),3===this.hoverType&&this.setHoverOutAnimationJournalTexture());const m={uBgColor:{value:new g.c(a)},uBgActiveColor:{value:new g.c(3815994)},uScrollY:{value:0},uScrollDeltaY:{value:0},uInOpacity:{value:0},uInTranslate:{value:0},uParallax:{value:0},uMeshSize:{value:{x:t,y:i}},uMeshSizeRatio:{value:{x:t/(t+i),y:i/(t+i)}},uHoverScale:{value:0},uHoverColor:{value:0},uHoverOpacity:{value:0},uHoverRipple:{value:0},uTexture:{value:null}};Object.assign(this.uniforms,m),this.isNoEffect&&(this.uniforms.uInOpacity.value=1,this.uniforms.uInTranslate.value=1)}init(){this.texture?(this.uniforms.uTexture.value=this.texture,""===this.el.$el.dataset.dummy||this.el.$el.dataset.dummy?this.uniforms.uTexture.value.minFilter=g.e:this.uniforms.uTexture.value.minFilter=g.d):this.uniforms.uTexture.value=null,super.init(),this.mesh.visible=!1}setParentEventListener(){this.eventHadnler.mouseEnter=this.onMouseEnter.bind(this),this.eventHadnler.mouseLeave=this.onMouseLeave.bind(this),this.$p.addEventListener("mouseenter",this.eventHadnler.mouseEnter,!1),this.$p.addEventListener("mouseleave",this.eventHadnler.mouseLeave,!1)}clearParentEventListener(){this.$p&&(this.$p.removeEventListener("mouseenter",this.eventHadnler.mouseEnter),this.$p.removeEventListener("mouseleave",this.eventHadnler.mouseLeave))}animationIn(){this.isNoEffect||(this.tweenInOpacity=l.a.to(this.uniforms.uInOpacity,.2,{value:1,ease:"none",onComplete:()=>{T.clearTween(this.tweenInOpacity)}}),this.tweenInTranslate=l.a.to(this.uniforms.uInTranslate,1.25,{value:1,ease:"cubic.out",onComplete:()=>{T.clearTween(this.tweenInTranslate)}}))}setMeshSize(){this.mesh.scale.set(this.width,this.height,2)}onMouseEnter(){1===this.hoverType?this.hoverAnimationPlane():2===this.hoverType?this.hoverAnimationCollectionTexture():3===this.hoverType&&this.hoverAnimationJournalTexture()}hoverAnimationPlane(){const e=this.$p.querySelectorAll(".pHome_collection_list_card_text_inner"),t=this.$p.querySelector(".pHome_collection_list_img_block");T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.6,{ease:"cubic.out",value:1}),l.a.to(this.uniforms.uHoverColor,.6,{ease:"none",value:1}),T.clearTween(this.tweenImg),this.tweenImg=l.a.to(t,.4,{ease:"none",opacity:.2}),[].forEach.call(e,(e,t)=>{T.clearTween(this.tweenTextAll[t]),this.tweenTextAll[t]=l.a.to(e,.9,{y:"0%",ease:"quart.out",delay:.05+.05*t})})}hoverAnimationCollectionTexture(){const e=this.$p.querySelectorAll(".pCollection_sec_list_card_text");l.a.to(this.uniforms.uHoverColor,.4,{ease:"none",value:1}),T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.6,{ease:"cubic.out",value:-1}),T.clearTween(this.tweenImg),this.tweenImg=l.a.to(this.uniforms.uHoverOpacity,.4,{ease:"none",value:1}),this.isCollection&&l.a.to(this.uniforms.uHoverRipple,1.5,{ease:"sine.out",value:1}),[].forEach.call(e,(e,t)=>{T.clearTween(this.tweenTextAll[t]),this.tweenTextAll[t]=l.a.to(e,.65,{y:"0%",ease:"quart.out",delay:.05+.05*t})})}hoverAnimationJournalTexture(){const e=this.$p.querySelector(".cJournal_list_card_description_line"),t=this.$p.querySelector(".cJournal_list_card_description_text");l.a.to(e,.55,{scaleX:1,ease:"quart.out",force3D:!0}),l.a.to(e,.55,{x:0,ease:"quart.out",force3D:!0}),l.a.to(t,.55,{x:"1em",ease:"quart.out",delay:.075,force3D:!0}),T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.8,{ease:"quart.out",value:1})}onMouseLeave(){1===this.hoverType?this.hoverOutAnimationPlane():2===this.hoverType?this.hoverOutAnimationCollectionTexture():3===this.hoverType&&this.hoverOutAnimationJournalTexture()}hoverOutAnimationPlane(){const e=this.$p.querySelectorAll(".pHome_collection_list_card_text_inner"),t=this.$p.querySelector(".pHome_collection_list_img_block");T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.7,{ease:"cubic.out",value:0}),l.a.to(this.uniforms.uHoverColor,.7,{ease:"none",value:0}),T.clearTween(this.tweenImg),this.tweenImg=l.a.to(t,.7,{ease:"none",opacity:1}),[].forEach.call(e,(e,t)=>{T.clearTween(this.tweenTextAll[t]),this.tweenTextAll[t]=l.a.to(e,.7,{y:"100%",ease:"cubic.out",delay:.05+.03*t,onComplete:()=>{e.style.transform=""}})})}hoverOutAnimationCollectionTexture(){const e=this.$p.querySelectorAll(".pCollection_sec_list_card_text");l.a.to(this.uniforms.uHoverColor,.7,{value:0,ease:"none"}),T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.6,{value:0,ease:"cubic.out"}),T.clearTween(this.tweenImg),this.tweenImg=l.a.to(this.uniforms.uHoverOpacity,.7,{value:0,ease:"none"}),this.isCollection&&l.a.to(this.uniforms.uHoverRipple,1.5,{ease:"sine.out",value:0}),[].forEach.call(e,(e,t)=>{T.clearTween(this.tweenTextAll[t]),this.tweenTextAll[t]=l.a.to(e,.7,{y:"106%",ease:"cubic.out",delay:.05+.03*t,onComplete:()=>{e.style.transform=""}})})}hoverOutAnimationJournalTexture(){const e=this.$p.querySelector(".cJournal_list_card_description_line"),t=this.$p.querySelector(".cJournal_list_card_description_text");l.a.to(e,.625,{scaleX:0,ease:"quart.out"}),l.a.to(e,.625,{x:"-1.5rem",ease:"quart.out"}),l.a.to(t,.625,{x:0,ease:"quart.out",delay:.075}),T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.625,{value:0,ease:"cubic.out"})}setHoverOutAnimationJournalTexture(){const e=this.$p.querySelector(".cJournal_list_card_description_line"),t=this.$p.querySelector(".cJournal_list_card_description_text");l.a.set(e,{scaleX:0}),l.a.set(e,{x:"-1.5rem"}),l.a.set(t,{x:0})}onResize(){this.width=this.el.width,this.height=this.el.height,this.heightHalf=.5*this.el.height,this.widthHalf=.5*this.el.width,this.uniforms.uMeshSize.value.x=this.el.width,this.uniforms.uMeshSize.value.y=this.el.height,this.uniforms.uMeshSizeRatio.x=this.el.width/(this.el.width+this.el.height),this.uniforms.uMeshSizeRatio.y=this.el.height/(this.el.width+this.el.height),this.setMeshSize()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf}onUpdate({scrollY:e,scrollDeltaY:t,smoothScroll:i,timeDelta:s=0}){!this.isIn&&this.el.$el.classList.contains("is-in")&&P.IOReady&&(this.isIn=!0,this.animationIn()),this.el.isInView?(this.mesh.visible||(this.mesh.visible=!0,this.uniforms.uOpacity.value=1),this.uniforms.uTime.value+=s,this.uniforms.uScrollY.value=e,this.uniforms.uScrollDeltaY.value=t,this.setMeshPosition(e),this.el.position&&this.el.position.y&&(this.uniforms.uParallax.value=this.el.position.y)):this.mesh.visible&&(this.mesh.visible=!1,this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0,this.uniforms.uScrollDeltaY.value=0,this.uniforms.uParallax.value=0)}}class Fe extends Ue{constructor({stage:e,width:t=1,height:i=1,uniforms:s={},geometry:n=null,el:o=null,texture:r=null,color:a=16250871}){switch(super({stage:e,width:t,height:i,uniforms:s,vs:"#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uTime;\nuniform float uScrollY;\nuniform float uScrollDeltaY;\nuniform float uInTranslateProgress;\nuniform float uInTranslateXRatio;\nuniform vec2 uMeshSizeRatio;\nuniform float uHoverScale;\nattribute vec2 uv;\nattribute vec3 position;\n\nvarying vec2 vUv;\n\nconst float TRANSLATE_X_RATIO = -0.3;\nconst float TRANSLATE_Y_RATIO = -0.225;\nconst float CURVE_RATIO_Y = 0.00125;\n\nvoid main() {\n    vUv = uv;\n    vec3 pos = position;\n\n    pos.xy *= 1. + (1. -  uInTranslateProgress) * 0.15;\n    float tranlateX =  TRANSLATE_X_RATIO * (1. -  uInTranslateProgress) * uInTranslateXRatio;\n    float tranlateY =  TRANSLATE_Y_RATIO * (1. -  uInTranslateProgress);\n    pos.x += tranlateX;\n    pos.y += tranlateY;\n\n    // scroll curve\n    vec2 uvCurve = uv * 2. - 1.;\n    float curveY = sin((uvCurve.x  * 0.45  + 0.5) * PI)  * uScrollDeltaY;\n    curveY *= CURVE_RATIO_Y * uMeshSizeRatio.x;\n    pos.y -= curveY;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}",fs:"precision highp float;\n#define GLSLIFY 1\n\nuniform float uTime;\nuniform float uOpacity;\nuniform float uInOpacity;\nuniform float uParallax;\nuniform float uHoverColor;\nuniform float uHoverOpacity;\nuniform float uHoverScale;\nuniform float uHoverRipple;\n\nuniform vec2 uMeshSize;\nuniform vec2 uImageSize;\n\nuniform vec3 uBgColor;\nuniform vec3 uBgActiveColor;\n\nuniform sampler2D uTexture;\n\nvarying vec2 vUv;\n\nconst float HOVER_SCALE_RATIO = 0.045;\nconst float PARALLAX_RATIO = 0.0025;\nconst float COLOR_TEXTURE_ACTIVE_RATIO = 0.1;\n\nvoid main() {\n    vec2 uvTex = vUv;\n\n    // aspect  / hover scale\n    uvTex -= 0.5;\n    uvTex.y *= ( uMeshSize.y / uMeshSize.x );\n    uvTex.y *= ( uImageSize.x / uImageSize.y );\n    uvTex /= 1. - uHoverScale * HOVER_SCALE_RATIO;\n    uvTex *= 1. + sin(uTime *  6.5) * 0.00325 * uHoverScale;\n    uvTex += 0.5;\n\n    // parallax\n    uvTex.y += uParallax * PARALLAX_RATIO;\n\n    vec2 uvRipple = vUv * 2. - 1.;\n    uvRipple.y *= ( uMeshSize.y / uMeshSize.x );\n    uvRipple *= 1. - sin(uTime *  6.5) * 0.00325;\n    float len = length(uvRipple);\n    float dist = len * 40.;\n    float s = (sin( dist - ( uTime * 6.5 + uHoverRipple * 5.) )) * 0.00265 * uHoverScale;\n    uvTex += vec2( len * s );\n\n    // color\n    vec4 cTex = texture2D(uTexture, uvTex);\n\n    // bg texture mix\n    vec4 cDist = cTex;\n    cDist.a *= 1. - uHoverScale * 0.75;\n    cDist.a *= uOpacity * uInOpacity;\n\n    gl_FragColor = cDist;\n}\n",geometry:n}),this.texture=r,this.el=o,this.InDir=this.el.$el.dataset.transitionDirection||"center",this.isIn=!1,this.tweenInOpacity=null,this.tweenInTranslate=null,this.tweenScale=null,this.tweenTextAll=[],this.tweenImg=null,this.eventHadnler={mouseEnter:null,mouseLeave:null},this.$p=this.el.$el.closest("[data-hover-gl-type]"),this.hoverType=0,this.$p&&(this.hoverType=Number(this.$p.dataset.hoverGlType)||0,this.setParentEventListener()),Object.assign(this.uniforms,{uBgColor:{value:new g.c(a)},uBgActiveColor:{value:new g.c(3815994)},uScrollY:{value:0},uScrollDeltaY:{value:0},uInOpacity:{value:0},uInTranslateProgress:{value:0},uInTranslateXRatio:{value:0},uParallax:{value:0},uMeshSize:{value:{x:t,y:i}},uMeshSizeRatio:{value:{x:t/(t+i),y:i/(t+i)}},uImageSize:{value:{x:r.image.naturalWidth,y:r.image.naturalHeight}},uHoverScale:{value:0},uHoverColor:{value:0},uHoverOpacity:{value:0},uHoverRipple:{value:0},uTexture:{value:null}}),this.InDir){case"left":this.uniforms.uInTranslateXRatio.value=1;break;case"right":this.uniforms.uInTranslateXRatio.value=-1;break;default:this.uniforms.uInTranslateXRatio.value=0}}init(){this.texture&&(this.uniforms.uTexture.value=this.texture,this.uniforms.uTexture.value.minFilter=g.d),super.init()}setParentEventListener(){this.eventHadnler.mouseEnter=this.onMouseEnter.bind(this),this.eventHadnler.mouseLeave=this.onMouseLeave.bind(this),this.$p.addEventListener("mouseenter",this.eventHadnler.mouseEnter,!1),this.$p.addEventListener("mouseleave",this.eventHadnler.mouseLeave,!1)}clearParentEventListener(){this.$p&&(this.$p.removeEventListener("mouseenter",this.eventHadnler.mouseEnter),this.$p.removeEventListener("mouseleave",this.eventHadnler.mouseLeave))}animationIn(){this.isNoEffect||(this.tweenInOpacity=l.a.to(this.uniforms.uInOpacity,.2,{value:1,ease:"none",onComplete:()=>{T.clearTween(this.tweenInOpacity)}}),this.tweenInTranslate=l.a.to(this.uniforms.uInTranslateProgress,1.25,{value:1,ease:"cubic.out",onComplete:()=>{T.clearTween(this.tweenInTranslate)}}))}setMeshSize(){this.mesh.scale.set(this.width,this.height,2)}onMouseEnter(){1===this.hoverType?this.hoverAnimationPlane():2===this.hoverType?this.hoverAnimationCollectionTexture():3===this.hoverType&&this.hoverAnimationJournalTexture()}hoverAnimationPlane(){const e=this.$p.querySelectorAll(".pHome_collection_list_card_text_inner"),t=this.$p.querySelector(".pHome_collection_list_img_block");T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.6,{ease:"cubic.out",value:1}),l.a.to(this.uniforms.uHoverColor,.6,{ease:"none",value:1}),T.clearTween(this.tweenImg),this.tweenImg=l.a.to(t,.4,{ease:"none",opacity:.2}),[].forEach.call(e,(e,t)=>{T.clearTween(this.tweenTextAll[t]),this.tweenTextAll[t]=l.a.to(e,.9,{y:"0%",ease:"quart.out",delay:.05+.05*t})})}hoverAnimationCollectionTexture(){const e=this.$p.querySelectorAll(".pCollection_sec_list_card_text");l.a.to(this.uniforms.uHoverColor,.4,{ease:"none",value:1}),T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.6,{ease:"cubic.out",value:-1}),T.clearTween(this.tweenImg),this.tweenImg=l.a.to(this.uniforms.uHoverOpacity,.4,{ease:"none",value:1}),this.isCollection&&l.a.to(this.uniforms.uHoverRipple,1.5,{ease:"sine.out",value:1}),[].forEach.call(e,(e,t)=>{T.clearTween(this.tweenTextAll[t]),this.tweenTextAll[t]=l.a.to(e,.65,{y:"0%",ease:"quart.out",delay:.05+.05*t})})}hoverAnimationJournalTexture(){const e=this.$p.querySelector(".cJournal_list_card_description_line"),t=this.$p.querySelector(".cJournal_list_card_description_text");l.a.to(e,.55,{scaleX:1,ease:"quart.out",force3D:!0}),l.a.to(e,.55,{x:0,ease:"quart.out",force3D:!0}),l.a.to(t,.55,{x:"1em",ease:"quart.out",delay:.075,force3D:!0}),T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.8,{ease:"quart.out",value:1})}onMouseLeave(){1===this.hoverType?this.hoverOutAnimationPlane():2===this.hoverType?this.hoverOutAnimationCollectionTexture():3===this.hoverType&&this.hoverOutAnimationJournalTexture()}hoverOutAnimationPlane(){const e=this.$p.querySelectorAll(".pHome_collection_list_card_text_inner"),t=this.$p.querySelector(".pHome_collection_list_img_block");T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.7,{ease:"cubic.out",value:0}),l.a.to(this.uniforms.uHoverColor,.7,{ease:"none",value:0}),T.clearTween(this.tweenImg),this.tweenImg=l.a.to(t,.7,{ease:"none",opacity:1}),[].forEach.call(e,(e,t)=>{T.clearTween(this.tweenTextAll[t]),this.tweenTextAll[t]=l.a.to(e,.7,{y:"100%",ease:"cubic.out",delay:.05+.03*t,onComplete:()=>{e.style.transform=""}})})}hoverOutAnimationCollectionTexture(){const e=this.$p.querySelectorAll(".pCollection_sec_list_card_text");l.a.to(this.uniforms.uHoverColor,.7,{value:0,ease:"none"}),T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.6,{value:0,ease:"cubic.out"}),T.clearTween(this.tweenImg),this.tweenImg=l.a.to(this.uniforms.uHoverOpacity,.7,{value:0,ease:"none"}),this.isCollection&&l.a.to(this.uniforms.uHoverRipple,1.5,{ease:"sine.out",value:0}),[].forEach.call(e,(e,t)=>{T.clearTween(this.tweenTextAll[t]),this.tweenTextAll[t]=l.a.to(e,.7,{y:"106%",ease:"cubic.out",delay:.05+.03*t,onComplete:()=>{e.style.transform=""}})})}hoverOutAnimationJournalTexture(){const e=this.$p.querySelector(".cJournal_list_card_description_line"),t=this.$p.querySelector(".cJournal_list_card_description_text");l.a.to(e,.625,{scaleX:0,ease:"quart.out"}),l.a.to(e,.625,{x:"-1.5rem",ease:"quart.out"}),l.a.to(t,.625,{x:0,ease:"quart.out",delay:.075}),T.clearTween(this.tweenScale),this.tweenScale=l.a.to(this.uniforms.uHoverScale,.625,{value:0,ease:"cubic.out"})}setHoverOutAnimationJournalTexture(){const e=this.$p.querySelector(".cJournal_list_card_description_line"),t=this.$p.querySelector(".cJournal_list_card_description_text");l.a.set(e,{scaleX:0}),l.a.set(e,{x:"-1.5rem"}),l.a.set(t,{x:0})}onResize(){this.width=this.el.width,this.height=this.el.height,this.heightHalf=.5*this.el.height,this.widthHalf=.5*this.el.width,this.uniforms.uMeshSize.value.x=this.el.width,this.uniforms.uMeshSize.value.y=this.el.height,this.uniforms.uMeshSizeRatio.x=this.el.width/(this.el.width+this.el.height),this.uniforms.uMeshSizeRatio.y=this.el.height/(this.el.width+this.el.height),this.setMeshSize()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf}onUpdate({scrollY:e,scrollDeltaY:t,smoothScroll:i,timeDelta:s=0}){!this.isIn&&this.el.$el.classList.contains("is-in")&&P.IOReady&&(this.isIn=!0,this.animationIn()),this.el.isInView?(this.uniforms.uOpacity.value||(this.uniforms.uOpacity.value=1),this.uniforms.uTime.value+=s,this.uniforms.uScrollY.value=e,this.uniforms.uScrollDeltaY.value=t,this.setMeshPosition(e),this.el.position&&this.el.position.y&&(this.uniforms.uParallax.value=this.el.position.y)):0!==this.uniforms.uOpacity.value&&(this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0,this.uniforms.uScrollDeltaY.value=0,this.uniforms.uParallax.value=0)}}class Ye extends Ue{constructor({stage:e,width:t=1,height:i=1,uniforms:s={},geometry:n=null,el:o=null,canvas2d:r=null,isResize:a=!1}){super({stage:e,width:t,height:i,uniforms:s,vs:"#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n\n}",fs:"precision highp float;\n#define GLSLIFY 1\n\nconst float PI = 3.1415926535897932384626433832795;\n\n//uniform float uAspectRatio;\nuniform vec2 uMeshSize;\nuniform vec2 uTextureUv;\nuniform vec2 uTextUv;\nuniform float uOpacity;\nuniform float uFade;\nuniform float uScrollY;\nuniform float uScrollDeltaY;\nuniform float uTime;\n\nuniform sampler2D uTexture;\n\nvarying vec2 vUv;\n\nconst float WAVE_SWING_RATIO = 0.45;\nconst float WAVE_SCROLL_RATIO = -0.0000375;\n//const float TIME_TRANSLATE_RATIO = 0.75;\nconst float TIME_TRANSLATE_RATIO = 0.025;\nconst float SCROLL_Y_TRANSLATE_RATIO = 0.000175;\n\nvec2 calcMeshSizeRatio( vec2 uv, vec2 meshSizeRatio ){\n    uv.y -= 0.5;\n    uv.y /= meshSizeRatio.y;\n    uv.y += 0.5;\n    uv.x /= meshSizeRatio.x;\n    return uv;\n}\n\nvec2 calcUvMod(vec2 uv, vec2 borderLine){\n    return uv = vec2(\n    mod(uv.x, borderLine.x),\n    mod(uv.y, borderLine.y)\n    );\n}\n\nvec2 uvMod(vec2 uv){\n    return uv = vec2(mod(uv.x, uTextUv.x), uv.y );\n}\n\nvoid main() {\n    // Wave\n    vec2 uvWaveScroll = vUv * 2. - 1.;\n    float waveScrollX = sin((uvWaveScroll.y + WAVE_SWING_RATIO )  * PI);\n\n    // Texture\n    vec2 uvTexture = vUv;\n    uvTexture.x += uTime * TIME_TRANSLATE_RATIO;\n    uvTexture.x += uScrollY * SCROLL_Y_TRANSLATE_RATIO;\n    uvTexture.x += waveScrollX * uScrollDeltaY * WAVE_SCROLL_RATIO;\n\n    vec2 textureMeshSizeRatio = vec2(\n        uTextureUv.x / uMeshSize.x,\n        uTextureUv.y / uMeshSize.y\n    );\n\n    uvTexture = calcMeshSizeRatio( uvTexture , textureMeshSizeRatio );\n    uvTexture = calcUvMod(uvTexture, vec2(uTextUv.x , 0.));\n\n    vec4 cDist = texture2D(uTexture, uvTexture);\n    cDist.a *= uOpacity * uFade;\n\n    gl_FragColor = cDist;\n}\n",geometry:n}),this.el=o,this.canvas2d=r,this.texture=this.canvas2d.texture;const l={uScrollY:{value:0},uScrollDeltaY:{value:0},uMeshSize:{value:{x:t,y:i}},uMeshSizeRatio:{value:{x:t/(t+i),y:i/(t+i)}},uTexture:{value:new g.a(this.canvas2d.$canvas)},uTextureUv:{value:{x:this.canvas2d.textureSize.width,y:this.canvas2d.textureSize.height}},uTextUv:{value:{x:this.canvas2d.textBaseSize.width/this.canvas2d.textureSize.width,y:this.canvas2d.textBaseSize.height/this.canvas2d.textureSize.height}},uTime:{value:0},uFade:{value:a?1:0}};Object.assign(this.uniforms,l),this.uniforms.uTexture.value.minFilter=g.d}init(){super.init()}setMeshSize(){this.mesh.scale.set(this.width,this.height,1),this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.value.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.value.y=this.height/(this.width+this.height),this.uniforms.uTextureUv={value:{x:this.canvas2d.textureSize.width,y:this.canvas2d.textureSize.height}},this.uniforms.uTextUv={value:{x:this.canvas2d.textBaseSize.width/this.canvas2d.textureSize.width,y:this.canvas2d.textBaseSize.height/this.canvas2d.textureSize.height}}}onResize(e={width:1,height:1}){this.width=this.el.width,this.height=this.el.height,this.setMeshSize()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf}onUpdate({scrollY:e,scrollDeltaY:t,timeDelta:i=0}){this.el.isInView?(this.uniforms.uOpacity.value||(this.uniforms.uOpacity.value=1),this.uniforms.uTime.value+=i,this.setMeshPosition(e),this.uniforms.uScrollY.value=e,this.uniforms.uScrollDeltaY.value=t,this.el.position&&this.el.position.y&&(this.uniforms.uParallax.value=this.el.position.y)):this.uniforms.uOpacity.value&&(this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0,this.uniforms.uScrollDeltaY.value=0)}}class Ve extends Ue{constructor({stage:e,width:t=1,height:i=1,uniforms:s={},vs:n="#define GLSLIFY 1\nuniform mat4 mMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}",fs:o="precision mediump float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nvec2 rotation2d(vec2 v, float a) {\n    float s = sin(a);\n    float c = cos(a);\n    mat2 m = mat2(c, -s, s, c);\n    return m * v;\n}\n\nvec2 scale2d(vec2 _uv, float ratio){\n    _uv -= 0.5;\n    _uv /= ratio;\n    _uv += 0.5;\n\n    return _uv;\n}\n\nvec2 distortion_0(vec2 p, float progress, float ratio){\n    float theta  = atan(p.y, p.x);\n    float rad = length(p);\n\n    rad = pow(rad, 1. - progress * ratio );\n\n    p.x = rad * cos(theta);\n    p.y = rad * sin(theta);\n    return 0.5 * (p + 1.0);\n}\n\nvarying highp vec2 vUv;\n\nuniform vec2 uMeshSize;\nuniform float uOpacity;\nuniform float uScrollY;\nuniform float uIsStarted;\nuniform float uSlideTransitionProgress;\nuniform float uSlideTransitionFadeProgress;\nuniform float uTransitionDistortionProgress;\nuniform float uZoomRatioCurrent;\nuniform float uZoomRatioNext;\n\nuniform sampler2D uTextureCurrent;\nuniform sampler2D uTextureNext;\n\nconst float TEX_ASPECT = 0.5;\nconst float RSQ_LIMIT_RATIO = 0.;\nconst float UV_DISTORTION_RATIO = -4.25;\n\nfloat checkScale(float distortion, float rsqLimit) {\n    float distPluse = 1. + distortion * rsqLimit;\n    float distMinus = 1. / (1. - distortion * rsqLimit);\n\n    return mix( distPluse, distMinus, step( distortion, 0. ) );\n}\n\nvoid main(void) {\n    // \n    float meshAspectXY = uMeshSize.x / uMeshSize.y;\n    float meshAspectYX = uMeshSize.y / uMeshSize.x;\n    float uvSizeAspectRatio = min(meshAspectXY, meshAspectYX);\n\n    // base color\n    vec4 cBlack = vec4(0., 0., 0., 1.);\n\n    // uv current next\n    vec2 uvNormal = vec2(vUv - 0.5);\n    vec2 uvCircle = vUv * 2. - 1.;\n\n    // parallax\n    uvNormal.y += uScrollY * 0.0005;\n    uvNormal /=  1. + uScrollY * 0.000125;\n\n    // distortion \n    uvNormal = mix(\n        vec2(uvNormal.x / (meshAspectYX  / TEX_ASPECT), uvNormal.y),\n        vec2(uvNormal.x, uvNormal.y / (meshAspectXY  * TEX_ASPECT)),\n        step(meshAspectYX, TEX_ASPECT)\n    );\n\n    // \n    float uvNormalx2 = pow(uvNormal.x / TEX_ASPECT, 2.);\n    float uvNormaly2 = pow(uvNormal.y, 2.);\n    // ()\n    float rsq = uvNormalx2 + uvNormaly2;\n    float rsqLimit = RSQ_LIMIT_RATIO;\n\n    //uv current\n    float uvCurrentDistortion = UV_DISTORTION_RATIO * (uTransitionDistortionProgress * 0.95 + ( 1. - uZoomRatioCurrent ) * 0.05);\n    float uvScaleCurrent = checkScale(uvCurrentDistortion, rsqLimit);\n    vec2 uvTextureCurrent = vec2(\n        0.5 + uvNormal.x * (1. + uvCurrentDistortion * rsq) / uvScaleCurrent,\n        0.5 + uvNormal.y * (1. + uvCurrentDistortion * rsq) / uvScaleCurrent\n    );\n\n    // rotation\n    uvTextureCurrent -= 0.5;\n    uvTextureCurrent = rotation2d(uvTextureCurrent, 0.3 * uSlideTransitionProgress);\n    uvTextureCurrent += 0.5;\n    // zoom\n    uvTextureCurrent = scale2d(uvTextureCurrent, 1.15 - uZoomRatioCurrent * 0.15);\n    // texture\n    vec4 cTextureCurrent = texture2D(uTextureCurrent, uvTextureCurrent);\n    cTextureCurrent = mix( cBlack, cTextureCurrent, uIsStarted );\n    // fade\n    cTextureCurrent = mix(cBlack, cTextureCurrent, 1. - uTransitionDistortionProgress);\n\n    // uv next\n    float uvNextDistortion = UV_DISTORTION_RATIO - UV_DISTORTION_RATIO * (uTransitionDistortionProgress * 0.95 + uZoomRatioNext * 0.05);\n    float uvScaleNext = checkScale(uvNextDistortion, rsqLimit);\n    vec2 uvTextureNext = vec2(\n        0.5 + uvNormal.x * (1. + uvNextDistortion * rsq) / uvScaleNext,\n        0.5 + uvNormal.y * (1. + uvNextDistortion * rsq) / uvScaleNext\n    );\n    // rotation\n    uvTextureNext -= 0.5;\n    uvTextureNext = rotation2d(uvTextureNext, -0.9 * (1. - uSlideTransitionProgress));\n    uvTextureNext += 0.5;\n    // zoom\n    uvTextureNext = scale2d(uvTextureNext, 1.15 - uZoomRatioNext * 0.15);\n    // texture\n    vec4 cTextureNext = texture2D(uTextureNext, uvTextureNext);\n    // fade\n    cTextureNext = mix(cTextureCurrent, cTextureNext, uSlideTransitionFadeProgress);\n\n    // \n    uvCircle = mix(\n        vec2(uvCircle.x, uvCircle.y / meshAspectXY),\n        vec2(uvCircle.x / meshAspectYX, uvCircle.y),\n        step(uMeshSize.x, uMeshSize.y)\n    );\n\n    // UV \n    float circleLength = length(uvCircle);\n\n    // MAX\n    float circleScaleScrennSizeFixMultipleRatio =  sqrt(1. +  pow(uvSizeAspectRatio, 2.));\n    circleLength /= circleScaleScrennSizeFixMultipleRatio;\n\n    // Eade\n    vec4 cDist = mix(\n        cTextureCurrent,\n        cTextureNext,\n        smoothstep(\n            circleLength - 1. + 0.9999 * (1. - uSlideTransitionProgress),\n            circleLength,\n            uSlideTransitionProgress\n        )\n    );\n\n    float progressNext = smoothstep(\n        circleLength - 1. + 0.9999 * (1. - uSlideTransitionProgress),\n        circleLength,\n        uSlideTransitionProgress\n    );\n\n    // currentnextmask\n    cDist = mix(\n        cDist,\n        cTextureNext,\n        progressNext\n    );\n\n    gl_FragColor = cDist;\n}",geometry:r=null,material:a=null,el:l=null,textures:h=null,currentNumber:u=0}){super({stage:e,width:t,height:i,uniforms:s,vs:n,fs:o,geometry:r,material:a,el:l}),this.tick=0,this.currentNumber=u,this.textures=h,this.el=l,this.tweenProgress=null,this.tweenDistortionProgress=null,this.tweenZoomRatioCurrent=null,this.tweenZoomRatioNext=null,this.tweenFadeProgress=null,this.isAnimating=!1;const c={uScrollY:{value:0},uTextureCurrent:{value:null},uTextureNext:{value:null},uSlideTransitionProgress:{value:0},uSlideTransitionFadeProgress:{value:0},uTransitionDistortionProgress:{value:0},uZoomRatioCurrent:{value:1},uZoomRatioNext:{value:0},uIsStarted:{value:0},uMeshSize:{value:{x:t,y:i}}};this.uniforms=Object.assign(this.uniforms,c)}init(){this.uniforms.uTextureCurrent.value=this.textures[0],this.uniforms.uTextureNext.value=this.textures[this.textures.length-1],this.stage.onUpdate(),super.init()}setMeshSize(){this.mesh.scale.set(this.width,this.height,1),this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height}async animationIn(e,t){await new Promise(i=>{this.isAnimating=!0,this.uniforms.uTextureCurrent.value=this.textures[e],this.uniforms.uTextureNext.value=this.textures[t],this.uniforms.uSlideTransitionProgress.value=0,this.uniforms.uTransitionDistortionProgress.value=0,this.uniforms.uZoomRatioNext.value=0,this.uniforms.uSlideTransitionFadeProgress.value=0;const s=this.uniforms.uZoomRatioCurrent.value-4;T.clearTween(this.tweenZoomRatioCurrent),this.tweenZoomRatioCurrent=null,this.tweenZoomRatioCurrent=l.a.to(this.uniforms.uZoomRatioCurrent,1.6,{value:s,ease:"quart.inOut"}),T.clearTween(this.tweenZoomRatioNext),this.tweenZoomRatioNext=l.a.to(this.uniforms.uZoomRatioNext,5.8,{value:1,ease:"none"}),T.clearTween(this.tweenProgress),this.tweenProgress=l.a.to(this.uniforms.uSlideTransitionProgress,1.5,{value:1,ease:"cubic.inOut"}),T.clearTween(this.tweenFadeProgress),this.tweenFadeProgress=l.a.to(this.uniforms.uSlideTransitionFadeProgress,1.5,{value:1,ease:"none"}),this.tweenDistortionProgress=l.a.to(this.uniforms.uTransitionDistortionProgress,1.8,{value:1,ease:"quart.inOut",onComplete:()=>{this.tweenZoomRatioCurrent.pause(),this.tweenZoomRatioNext.pause(),this.uniforms.uZoomRatioCurrent.value=this.uniforms.uZoomRatioNext.value,this.el.$el.dataset.currentNumber=t,this.uniforms.uIsStarted.value=1,this.isAnimating=!1,this.tweenZoomRatioNext.play(),this.tweenZoomRatioCurrent=l.a.to(this.uniforms.uZoomRatioCurrent,4,{value:1,ease:"none"}),i()}})})}play(){this.tweenZoomRatioCurrent&&this.tweenZoomRatioCurrent.play(),this.tweenZoomRatioNext&&this.tweenZoomRatioNext.play(),this.tweenProgress&&this.tweenProgress.play(),this.tweenDistortionProgress&&this.tweenDistortionProgress.play()}pause(){this.tweenZoomRatioCurrent&&this.tweenZoomRatioCurrent.pause(),this.tweenZoomRatioNext&&this.tweenZoomRatioNext.pause(),this.tweenProgress&&this.tweenProgress.pause(),this.tweenDistortionProgress&&this.tweenDistortionProgress.pause()}set(e){this.el.$el.dataset.currentNumber=e,this.uniforms.uTextureCurrent.value=this.textures[e],this.uniforms.uTextureNext.value=this.textures[(e+1)%this.textures.length],this.uniforms.uSlideTransitionProgress.value=0,this.uniforms.uTransitionDistortionProgress.value=0}onResize(e={width:1,height:1}){this.width=this.el.width,this.height=this.el.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.setMeshSize()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf}onUpdate({scrollY:e}){this.el.isInView?(this.uniforms.uScrollY.value=e,this.uniforms.uOpacity.value||(this.uniforms.uOpacity.value=1),this.mesh&&this.mesh.position&&this.setMeshPosition(e)):this.uniforms.uOpacity&&(this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0)}}class je extends Ue{constructor({stage:e,width:t=1,height:i=1,geometry:s=null,el:n=null,textureLeft:o=null,textureRight:r=null,textWidth:a=null,textHeight:l=null,textureWidth:h=null,textureHeight:u=null}){super({stage:e,width:t,height:i,vs:"#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.);\n}",fs:"precision highp float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform float uOpacity;\nuniform float uScrollY;\nuniform float uTime;\nuniform float uTransitionProgress;\nuniform float uTransitionProgressIn;\nuniform float uMaskIn;\n\nuniform vec2 uMeshSize;\nuniform vec2 uTextureUv;\nuniform vec2 uTextUv;\n\nuniform sampler2D uTextureLeft;\nuniform sampler2D uTextureRight;\n\nvarying vec2 vUv;\n\nconst float TRANSITION_WAVE_RATIO = 4.;\n//const float TIME_TRANSLATE_RATIO = 0.25;\nconst float TIME_TRANSLATE_RATIO = 0.008333;\nconst float TRASNTION_TRANSLATE_RATIO = 0.1575;\nconst float SCROLL_TRANSLATE_RATIO = 0.000125;\nconst float UV_RATIO = 0.06;\n//const float WAVE_TIME_RATIO = 50. ;\nconst float WAVE_TIME_RATIO = 1.6667 ;\n\nconst vec2 WAVE_TRANSITION_AMPLITYDE_RATIO = vec2( 0.0125 , 0.005 );\n\nvec2 uvTextureLoop(vec2 uvTexture){\n    uvTexture.y -= (1. - uTextUv.y);\n    uvTexture.y = mod(uvTexture.y, uTextUv.y);\n    uvTexture.y += (1. - uTextUv.y);\n\n    return uvTexture = vec2(\n        mod(uvTexture.x, uTextureUv.x),\n        uvTexture.y\n    );\n}\n\nvoid main() {\n    // uv\n    vec2 uvTexture = vUv;\n\n    // texture \n    vec2 textureMeshSizeRatio = vec2(\n        uTextureUv.x / uMeshSize.x,\n        uTextureUv.y / uMeshSize.y\n    );\n\n    // transitionsin\n    float waveTransitionProgress = mix( uTransitionProgress, 1. - uTransitionProgress, step( 0.5, uTransitionProgress ) );\n    vec2 waveTransition = vec2(\n        sin((uvTexture.y + uTime * WAVE_TIME_RATIO + uTransitionProgress * 0.35) * 2. * PI) * WAVE_TRANSITION_AMPLITYDE_RATIO.x,\n        sin((uvTexture.y + uTime * WAVE_TIME_RATIO) * 1.5 * PI) * WAVE_TRANSITION_AMPLITYDE_RATIO.y\n    );\n    uvTexture += waveTransition *  (waveTransitionProgress + uMaskIn ) * TRANSITION_WAVE_RATIO;\n\n    uvTexture -= 0.5;\n    // text size / viewport\n    uvTexture /= max(1000., uMeshSize.x) / 1600.;\n    // texture\n    uvTexture.x /= textureMeshSizeRatio.x;\n    uvTexture += 0.5;\n    // texture\n    uvTexture.y /= textureMeshSizeRatio.y;\n\n    // left texture\n    vec2 uvTextureLeft = uvTexture;\n    uvTextureLeft.y += uTime * TIME_TRANSLATE_RATIO;\n    uvTextureLeft.y += uTransitionProgressIn * TRASNTION_TRANSLATE_RATIO * uTextUv.y;\n    uvTextureLeft.y += UV_RATIO;\n    uvTextureLeft.y += uScrollY * SCROLL_TRANSLATE_RATIO;\n    // mask \n    uvTextureLeft.x -= uTextUv.x * uMaskIn;\n    // text loop\n    uvTextureLeft = uvTextureLoop(uvTextureLeft);\n    // texture left\n    vec4 cTextureLeft = texture2D(uTextureLeft, uvTextureLeft);\n    // mask\n    cTextureLeft.a = mix( cTextureLeft.a , 0. , step(0.5, uvTexture.x) );\n\n    // right texture\n    vec2 uvTextureRight = uvTexture;\n    uvTextureRight.y -= uTime * TIME_TRANSLATE_RATIO;\n    uvTextureRight.y -= uTransitionProgressIn * TRASNTION_TRANSLATE_RATIO * uTextUv.y;\n    uvTextureRight.y -= UV_RATIO;\n    uvTextureRight.y -= uScrollY * SCROLL_TRANSLATE_RATIO;\n    // mask \n    uvTextureRight.x += uTextUv.x * uMaskIn;\n    // text loop\n    uvTextureRight = uvTextureLoop(uvTextureRight);\n    // texture right\n    vec4 cTextureRight = texture2D(uTextureRight, uvTextureRight);\n    // mask\n    cTextureRight.a = mix( 0., cTextureRight.a, step(0.5, uvTexture.x) );\n\n    // left + right texture\n    vec4 cDist = cTextureRight + cTextureLeft;\n    cDist.a *= uOpacity;\n\n    gl_FragColor = cDist;\n}\n",geometry:s}),this.el=n,this.canUpdate=!1,this.isActive=!0,this.isStartAnimating=!0,this.isAnimating=!1,this.isAnimatingIn=!1,this.isAnimatingOut=!1,this.tweenProgress=null,this.tweenProgressIn=null,this.tweenProgressOut=null,this.tweenMaskIn=null,this.progressAll=0,this.count=0;const c={uScrollY:{value:0},uTransitionProgress:{value:0},uTransitionProgressIn:{value:0},uTime:{value:0},uMaskIn:{value:1},uTextureLeft:{value:o},uTextureRight:{value:r},uMeshSize:{value:{x:t,y:i}},uTextureUv:{value:{x:h,y:u}},uTextUv:{value:{x:a/h,y:l/u}}};this.uniforms=Object.assign(c,this.uniforms)}init(){this.canUpdate=!0,super.init()}setMeshSize(){this.mesh.scale.set(this.width,this.height,1),this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height}onResize(e={width:1,height:1}){this.width=this.el.width,this.height=this.el.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.setMeshSize()}async startUpAnimation(){this.tweenMaskIn=l.a.to(this.uniforms.uMaskIn,.85,{value:0,delay:.15,ease:"cubic.out",onUpdate:()=>{this.uniforms.uMaskIn.value<.0333&&this.isStartAnimating&&(this.isStartAnimating=!1)},onComplete:()=>{T.clearTween(this.tweenMaskIn)}})}async animationIn(){this.isStartAnimating?await new Promise(e=>{e()}):(this.progressAll+=1,await new Promise(e=>{this.isAnimating=!0,this.isAnimatingIn=!0,T.clearTween(this.tweenProgress),T.clearTween(this.tweenProgressIn),T.clearTween(this.tweenProgressOut),this.tweenProgress=l.a.to(this.uniforms.uTransitionProgress,1.6,{value:1,ease:"cubic.inOut"}),this.tweenProgressIn=l.a.to(this.uniforms.uTransitionProgressIn,1.6,{value:this.progressAll,ease:"cubic.inOut",onComplete:()=>{this.uniforms.uTransitionProgress.value=0,this.isAnimating=!1,this.isAnimatingIn=!1,e()}})}))}play(){this.canUpdate=!0,this.tweenProgress&&this.tweenProgress.play(),this.tweenProgressIn&&this.tweenProgressIn.play(),this.tweenProgressOut&&this.tweenProgressOut.play()}pause(){this.canUpdate=!1,this.tweenProgress&&this.tweenProgress.pause(),this.tweenProgressIn&&this.tweenProgressIn.pause(),this.tweenProgressOut&&this.tweenProgressOut.pause()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf}onUpdate({scrollY:e,timeDelta:t=0}){if(this.el.isInView){if(!this.canUpdate)return;this.uniforms.uOpacity.value||(this.uniforms.uOpacity.value=1),this.isStartAnimating||(this.uniforms.uTime.value+=t),this.uniforms.uScrollY.value=e,this.setMeshPosition(e)}else this.uniforms.uOpacity.value&&(this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0)}}class Ge extends Ue{constructor({stage:e,width:t=1,height:i=1,uniforms:s={},geometry:n=null,el:o=null}){super({stage:e,width:t,height:i,uniforms:s,vs:"#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform float uTransitionProgress;\nuniform float uTime;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    vec3 pos = position;\n\n    float curveProgress = mix( uTransitionProgress, 1. - uTransitionProgress, step( 0.5, uTransitionProgress ) );\n    float curve = sin( ( uv.y * 2.5 + uTransitionProgress * 2.5 + uTime * 2. ) * PI) * 0.2 * curveProgress;\n\n    pos.x += curve;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n\n}",fs:"precision mediump float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nvarying highp vec2 vUv;\n\nuniform float uOpacity;\nuniform float uScrollY;\nuniform float uTransitionProgressIn;\n\nuniform vec2 uMeshSize;\n\nvoid main(void) {\n\n    vec2 uvLine = vUv;\n    float lineWidthRatio = 1. / uMeshSize.x;\n\n    float min = 0.5 - lineWidthRatio * 0.5;\n    float max = 0.5 + lineWidthRatio * 0.5;\n\n    vec4 cDist = vec4(1.,1.,1.,0.);\n\n    if( uvLine.x > min  && uvLine.x < max){\n        cDist.a = 1.;\n        cDist.a = mix(cDist.a, cDist.a * 0.3, step( uvLine.y, 0.8 - ( uTransitionProgressIn / 5.  ) ));\n    }\n\n    cDist.a *= uOpacity;\n\n    gl_FragColor = cDist;\n}",geometry:n}),this.el=o,this.elLeftRatio=1,this.elLeft=0,this.isIn=!1,this.tweenOpacity=null,this.tweenProgress=null,this.tweenProgressIn=null,this.eventHadnler={mouseEnter:null,mouseLeave:null},this.progressAll=0,Object.assign(this.uniforms,{uScrollY:{value:0},uScrollDeltaY:{value:0},uOpacity:{value:0},uTransitionProgress:{value:0},uTransitionProgressIn:{value:0},uMeshSize:{value:{x:t,y:i}},uMeshSizeRatio:{value:{x:t/(t+i),y:i/(t+i)}}}),pageInited&&(this.elLeftRatio=0)}init(){super.init()}startupAnimation(){l.a.to(this,1.4,{elLeftRatio:0,ease:"quart.out",delay:1})}animationIn(e,t){T.clearTween(this.tweenProgress),T.clearTween(this.tweenProgressIn),this.tweenProgress=l.a.to(this.uniforms.uTransitionProgress,1.6,{value:1,ease:"cubic.inOut"}),this.tweenProgressIn=l.a.to(this.uniforms.uTransitionProgressIn,1.6,{value:t,ease:"quart.inOut",onComplete:()=>{this.uniforms.uTransitionProgress.value=0}})}setMeshSize(){this.mesh.scale.set(this.width,this.height,1),this.elLeft=.045*this.stage.stageSize.width}setMeshPosition(e){this.mesh.position.x=-this.stage.stageSize.widthHalf+this.elLeft-this.elLeftRatio*(this.elLeft+this.widthHalf)*1.025+this.widthHalf,this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.z=0}onResize(){this.width=this.el.width,this.height=this.el.height,this.heightHalf=.5*this.el.height,this.widthHalf=.5*this.el.width,this.uniforms.uMeshSize.value.x=this.el.width,this.uniforms.uMeshSize.value.y=this.el.height,this.uniforms.uMeshSizeRatio.x=this.el.width/(this.el.width+this.el.height),this.uniforms.uMeshSizeRatio.y=this.el.height/(this.el.width+this.el.height),this.setMeshSize()}onUpdate({scrollY:e,scrollDeltaY:t,timeDelta:i}){!this.isIn&&this.el.$el.classList.contains("is-in")&&P.IOReady&&(this.isIn=!0),this.el.isInView?(this.uniforms.uOpacity.value||(this.uniforms.uOpacity.value=1),this.uniforms.uScrollY.value=e,this.uniforms.uScrollDeltaY.value=t,this.setMeshPosition(e),this.uniforms.uTime.value+=i):0!==this.uniforms.uOpacity.value&&(this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0,this.uniforms.uScrollDeltaY.value=0)}}class We extends Ue{constructor({stage:e,width:t=1,height:i=1,uniforms:s={},geometry:n=null,el:o=null,canvas2d:r=null}){super({stage:e,width:t,height:i,uniforms:s,vs:"#define GLSLIFY 1\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}",fs:"precision highp float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nvec2 rotation2d(vec2 v, float a) {\n    float s = sin(a);\n    float c = cos(a);\n    mat2 m = mat2(c, -s, s, c);\n    return m * v;\n}\n\nuniform float uTime;\nuniform float uOpacity;\nuniform float uScrollY;\nuniform float uScrollDeltaY;\nuniform float uProgress;\nuniform float uTransitionProgress;\n\nuniform vec2 uMeshSize;\nuniform vec2 uTextureSizeCurrent;\nuniform vec2 uTextSizeCurrent;\nuniform vec2 uTextureSizeNext;\nuniform vec2 uTextSizeNext;\n\nuniform sampler2D uTextureCurrent;\nuniform sampler2D uTextureNext;\n\nvarying vec2 vUv;\n\nvec2 calcUvMod(vec2 uv, vec2 borderLine){\n    return uv = vec2(\n        mod(uv.x, borderLine.x),\n        mod(uv.y, borderLine.y)\n    );\n}\n\nfloat uvSingleNormalize( float uvSingle ){\n    return uvSingle * 2. - 1.;\n}\n\nvec2 calcMeshSizeRatio( vec2 uv, vec2 meshSizeRatio ){\n    uv.y -= 0.5;\n    uv.y /= meshSizeRatio.y;\n    uv.y += 0.5;\n    uv.x /= meshSizeRatio.x;\n    return uv;\n}\n\nconst float WAVE_SCROLL_RATIO = -0.0000375;\n//const float TIME_TRANSLATE_RATIO = 0.75;\nconst float TIME_TRANSLATE_RATIO = 0.025;\nconst float WAVE_SWING_RATIO = 0.45;\n\nvoid main() {\n    vec2 uvTexture = vUv;\n\n    //  current\n    vec2 textureMeshSizeRatioCurrent = vec2(\n        uTextureSizeCurrent.x / uMeshSize.x,\n        uTextureSizeCurrent.y / uMeshSize.y\n    );\n    //  next\n    vec2 textureMeshSizeRatioNext = vec2(\n        uTextureSizeNext.x / uMeshSize.x,\n        uTextureSizeNext.y / uMeshSize.y\n    );\n\n    // scroll wave current next \n    vec2 uvWaveScroll = vUv;\n    uvWaveScroll.y =  uvSingleNormalize(uvWaveScroll.y);\n    float waveScrollX = sin((uvWaveScroll.y + WAVE_SWING_RATIO )  * PI);\n    uvTexture.x += waveScrollX * uScrollDeltaY * WAVE_SCROLL_RATIO;\n    // scroll  current next \n    uvTexture.x += uScrollY * 0.000175;\n    // time  current next \n    uvTexture.x += uTime * TIME_TRANSLATE_RATIO;\n    // wave transition current next \n    float waveTransitionProgress = mix( uProgress , 1. - uProgress ,  step(0.5, uProgress));\n\n    // uv curent texture\n    vec2 uvTextureCurrent = uvTexture;\n    // wave transition current\n    vec2 uvWaveTransitionCurrent = vUv;\n    uvWaveTransitionCurrent.y -= uProgress;\n    uvWaveTransitionCurrent.y = uvSingleNormalize(uvWaveTransitionCurrent.y);\n    uvWaveTransitionCurrent = rotation2d(uvWaveTransitionCurrent, 0.95 );\n    float waveTransitionCurrent = sin((uvWaveTransitionCurrent.y * 2.2 + WAVE_SWING_RATIO + uProgress * 2.5 )  * PI) * waveTransitionProgress;\n    uvTextureCurrent += waveTransitionCurrent * -0.0065;\n    // transition current \n    uvTextureCurrent.y -= uProgress;\n    uvTextureCurrent.x += uProgress * 0.05;\n    // current \n    uvTextureCurrent = calcMeshSizeRatio( uvTextureCurrent,textureMeshSizeRatioCurrent );\n    uvTextureCurrent = calcUvMod(uvTextureCurrent, vec2(uTextSizeCurrent.x, 0.));\n    // current texture color\n    vec4 cTextureCurrent = texture2D(uTextureCurrent, uvTextureCurrent);\n\n    // uv next texture\n    vec2 uvTextureNext = uvTexture;\n    // wave transition next\n    vec2 uvWaveTransitionNext = vUv;\n    uvWaveTransitionNext.y += 1. - uProgress;\n    uvWaveTransitionNext.y = uvSingleNormalize(uvWaveTransitionNext.y);\n    uvWaveTransitionNext = rotation2d(uvWaveTransitionNext, 0.95 );\n    float waveTransitionNext = sin((uvWaveTransitionNext.y * 2.2 + WAVE_SWING_RATIO + uProgress * 2.5 )  * PI) * waveTransitionProgress;\n    uvTextureNext += waveTransitionNext * -0.0065;\n    // transition next \n    uvTextureNext.y += 1. - uProgress;\n    uvTextureNext.x -= 0.05 - uProgress * 0.05;\n    // next \n    uvTextureNext = calcMeshSizeRatio( uvTextureNext,textureMeshSizeRatioNext );\n    uvTextureNext = calcUvMod(uvTextureNext, vec2(uTextSizeNext.x, 0.));\n    // next texture color\n    vec4 cTextureNext = texture2D(uTextureNext, uvTextureNext);\n\n    // dist color\n    vec4 cDist = cTextureCurrent + cTextureNext;\n    cDist.a *= uOpacity;\n\n    gl_FragColor = cDist;\n}",geometry:n}),this.el=o,this.progress=0,this.current=0,this.isActive=!0,this.canvas2dArray=r,this.textures=[],this.textureslength=this.canvas2dArray.length;const a={uScrollY:{value:0},uScrollDeltaY:{value:0},uTransitionProgress:{value:0},uPrevProgress:{value:0},uCurrentProgress:{value:0},uNextProgress:{value:0},uTime:{value:0},uProgress:{value:0},uMeshSize:{value:{x:t,y:i}},uTexturePrev:{value:null},uTextureSizePrev:{value:{x:0,y:0}},uTextSizePrev:{value:{x:0,y:0}},uTextureCurrent:{value:null},uTextureSizeCurrent:{value:{x:0,y:0}},uTextSizeCurrent:{value:{x:0,y:0}},uTextureNext:{value:null},uTextureSizeNext:{value:{x:0,y:0}},uTextSizeNext:{value:{x:0,y:0}}};Object.assign(this.uniforms,a),this.canvas2dArray.forEach((e,t)=>{this.textures[t]=new g.a(e.$canvas),this.textures[t].minFilter=g.d}),this.setTexture(this.current),this.canUpdate=!0}setTexture(e){const t=e-1<0?this.textureslength-1:e-1,i=(e+1)%this.textureslength;this.uniforms.uTexturePrev.value=this.textures[t],this.uniforms.uTextureSizePrev.value.x=this.canvas2dArray[t].textBaseSize.width/this.canvas2dArray[t].textureSize.width,this.uniforms.uTextureSizePrev.value.y=this.canvas2dArray[t].textBaseSize.height/this.canvas2dArray[t].textureSize.height,this.uniforms.uTextureCurrent.value=this.textures[e],this.uniforms.uTextureSizeCurrent.value.x=this.canvas2dArray[e].textureSize.width,this.uniforms.uTextureSizeCurrent.value.y=this.canvas2dArray[e].textureSize.height,this.uniforms.uTextSizeCurrent.value.x=this.canvas2dArray[e].textBaseSize.width/this.canvas2dArray[e].textureSize.width,this.uniforms.uTextSizeCurrent.value.y=this.canvas2dArray[e].textBaseSize.height/this.canvas2dArray[e].textureSize.height,this.uniforms.uTextureNext.value=this.textures[i],this.uniforms.uTextureSizeNext.value.x=this.canvas2dArray[i].textureSize.width,this.uniforms.uTextureSizeNext.value.y=this.canvas2dArray[i].textureSize.height,this.uniforms.uTextSizeNext.value.x=this.canvas2dArray[i].textBaseSize.width/this.canvas2dArray[i].textureSize.width,this.uniforms.uTextSizeNext.value.y=this.canvas2dArray[i].textBaseSize.height/this.canvas2dArray[i].textureSize.height}init(){super.init()}setMeshSize(){this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.mesh.scale.set(this.width,this.height,75),this.setTexture(this.current)}onResize(e={width:1,height:1}){this.width=this.el.width,this.height=this.el.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.setMeshSize()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf}onUpdate({scrollY:e,scrollDeltaY:t,timeDelta:i=0}){this.canUpdate&&(this.el.isInView&&this.isActive?(this.uniforms.uOpacity.value||(this.uniforms.uOpacity.value=1),this.uniforms.uProgress.value=this.progress,this.setTexture(this.current),this.uniforms.uTime.value+=i,this.uniforms.uScrollY.value=e,this.uniforms.uScrollDeltaY.value=t,this.setMeshPosition(e)):this.uniforms.uOpacity.value&&(this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0,this.uniforms.uScrollDeltaY.value=0))}}class Xe extends Ue{constructor({stage:e,width:t=1,height:i=1,uniforms:s={},geometry:n=null,el:o=null,color:r=1710618}){super({stage:e,width:t,height:i,uniforms:s,vs:"#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform float uTransitionProgress;\nuniform float uTime;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    vec3 pos = position;\n\n    float curveProgress = mix( uTransitionProgress, 1. - uTransitionProgress, step( 0.5, uTransitionProgress ) );\n\n    float curve = sin( (uv.x * 3. - uTime * 5.) *  PI) * 18. * curveProgress;\n//    float curve = sin( (uv.x * 3.  - uTime * 1.) *  PI) * 12.5;\n    pos.y -= curve;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n\n}",fs:"precision mediump float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nvarying highp vec2 vUv;\n\nuniform float uOpacity;\nuniform float uScrollY;\nuniform float uTransitionProgressIn;\n\nuniform vec2 uMeshSize;\nuniform vec3 uColor;\n\nvoid main(void) {\n    vec4 cDist = vec4(uColor,0.1);\n\n    cDist.a = mix(cDist.a, 1., step( vUv.x, uTransitionProgressIn ) );\n    cDist.a *= uOpacity;\n\n    gl_FragColor = cDist;\n}",geometry:n}),this.el=o,this.isIn=!1,this.tweenOpacity=null,this.tweenProgress=null,this.tweenProgressIn=null,this.eventHadnler={mouseEnter:null,mouseLeave:null},this.progressAll=0,Object.assign(this.uniforms,{uScrollY:{value:0},uScrollDeltaY:{value:0},uOpacity:{value:0},uTransitionProgress:{value:1},uTransitionProgressIn:{value:0},uMeshSize:{value:{x:t,y:i}},uMeshSizeRatio:{value:{x:t/(t+i),y:i/(t+i)}},uColor:{value:new g.c(r)}}),pageInited&&(this.elLeftRatio=0)}init(){super.init()}animationIn(e,t){T.clearTween(this.tweenProgress),T.clearTween(this.tweenProgressIn),this.tweenProgress=l.a.to(this.uniforms.uTransitionProgress,1.6,{value:1,ease:"cubic.inOut"}),this.tweenProgressIn=l.a.to(this.uniforms.uTransitionProgressIn,1.6,{value:t,ease:"quart.inOut",onComplete:()=>{this.uniforms.uTransitionProgress.value=0}})}setMeshSize(){this.mesh.scale.set(this.width,this.height,2)}setMeshPosition(e){this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf,this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.z=0}onResize(){this.width=this.el.width,this.height=this.el.height,this.heightHalf=.5*this.el.height,this.widthHalf=.5*this.el.width,this.uniforms.uMeshSize.value.x=this.el.width,this.uniforms.uMeshSize.value.y=this.el.height,this.uniforms.uMeshSizeRatio.x=this.el.width/(this.el.width+this.el.height),this.uniforms.uMeshSizeRatio.y=this.el.height/(this.el.width+this.el.height),this.setMeshSize()}onUpdate({scrollY:e,scrollDeltaY:t,timeDelta:i}){!this.isIn&&this.el.$el.classList.contains("is-in")&&P.IOReady&&(this.isIn=!0),this.el.isInView?(this.uniforms.uOpacity.value||(this.uniforms.uOpacity.value=1),this.uniforms.uScrollY.value=e,this.uniforms.uScrollDeltaY.value=t,this.setMeshPosition(e),this.uniforms.uTime.value+=i):0!==this.uniforms.uOpacity.value&&(this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0,this.uniforms.uScrollDeltaY.value=0)}}class Ze extends Ue{constructor({stage:e,width:t=1,height:i=1,uniforms:s={},geometry:n=null,el:o=null,texture:r=null,gl:a=null}){super({stage:e,width:t,height:i,uniforms:s,vs:"#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uTime;\nuniform float uMouseX;\nuniform float uMouseDiffX;\nuniform float uScrollY;\nuniform float uScrollDeltaY;\nuniform vec2 uMeshSizeRatio;\n\nattribute vec2 uv;\nattribute vec3 position;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    vec3 pos = position;\n    float curveX = sin((vUv.y) * PI)  * uMouseDiffX;\n    float curveZ = sin(((vUv.x)) * PI) * uMouseDiffX;\n    float curveZ2 = sin(((vUv.y * 2.5 + uScrollY * 0.00185)) * PI) * uScrollDeltaY;\n\n    pos.x += curveX * 0.000725;\n    pos.z -= curveZ * 0.00025;\n    pos.z -= curveZ2 * 0.0002;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}",fs:"precision highp float;\n#define GLSLIFY 1\n\nuniform vec2 uMeshSize;\nuniform vec2 uTextureSize;\n\nuniform float uTime;\nuniform float uOpacity;\nuniform float uMouseX;\nuniform float uMouseDiffX;\nuniform sampler2D uTexture;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvTex = vUv;\n\n    vec2 uvRatio = vec2(\n        min((uMeshSize.x / uMeshSize.y) / (uTextureSize.x / uTextureSize.y), 1.),\n        min((uMeshSize.y / uMeshSize.x) / (uTextureSize.y / uTextureSize.x), 1.)\n    );\n\n    uvTex -= 0.5;\n    uvTex *= uvRatio;\n    uvTex += 0.5;\n\n    // color\n    vec4 cTex = texture2D(uTexture, uvTex);\n    cTex.a *= uOpacity;\n\n    gl_FragColor = cTex;\n}\n",geometry:n}),this.gl=a,this.texture=r,this.texture.minFilter=g.d,this.el=o,Object.assign(this.uniforms,{uTranslateX:{value:0},uMeshSize:{value:{x:t,y:i}},uMeshSizeRatio:{value:{x:t/(t+i),y:i/(t+i)}},uTextureSize:{value:{x:this.texture.image.naturalWidth,y:this.texture.image.naturalHeight}},uTexture:{value:this.texture},uOpacity:{value:1},uMouseDiffX:{value:0},uMouseX:{value:0},uScrollY:{value:0},uScrollDeltaY:{value:0}})}init(){super.init(),this.onResize(),this.mesh.visible=!1}setMeshSize(){this.mesh.scale.set(this.width,this.height,1),this.mesh.position.z=.001}onResize(){this.width=this.el.width,this.height=this.el.height,this.heightHalf=.5*this.el.height,this.widthHalf=.5*this.el.width,this.uniforms.uMeshSize.value.x=this.el.width,this.uniforms.uMeshSize.value.y=this.el.height,this.uniforms.uMeshSizeRatio.x=this.el.width/(this.el.width+this.el.height),this.uniforms.uMeshSizeRatio.y=this.el.height/(this.el.width+this.el.height),this.setMeshSize()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf-this.gl.hfImgMeshX}onUpdate({scrollY:e,scrollDeltaY:t,smoothScroll:i,timeDelta:s=0}){!this.isIn&&this.el.$el.classList.contains("is-in")&&P.IOReady&&(this.isIn=!0),this.el.isInView?(this.mesh.visible||(this.mesh.visible=!0,this.uniforms.uOpacity.value=1),this.uniforms.uMouseX.value=this.gl.hfImgMeshX||0,this.uniforms.uMouseDiffX.value=this.gl.hfImgMeshDiffX||0,this.uniforms.uScrollY.value=e,this.uniforms.uScrollDeltaY.value=t,this.setMeshPosition(e)):this.mesh.visible&&(this.mesh.visible=!1,this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0,this.uniforms.uScrollDeltaY.value=0)}}class Je extends Ue{constructor({stage:e,width:t=1,height:i=1,geometry:s=null,el:n=null,texture:o=null,textureMap:r=null}){super({stage:e,width:t,height:i,vs:"#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}",fs:"precision highp float;\n#define GLSLIFY 1\n\nuniform float uOpacity;\nuniform float uScrollY;\nuniform float uOpacityIn;\nuniform float uScaleIn;\n\nuniform vec2 uMeshSize;\nuniform vec2 uMouse;\n\nuniform sampler2D uTexture;\nuniform sampler2D uTextureMap;\n\nvarying vec2 vUv;\n\nconst vec2 SCROLL_RATIO_TRANSLATE_RATIO = vec2( 0.000135, 0.00035);\nconst float MOUSE_RATIO = 0.025;\nconst float MOUSE_DEPTH_FRONT_RATIO = -0.0325;\n\nvoid main() {\n    vec2 uvTexture = vUv;\n\n    uvTexture.x += uScrollY * SCROLL_RATIO_TRANSLATE_RATIO.x;\n    uvTexture.x += 0.3 - uScaleIn * 0.3;\n    uvTexture.y += uScrollY * SCROLL_RATIO_TRANSLATE_RATIO.y - 0.05;\n\n    uvTexture /= 1. + uScrollY * 0.000225;\n    uvTexture /= 1. + 0.4 -  uScaleIn * 0.4;\n\n    uvTexture += uMouse * MOUSE_RATIO;\n\n    vec4 cTextureDepth = texture2D(uTextureMap, uvTexture);\n    vec2 uvDepthFront = uMouse * MOUSE_DEPTH_FRONT_RATIO * (cTextureDepth.r );\n    uvTexture += uvDepthFront;\n\n    vec4 cDist = texture2D(uTexture, uvTexture );\n    cDist.a *= uOpacity * uOpacityIn;\n\n    gl_FragColor = cDist;\n}\n",geometry:s}),this.el=n,this.isIn=!1,this.tweenInOpacity=null,this.tweenInScale=null,this.tweenScale=null,this.tweenTextAll=[],this.tweenImg=null;const a={uScrollY:{value:0},uOpacityIn:{value:0},uScaleIn:{value:0},uMeshSize:{value:{x:t,y:i}},uMeshSizeRatio:{value:{x:t/(t+i),y:i/(t+i)}},uMouse:{value:{x:0,y:0}},uTexture:{value:o},uTextureMap:{value:r}};Object.assign(this.uniforms,a)}init(){super.init()}animationIn(){l.a.to(this.uniforms.uOpacityIn,1.5,{value:1,ease:"linear.inOut",onComplete:()=>{T.clearTween(this.tweenTransitionBgOpacity),this.tweenTransitionBgOpacity=null}}),l.a.to(this.uniforms.uScaleIn,3,{value:1,ease:"expo.out"})}setMeshSize(){this.mesh.scale.set(this.width,this.height,2)}onResize(e={width:1,height:1}){this.width=this.el.width,this.height=this.el.height,this.heightHalf=.5*this.el.height,this.widthHalf=.5*this.el.width,this.setMeshSize()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf}onUpdate({mousePosition:e,scrollY:t}){!this.isIn&&this.el.$el.classList.contains("is-in")&&P.IOReady&&(this.isIn=!0,this.animationIn()),this.el.isInView?(this.uniforms.uOpacity.value||(this.uniforms.uOpacity.value=1),this.uniforms.uScrollY.value=t,this.setMeshPosition(t),e&&e.now&&e.now.y&&(this.uniforms.uMouse.value.x=e.now.x/this.stage.stageSize.width,this.uniforms.uMouse.value.y=-e.now.y/this.stage.stageSize.height)):this.uniforms.uOpacity&&(this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0)}}class Ke{constructor(){}static easeOutSine(e,t,i,s){return i*Math.sin(e/s*(Math.PI/2))+t}static easeOutQuad(e,t,i,s){return-i*(e/=s)*(e-2)+t}}class Qe{constructor(e){this.size=128,this.radius=.05*this.size,this.width=this.size,this.height=this.width*(e.$el.getBoundingClientRect().height/e.$el.getBoundingClientRect().width),this.points=[],this.maxAge=80,e.debug&&(this.width=window.innerWidth,this.height=window.innerHeight,this.radius=.055*this.width),this.options=e}init(){this.$canvas=document.createElement("canvas"),this.$canvas.id="mouseCanvas",this.$canvas.width=this.width,this.$canvas.height=this.height,this.context=this.$canvas.getContext("2d"),this.clear(),this.options.debug&&(document.body.append(this.$canvas),this.$canvas.style.position="fixed",this.$canvas.style.top=0,this.$canvas.style.left=0,this.$canvas.style.zIndex=100,this.$canvas.style.pointerEvents="none"),this.clear()}addPos(e){let t=0,i=0,s=0;const n=this.last;if(n){const o=e.x-n.x,r=e.y-n.y,a=o*o+r*r,l=Math.sqrt(a);i=o/l,s=r/l,t=Math.min(2500*a,1)}this.last={x:e.x,y:e.y},this.points.push({x:e.x,y:e.y,age:0,force:t,vx:i,vy:s})}clear(){this.context.fillStyle="black",this.context.fillRect(0,0,this.$canvas.width,this.$canvas.height)}draw(e){let t=e.x*this.width,i=e.y*this.height;const s=this.radius,n=this.context;let o=1;o=e.age<.4*this.maxAge?Ke.easeOutSine(e.age/(.4*this.maxAge),0,1,1):Ke.easeOutQuad(1-(e.age-.4*this.maxAge)/(.6*this.maxAge),0,1,1),o*=e.force;const r=`${.5*(e.vx+1)*255}, ${.5*(e.vy+1)*255}, ${255*o}`,a=10*this.width;n.shadowOffsetX=a,n.shadowOffsetY=a,n.shadowBlur=1.3*s,n.shadowColor=`rgba(${r},${.8*o})`,this.context.beginPath(),this.context.fillStyle="rgba(255,0,0,1)",this.context.arc(t-a,i-a,s,0,2*Math.PI),this.context.fill()}onUpdate(){this.clear();const e=1/this.maxAge;this.points.forEach((t,i)=>{const s=1-t.age/this.maxAge,n=t.force*e*s;t.x+=t.vx*n,t.y+=t.vy*n,t.age+=1,t.age>this.maxAge&&this.points.splice(i,1)}),this.points.forEach(e=>{this.draw(e)})}clearCanvas(){this.context.clearRect(0,0,this.$canvas.width,this.$canvas.height)}}class et extends qe{constructor({stage:e,width:t=1,height:i=1,uniforms:s={},geometry:n=null,el:o=null,texture:r=null,scrollLimitMax:a}){super({stage:e,width:t,height:i,uniforms:s,vs:"#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}",fs:"precision highp float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform float uOpacity;\nuniform float uParallaxProgress;\nuniform vec2 uMeshSize;\nuniform sampler2D uTexture;\nuniform sampler2D uTextureMouse;\n\nvarying vec2 vUv;\n\n// texture aspect x 1024 / y 2048\nconst float TEX_ASPECT_XY = 0.5;\nconst float TEX_ASPECT_YX = 2.0;\nconst float WAVE_RATIO = 0.33;\n\nvoid main() {\n    vec2 uvTexture = vUv;\n\n    vec4 cMouse = texture2D( uTextureMouse, uvTexture );\n\n    vec2 wave = vec2(\n        -(cMouse.r * 2. - 1.),\n        -(cMouse.g * 2. - 1.)\n    );\n\n    uvTexture.x += wave.x * cMouse.b * WAVE_RATIO;\n    uvTexture.y -= wave.y * cMouse.b * WAVE_RATIO;\n\n    uvTexture -= 0.5;\n    uvTexture = mix(\n        vec2(uvTexture.x / (uMeshSize.y / uMeshSize.x * TEX_ASPECT_YX), uvTexture.y),\n        vec2(uvTexture.x, uvTexture.y / (uMeshSize.x / uMeshSize.y * TEX_ASPECT_XY)),\n        step(uMeshSize.y / uMeshSize.x, TEX_ASPECT_XY)\n    );\n    // zoom in\n    uvTexture /= 1. + (1. - uParallaxProgress) * .5;\n    uvTexture += 0.5;\n\n    vec4 cDist = texture2D(uTexture, uvTexture);\n    cDist.a *= uOpacity;\n\n    gl_FragColor = cDist;\n}",geometry:n,el:o,texture:r}),this.el=o,this.mouseCanvas=new Qe({debug:!1,$el:o.$el}),this.mouseCanvas.init(),this.scrollY=0,this.scrollLimitMax=a;const l={uParallaxProgress:{value:0},uTextureMouse:{value:new g.a(this.mouseCanvas.$canvas)}};Object.assign(this.uniforms,l),this.uniforms.uTextureMouse.value.minFilter=g.d,this.maxHeight=0}init(){super.init(),this.setMouseEvent()}setMouseEvent(){this.el.$el.parentElement.addEventListener("mousemove",e=>{this.mouseCanvas.addPos({x:b.clamp(e.clientX/this.width,0,1),y:b.clamp((e.clientY+this.scrollY-this.el.top)/this.height,0,1)})},!0)}setMeshSize(){super.setMeshSize(),this.maxHeight=Math.max(this.height,this.stage.stageSize.height)}onResize(e={width:1,height:1}){this.uniforms.uResWin.value.x=this.stage.stageSize.width,this.uniforms.uResWin.value.y=this.stage.stageSize.height,super.onResize(e),this.setMeshSize()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=this.el.left}onUpdate({scrollYMax:e,scrollY:t}){this.el.isInView?(this.mesh.visible||(this.mesh.visible=!0,this.uniforms.uOpacity.value=1),this.uniforms.uScrollY.value=t,this.uniforms.uParallaxProgress.value=Math.max((t-(e-this.maxHeight))/this.maxHeight,0),this.mesh&&this.mesh.position&&this.setMeshPosition(t),this.scrollY=t,this.mouseCanvas.onUpdate(),this.uniforms.uTextureMouse.value.needsUpdate=!0):this.mesh.visible&&(this.mesh.visible=!1,this.uniforms.uOpacity.value=0,this.uniforms.uParallaxProgress.value=0,this.uniforms.uScrollY.value=0,this.uniforms.uTextureMouse.value.needsUpdate=!1)}}class tt extends Ue{constructor({stage:e,width:t=1,height:i=1,geometry:s=null,el:n=null,canvas2d:o=null,scrollLimitMax:r}){super({stage:e,width:t,height:i,vs:"#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\n\nvarying vec2 vUv;\n\nvoid main()  {\n  vUv = uv;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n",fs:"precision highp float;\n#define GLSLIFY 1\nvec2 rotation2d(vec2 v, float a) {\n    float s = sin(a);\n    float c = cos(a);\n    mat2 m = mat2(c, -s, s, c);\n    return m * v;\n}\n\nuniform vec2 uResWin;\nuniform vec2 uMeshSize;\nuniform vec2 uTextureUv;\nuniform vec2 uTextUv;\nuniform float uOpacity;\nuniform float uTime;\nuniform float uParallaxProgress;\nuniform float uRotateRandom;\nuniform sampler2D uTexture;\nuniform sampler2D uTextureDistortion;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvTexture = vUv;\n    uvTexture.y -= ( 1. - uParallaxProgress )* 0.6;\n\n    uvTexture.y -= 0.5;\n    uvTexture.y /= (uTextureUv.y / uMeshSize.y);\n    uvTexture.y += 0.5;\n    uvTexture.x /= (uTextureUv.x / uMeshSize.x);\n\n    vec2 uvDisp = vUv;\n\n    uvDisp -= 0.5;\n    uvDisp = rotation2d( uvDisp, uRotateRandom );\n\n    uvDisp *= 2.;\n    uvDisp += 0.5;\n    uvDisp.x -= uTime * 0.0625;\n    uvDisp.x = mod(uvDisp.x, 1.);\n    uvDisp.y += uTime * 0.0425;\n    uvDisp.y = mod(uvDisp.y, 1.);\n\n    vec4 cDisp = texture2D(uTextureDistortion, uvDisp);\n    uvTexture -= vec2(cDisp.r, cDisp.g) * ( (1. - uParallaxProgress) * 0.0425 * max(1., 1600. / uResWin.x) );\n\n    vec4 cDist = texture2D(uTexture, uvTexture);\n    cDist.a *= uParallaxProgress;\n    cDist.a *= uOpacity;\n\n    gl_FragColor = cDist;\n}\n",geometry:s}),this.scrollLimitMax=r,this.el=n,this.canvas2d=o,this.texture=this.canvas2d.texture;const a={uParallaxProgress:{value:0},uScrollY:{value:0},uMeshSize:{value:{x:t,y:i}},uMeshSizeRatio:{value:{x:t/(t+i),y:i/(t+i)}},uTexture:{value:new g.a(this.canvas2d.$canvas)},uTextureUv:{value:{x:this.canvas2d.textureSize.width,y:this.canvas2d.textureSize.height}},uTextureDistortion:{value:null},uTextUv:{value:{x:this.canvas2d.textBaseSize.width/this.canvas2d.textureSize.width,y:this.canvas2d.textBaseSize.height/this.canvas2d.textureSize.height}},uRotateRandom:{value:b.degToRad(Math.random()-360)}};Object.assign(this.uniforms,a)}init(){super.init()}setMeshSize(){this.maxHeight=Math.max(this.height,this.stage.stageSize.height),this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.mesh.scale.set(this.width,this.height,75),this.uniforms.uMeshSizeRatio.value.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.value.y=this.height/(this.width+this.height),this.uniforms.uTextureUv={value:{x:this.canvas2d.textureSize.width,y:this.canvas2d.textureSize.height}},this.uniforms.uTextUv={value:{x:this.canvas2d.textBaseSize.width/this.canvas2d.textureSize.width,y:this.canvas2d.textBaseSize.height/this.canvas2d.textureSize.height}}}onResize(e={width:1,height:1}){this.uniforms.uResWin.value.x=this.stage.stageSize.width,this.uniforms.uResWin.value.y=this.stage.stageSize.height,this.width=this.el.width,this.height=this.el.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.setMeshSize()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf}onUpdate({scrollY:e,timeDelta:t=0}){this.el.isInView?(this.uniforms.uOpacity.value||(this.uniforms.uOpacity.value=1),this.uniforms.uTime.value+=t,this.uniforms.uScrollY.value=e,this.uniforms.uParallaxProgress.value=Math.max((e-(this.scrollLimitMax-this.maxHeight))/this.maxHeight,0),this.setMeshPosition(e)):this.uniforms.uOpacity&&(this.uniforms.uOpacity.value=0,this.uniforms.uParallaxProgress.value=0,this.uniforms.uScrollY.value=0)}}class it extends Ue{constructor({stage:e,width:t=1,height:i=1,geometry:s=null,el:n=null,texture:o=null,textureWidth:r=0,textureHeight:a=0}){super({stage:e,width:t,height:i,vs:"#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform vec2 uMouse;\nuniform vec2 uMouseDelta;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n\n    vec3 pos = position;\n\n    vec2 uvWave = uv;\n    float waveMouse1 = sin(uvWave.y * PI)  * uMouseDelta.x * 0.001;\n    float waveMouse2 = -sin(uvWave.x * PI)  * uMouseDelta.y * 0.001;\n    pos += vec3(waveMouse1, waveMouse2, 0.);\n\n    pos.x += uMouse.x * 0.0001;\n    pos.y -= uMouse.y * 0.0001;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}",fs:"precision highp float;\n#define GLSLIFY 1\n\nuniform float uTime;\nuniform float uOpacity;\nuniform vec2 uMeshSize;\nuniform vec2 uMouse;\nuniform vec2 uMouseDelta;\n//uniform vec2 uMouse;\n\nuniform sampler2D uTexture;\nuniform sampler2D uTextureDistortion;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvNoise = vUv;\n\n    uvNoise.x += uMouse.x * 0.00035;\n    uvNoise.y -= uMouse.y * 0.00035;\n    uvNoise = mod( uvNoise, 1. );\n\n    vec4 cNoise = texture2D(uTextureDistortion,uvNoise);\n\n    vec2 uvTexture = vUv + cNoise.r * ( uMouseDelta.x * 0.00035 - uMouseDelta.y * 0.00035 );\n    vec4 cTex = texture2D( uTexture, uvTexture);\n\n    gl_FragColor = cTex;\n}\n",geometry:s}),this.el=n,this.uniforms=Object.assign(this.uniforms,{uTime:{value:0},uTexture:{value:o},uTextureDistortion:{value:null},uMeshSize:{value:{x:t,y:i}},uTextureUv:{value:{x:r,y:a}},uMouse:{value:{x:0,y:0}},uMouseDelta:{value:{x:0,y:0}}})}init(){this.canUpdate=!0,super.init()}setMeshSize(){this.mesh.scale.set(this.width,this.height,1),this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height}onResize(e={width:1,height:1}){this.width=this.el.width,this.height=this.el.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.setMeshSize()}setMeshPosition(e){this.mesh.position.y=e-this.el.top+this.stage.stageSize.heightHalf-this.heightHalf,this.mesh.position.x=-this.stage.stageSize.widthHalf+this.el.left+this.widthHalf}onUpdate({mousePosition:e,scrollY:t,timeDelta:i=0}){if(this.el.isInView){if(!this.canUpdate)return;this.uniforms.uOpacity.value||(this.uniforms.uOpacity.value=1),this.uniforms.uTime.value+=i,this.setMeshPosition(t),this.uniforms.uMouse.value.x=e.now.x,this.uniforms.uMouse.value.y=e.now.y,this.uniforms.uMouseDelta.value.x=e.prev.now.x,this.uniforms.uMouseDelta.value.y=e.prev.now.y}else this.uniforms.uOpacity.value&&(this.uniforms.uOpacity.value=0,this.uniforms.uScrollY.value=0)}}class st{constructor(){this.text=null,this.fontFamily=null,this.fontSize=null,this.color=null,this.textAlign=null,this.$canvas=null,this.context=null,this.textBaseSize={width:0,height:0},this.textureSize={width:0,height:0},this.$el=null,this.texture=null}setCanvas({text:e="test",fontFamily:t=null,fontSize:i="10vw",color:s="#000",textAlign:n="left",paddingLeft:o=0,width:r=256,height:a=256,el:l=null}){this.text=e,this.fontFamily=t,this.fontSize=i,this.color=s,this.textAlign=n,this.$canvas=null,this.context=null,this.textBaseSize.width=r,this.textBaseSize.height=a,this.textureSize.width=this.checkSize(r),this.textureSize.height=this.checkSize(a),this.$el=l,this.texture=null,this.$canvas=document.createElement("canvas"),this.$canvas.width=this.textureSize.width,this.$canvas.height=this.textureSize.height,this.context=this.$canvas.getContext("2d"),this.context.fillStyle="rgba(255, 255, 255, 0)",this.context.fillRect(0,0,this.textureSize.height,this.textureSize.width),this.x_=o,this.y_=.75*this.textBaseSize.height+.5*(this.textureSize.height-this.textBaseSize.height),this.context.font=`${this.fontSize} ${this.fontFamily}`,this.context.textAlign=this.textAlign,this.context.fillStyle=this.color,this.context.fillText(this.text,this.x_,this.y_)}setCanvasVertical({text:e="test",fontFamily:t=null,fontSize:i="10vw",color:s="#000",textAlign:n="left",width:o=256,height:r=256,el:a=null,isBlur:l=!1}){this.text=e,this.fontFamily=t,this.fontSize=i,this.color=s,this.textAlign=n,this.isBlur=l,this.$canvas=null,this.context=null,this.textBaseSize.width=o,this.textBaseSize.height=r,this.textureSize.width=this.checkSize(o),this.textureSize.height=this.checkSize(r),this.$el=a,this.texture=null,this.$canvas=document.createElement("canvas"),this.$canvas.width=this.textureSize.height,this.$canvas.height=this.textureSize.width,this.context=this.$canvas.getContext("2d"),this.context.fillStyle="rgba(0, 0, 0, 0)",this.context.fillRect(0,0,this.textureSize.height,this.textureSize.width),this.x_=0,this.y_=.75*this.textBaseSize.height+.5*(this.textureSize.height-this.textBaseSize.height),this.context.font=`${this.fontSize} ${this.fontFamily}`,this.context.textAlign=this.textAlign,this.context.fillStyle=this.color,this.isBlur&&(this.context.filter="blur(10px)"),this.context.translate(parseInt(this.$canvas.width),0),this.context.rotate(.5*Math.PI),this.context.fillText(this.text,this.x_,this.y_)}checkSize(e){let t=32;for(;t<e;t*=2);return t}clearCanvas(){this.context.clearRect(0,0,this.$canvas.width,this.$canvas.height)}}class nt{constructor(e){this.props=e,this.config={},this.canUpdateMesh=!1,this.canUpdate=!1,this.canResize=!1,this.heMesh=[],this.tlMesh=[],this.hmvtlMesh=[],this.hmvbgMesh=[],this.hmvprgrsMesh=[],this.hftlMesh=[],this.hfprgrsMesh=[],this.hfImgMesh=[],this.abgMesh=[],this.fbgMesh=[],this.ftMesh=[],this.hmClMesh=[],this.nFMesh=[],this.textureOptions=[],this.tlcvs=[],this.hftlcvs=[],this.ftcvs=[],this.mbgColor=null,this.time=new g.b,this.distortionTexture=null,this.hfImgMeshX=0,this.hfImgMeshDiffX=0}init(){OTHER&&(this.mbgColor="dark"===document.body.dataset.colorType?2500134:16250871,this.lineColor="dark"===document.body.dataset.colorType?13421772:1710618,this.setStage(),this._setCommonTexture())}run(){return OTHER?this.setMesh().then(()=>{this.reStart(),this.onUpdate()}):new Promise(e=>e())}stop(){this.canUpdate=!1,this.canUpdateMesh=!1,this.canResize=!1}reStart(){this.canUpdateMesh=!0,this.canUpdate=!0,this.canResize=!0}setStage(){OTHER&&(this.stage=new Be,this.stage.init(this.props.$canvas,this.config))}_setCommonTexture(){(new g.l).load("/asset/img/common/d.png",e=>{this.distortionTexture=e,this.distortionTexture.minFilter=g.d,P.fGl.distortionTexture=this.distortionTexture,this.ftMesh&&this.ftMesh.length&&this.ftMesh.forEach(e=>{e.uniforms.uTextureDistortion.value=this.distortionTexture}),this.nFMesh&&this.nFMesh.length&&this.nFMesh.forEach(e=>{e.uniforms.uTextureDistortion.value=this.distortionTexture})})}setMesh(){if(!OTHER)return;this.hfImgMeshX=0,this.hfImgMeshDiffX=0,this.heMesh=[],this.tlMesh=[],this.hmvtlMesh=[],this.hmvprgrsMesh=[],this.hftlMesh=[],this.hfprgrsMesh=[],this.hfImgMesh=[],this.fbgMesh=[],this.createdMesh=[],this.createdMeshArray=[],this.hmClMesh=[],this.nFMesh=[];let e=0,t=0,i=0,s=0,n=0,o=0,r=0,a=0,l=0,h=0,u=0,c=0,m=0,d=0,p=new g.i(1,1,16,4),v=new g.i(1,1,4,32),f=new g.i(1,1,128,4),y=new g.i(1,1,1,1),w=new g.i(1,1,32,32);return this.props.scrollManager.els.forEach(g=>{this.createdMesh[e]=new Promise(T=>{switch(g.type){case"gl":this.setMeshHtmlElement(g,t,p,T),t++,e++;break;case"gl-home-collection":this.setHmClMesh(g,i,p,T),i++,e++;break;case"gl-text-loop-container":this.setMeshTextLoop(g,s,y,!1,T),s++,e++;break;case"gl-home-mv-progress":this.setMeshHomeMvProgress(g,n,v,T),n++,e++;break;case"gl-home-mv-bg":this.setMeshHomeMvBg(g,r,y,T),r++,e++;break;case"gl-home-mv-text-loop-container":this.setMeshHomeMvTextLoop(g,o,y,T),o++,e++;break;case"gl-home-featured-text-loop-container":this.setMeshHomeFeaturedTextLoop(g,a,y,T),a++,e++;break;case"gl-home-featured-image-item":this.setMeshHomeFeaturedImage(g,h,w,T),h++,e++;break;case"gl-home-featured-progress":this.setMeshHomeFeaturedProgress(g,l,f,T),l++,e++;break;case"gl-about-bg":this.setMeshAboutBg(g,u,y,T),u++,e++;break;case"gl-footer-text-container":this.setMeshFooterText(g,m,T),m++,e++;break;case"gl-footer-bg":this.setMeshFooterBg(g,c,y,T),c++,e++;break;case"gl-404-img":this.setMesh404(g,d,w,T),d++,e++}})}),f.dispose(),f=null,v.dispose(),v=null,p.dispose(),p=null,y.dispose(),y=null,w.dispose(),w=null,Promise.all(this.createdMesh)}setMeshResize(){if(!OTHER)return;this.tlMesh=[],this.hftlMesh=[],this.hftlMesh=[];let e=0,t=0,i=0,s=0,n=new g.i(1,1,1,1);return this.props.scrollManager.els.forEach((o,r)=>{this.createdMesh[e]=new Promise(r=>{switch(o.type){case"gl-text-loop-container":this.setMeshTextLoop(o,t,n,!0,r),t++,e++;break;case"gl-home-featured-text-loop-container":this.setMeshHomeFeaturedTextLoop(o,i,n,r),i++,e++;break;case"gl-footer-text-container":this.setMeshFooterText(o,s,r),s++,e++}})}),n.dispose(),n=null,Promise.all(this.createdMesh)}removeMesh(e=!1){OTHER&&(e?(this.removeMeshHomeFeaturedTextLoop(),this.removeMeshTextLoop(),this.removeMeshFooterText()):(this.removeMeshHtmlElement(),this.removeMeshAboutBg(),this.removeMeshFooterBg(),this.removeMeshFooterText(),this.removeMeshTextLoop(),this.removeMeshHomeMvTextLoop(),this.removeMeshHomeMvProgress(),this.removeMeshHomeFeaturedTextLoop(),this.removeMeshHomeFeaturedProgress(),this.removeMeshHomeMvBg(),this.removeMeshHmCl(),this.removeMeshHomeFeaturedImage()))}setMeshHtmlElement(e,t,i,s){e.$el.style.visibility="hidden";const n=e.$el.dataset,o=n.glImg,r=void 0!==n.glNoEffect,a=void 0!==n.glCollection;let l;const h=this.textureOptions.length;for(let e=0;e<h;e++)if(this.textureOptions[e].src===o){l=this.textureOptions[e].texture;break}this.heMesh[t]=new qe({stage:this.stage,width:e.width,height:e.height,el:e,geometry:i,texture:l,color:this.mbgColor,isNoEffect:r,isCollection:a}),this.heMesh[t].init(),this.stage.scene.add(this.heMesh[t].mesh),this.heMesh[t].onUpdate({scrollY:this.props.scrollManager.scroll.y,scrollDeltaY:this.props.scrollManager.scrollDeltaEase.y}),this.stage.onUpdate(),s()}setHmClMesh(e,t,i,s){e.$el.style.visibility="hidden";const n=e.$el.dataset.glImg;let o;const r=this.textureOptions.length;for(let e=0;e<r;e++)if(this.textureOptions[e].src===n){o=this.textureOptions[e].texture;break}this.hmClMesh[t]=new Fe({stage:this.stage,width:e.width,height:e.height,el:e,geometry:i,texture:o,color:this.mbgColor}),this.hmClMesh[t].init(),this.stage.scene.add(this.hmClMesh[t].mesh),this.hmClMesh[t].onUpdate({scrollY:this.props.scrollManager.scroll.y,scrollDeltaY:this.props.scrollManager.scrollDeltaEase.y}),this.stage.onUpdate(),s()}setMeshAboutBg(e,t,i,s){e.$el.style.visibility="hidden";const n=e.$el.querySelector("[data-scroll-child]"),o=e.$el.querySelector("[data-scroll-child-map]"),r=n.dataset.glImg,a=o.dataset.glImg;let l,h;const u=this.textureOptions.length;for(let e=0;e<u;e++)if(this.textureOptions[e].src===r){l=this.textureOptions[e].texture;break}for(let e=0;e<u;e++)if(this.textureOptions[e].src===a){h=this.textureOptions[e].texture;break}this.abgMesh[t]=new Je({stage:this.stage,width:e.width,height:e.height,el:e,geometry:i,texture:l,textureMap:h}),this.abgMesh[t].init(),this.stage.scene.add(this.abgMesh[t].mesh),s()}setMeshFooterBg(e,t,i,s){e.$el.style.visibility="hidden";const n=e.$el.dataset.glImg,o=this.textureOptions.length;let r;for(let e=0;e<o;e++)if(this.textureOptions[e].src===n){r=this.textureOptions[e].texture;break}this.fbgMesh[t]=new et({stage:this.stage,width:e.width,height:e.height,el:e,texture:r,geometry:i,scrollLimitMax:this.props.scrollManager.limit.max}),this.fbgMesh[t].init(),this.stage.scene.add(this.fbgMesh[t].mesh),s()}setMeshFooterText(e,t,i){e.$el.style.color="";const s=e.$el.querySelector("[ data-scroll-child ]"),n=window.getComputedStyle(s),o=s.getBoundingClientRect();this.ftcvs[t]=new st,this.ftcvs[t].setCanvas({text:s.textContent,fontSize:n.fontSize,fontFamily:n.fontFamily,color:n.color,width:o.width,height:o.height,paddingLeft:parseFloat(n.paddingLeft)||0,el:e.$el}),e.$el.style.color="transparent",this.ftMesh[t]=new tt({stage:this.stage,width:e.width,height:e.height,el:e,canvas2d:this.ftcvs[t],scrollLimitMax:this.props.scrollManager.limit.max}),this.distortionTexture&&(this.ftMesh[t].uniforms.uTextureDistortion.value=this.distortionTexture),this.ftMesh[t].init(),this.stage.scene.add(this.ftMesh[t].mesh),i()}setMeshHomeMvProgress(e,t,i,s){e.$el.style.opacity=0,this.hmvprgrsMesh[t]=new Ge({stage:this.stage,width:e.width,height:e.height,el:e,geometry:i}),this.hmvprgrsMesh[t].init(),this.stage.scene.add(this.hmvprgrsMesh[t].mesh),s()}setMeshHomeMvBg(e,t,i,s){const n=[];e.$el.style.visibility="hidden";const o=e.$el.querySelectorAll("[data-gl-img]"),r=this.textureOptions.length;o.forEach((e,t)=>{const i=e.dataset.glImg;for(let e=0;e<r;e++)if(this.textureOptions[e].src===i){n[t]=this.textureOptions[e].texture;break}});const a=Number(e.$el.dataset.currentNumber)||0;this.hmvbgMesh[t]=new Ve({stage:this.stage,width:e.width,height:e.height,el:e,geometry:i,textures:n,currentNumber:a}),this.hmvbgMesh[t].init(),this.stage.scene.add(this.hmvbgMesh[t].mesh),s()}setMeshTextLoop(e,t,i,s,n){this.tlcvs[t]=new st;const o=e.$el.querySelector("[ data-scroll-child ]"),r=window.getComputedStyle(o),a=o.getBoundingClientRect();this.tlcvs[t].setCanvas({text:o.textContent,fontSize:r.fontSize,fontFamily:r.fontFamily,color:r.color,width:a.width,height:a.height,el:e.$el}),o.style.visibility="hidden",this.tlMesh[t]=new Ye({stage:this.stage,width:e.width,height:e.height,el:e,geometry:i,canvas2d:this.tlcvs[t],isResize:s}),this.tlMesh[t].init(),this.stage.scene.add(this.tlMesh[t].mesh),n()}setMeshHomeMvTextLoop(e,t,i,s){e.$el.style.visibility="hidden";const n=e.$el.querySelector("[ data-scroll-child ]"),o=n.querySelector("[data-scroll-child-left]"),r=n.querySelector("[data-scroll-child-right]"),a=n.dataset,l=Number(a.loopTextWidth)||1024,h=Number(a.loopTextHeight)||2048,u=Number(a.loopTextureWidth)||1024,c=Number(a.loopTextureHeight)||4096,m=o.dataset.glImg,d=r.dataset.glImg;let p,v;const g=this.textureOptions.length;for(let e=0;e<g;e++)if(this.textureOptions[e].src===m){p=this.textureOptions[e].texture;break}for(let e=0;e<g;e++)if(this.textureOptions[e].src===d){v=this.textureOptions[e].texture;break}this.hmvtlMesh[t]=new je({stage:this.stage,width:e.width,height:e.height,el:e,geometry:i,textureLeft:p,textureRight:v,textWidth:l,textHeight:h,textureWidth:u,textureHeight:c}),this.hmvtlMesh[t].init(),this.stage.scene.add(this.hmvtlMesh[t].mesh),s()}setMeshHomeFeaturedTextLoop(e,t,i,s){const n=e.$el.querySelectorAll("[ data-scroll-child ]");[].forEach.call(n,(t,i)=>{const s=window.getComputedStyle(t);this.hftlcvs[i]=new st,this.hftlcvs[i].setCanvas({text:t.textContent,fontSize:s.fontSize,fontFamily:s.fontFamily,color:s.color,width:t.getBoundingClientRect().width,height:t.getBoundingClientRect().height,el:e.$el}),t.style.visibility="hidden"}),this.hftlMesh[t]=new We({stage:this.stage,width:e.width,height:e.height,el:e,canvas2d:this.hftlcvs,geometry:i}),this.hftlMesh[t].init(),this.stage.scene.add(this.hftlMesh[t].mesh),s()}setMeshHomeFeaturedImage(e,t,i,s){e.$el.style.opacity=0;const n=e.$el.dataset.glImg;let o;const r=this.textureOptions.length;for(let e=0;e<r;e++)if(this.textureOptions[e].src===n){o=this.textureOptions[e].texture;break}this.hfImgMesh[t]=new Ze({stage:this.stage,width:e.width,height:e.height,el:e,geometry:i,gl:this,texture:o}),this.hfImgMesh[t].init(),this.stage.scene.add(this.hfImgMesh[t].mesh),s()}setMeshHomeFeaturedProgress(e,t,i,s){e.$el.style.opacity=0,this.hfprgrsMesh[t]=new Xe({stage:this.stage,width:e.width,height:e.height,el:e,geometry:i,color:this.lineColor}),this.hfprgrsMesh[t].init(),this.stage.scene.add(this.hfprgrsMesh[t].mesh),s()}setMesh404(e,t,i,s){e.$el.style.opacity=0;const n=e.$el.dataset.glImg;let o;const r=this.textureOptions.length;for(let e=0;e<r;e++)if(this.textureOptions[e].src===n){o=this.textureOptions[e].texture;break}this.nFMesh[t]=new it({stage:this.stage,width:e.width,height:e.height,el:e,geometry:i,texture:o,textureWidth:o.image.naturalWidth,textureHeight:o.image.naturalHeight}),this.distortionTexture&&(this.nFMesh[t].uniforms.uTextureDistortion.value=this.distortionTexture),this.nFMesh[t].init(),this.stage.scene.add(this.nFMesh[t].mesh),s()}setPlaneBgColor(e){let t,i;switch(e){case"dark":t=2500134,i=13421772;break;default:t=16250871,i=1710618}this.mbgColor=t,this.lineColor=i}onResize(){OTHER&&this.canResize&&setTimeout(()=>{this.stage.onResize(),this.onResizeMesh(),this.removeMesh(!0),this.setMeshResize().then(()=>{this.setUpdate()})},10)}onResizeMesh(){[this.heMesh,this.abgMesh,this.fbgMesh,this.hmvbgMesh,this.hmvtlMesh,this.hmvprgrsMesh,this.ftMesh,this.tlMesh,this.hftlMesh,this.hfprgrsMesh,this.hfImgMesh,this.hmClMesh,this.nFMesh].forEach(e=>{e.forEach(e=>{e.onResize()})})}onUpdate(){OTHER&&this.setUpdate()}setUpdate(){if(OTHER){if(this.canUpdateMesh){let e=this.time.getDelta();e=Math.floor(1e4*e)/1e4,e=b.clamp(e,.015,.019),this.heMesh.forEach(t=>{t.onUpdate({scrollY:this.props.scrollManager.scroll.y,scrollDeltaY:this.props.scrollManager.scrollDeltaEase.y,smoothScroll:this.props.scrollManager,timeDelta:e})}),this.abgMesh.forEach(e=>{e.onUpdate({mousePosition:this.props.mouseMove.position,scrollY:this.props.scrollManager.scroll.y})}),this.fbgMesh.forEach(e=>{e.onUpdate({scrollYMax:this.props.scrollManager.limit.max,scrollY:this.props.scrollManager.scroll.y})}),this.hmvbgMesh.forEach(e=>{e.onUpdate({scrollY:this.props.scrollManager.scroll.y})}),this.ftMesh.forEach(t=>{t.onUpdate({scrollY:this.props.scrollManager.scroll.y,timeDelta:e})}),this.hmvtlMesh.forEach(t=>{t.onUpdate({scrollY:this.props.scrollManager.scroll.y,timeDelta:e})}),this.tlMesh.forEach(t=>{t.onUpdate({scrollY:this.props.scrollManager.scroll.y,scrollDeltaY:this.props.scrollManager.scrollDeltaEase.y,timeDelta:e})}),this.hftlMesh.forEach(t=>{t.onUpdate({scrollY:this.props.scrollManager.scroll.y,scrollDeltaY:this.props.scrollManager.scrollDeltaEase.y,timeDelta:e})}),this.hfprgrsMesh.forEach(t=>{t.onUpdate({scrollY:this.props.scrollManager.scroll.y,scrollDeltaY:this.props.scrollManager.scrollDeltaEase.y,timeDelta:e})}),this.hfImgMesh.forEach(t=>{t.onUpdate({scrollY:this.props.scrollManager.scroll.y,scrollDeltaY:this.props.scrollManager.scrollDeltaEase.y,timeDelta:e})}),this.hmvprgrsMesh.forEach(t=>{t.onUpdate({scrollY:this.props.scrollManager.scroll.y,scrollDeltaY:this.props.scrollManager.scrollDeltaEase.y,timeDelta:e})}),this.hmClMesh.forEach(t=>{t.onUpdate({scrollY:this.props.scrollManager.scroll.y,scrollDeltaY:this.props.scrollManager.scrollDeltaEase.y,smoothScroll:this.props.scrollManager,timeDelta:e})}),this.nFMesh.forEach(t=>{t.onUpdate({mousePosition:this.props.mouseMove.position,scrollY:this.props.scrollManager.scroll.y,timeDelta:e})})}this.stage.onUpdate()}}clear(){OTHER&&(this.stop(),this.removeMesh())}removeHtmlElementMeshHoverEvent(){this.heMesh&&this.heMesh.forEach(e=>{e.clearParentEventListener()})}removeHmClMeshHoverEvent(){this.hmClMesh&&this.hmClMesh.forEach(e=>{e.clearParentEventListener()})}removeMeshHomeMvProgress(){this.hmvprgrsMesh&&(this.hmvprgrsMesh.forEach((e,t)=>{e&&e.mesh&&(this.stage.scene.remove(e.mesh),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null)}),this.hmvprgrsMesh=[])}removeMeshHtmlElement(){this.heMesh&&(this.heMesh.forEach((e,t)=>{e&&e.mesh&&(e.el.$el.visibility="",this.stage.scene.remove(e.mesh),e.uniforms.uTexture&&e.uniforms.uTexture.value&&(e.uniforms.uTexture.value.dispose(),e.material.uniforms.uTexture.value.dispose(),e.mesh.material.uniforms.uTexture.value.dispose()),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null)}),this.heMesh=[])}removeMeshHmCl(){this.hmClMesh&&(this.hmClMesh.forEach((e,t)=>{e&&e.mesh&&(e.el.$el.visibility="",this.stage.scene.remove(e.mesh),e.uniforms.uTexture&&e.uniforms.uTexture.value&&(e.uniforms.uTexture.value.dispose(),e.material.uniforms.uTexture.value.dispose(),e.mesh.material.uniforms.uTexture.value.dispose()),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null)}),this.hmClMesh=[])}removeMeshAboutBg(){this.abgMesh&&(this.abgMesh.forEach((e,t)=>{e&&e.mesh&&(e.el.$el.visibility="",this.stage.scene.remove(e.mesh),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.texture&&e.uniforms.uTexture.value&&(e.uniforms.uTexture.value.dispose(),e.uniforms.uTextureMap.value.dispose(),e.mesh.material.uniforms.uTexture.value.dispose(),e.mesh.material.uniforms.uTextureMap.value.dispose()),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null)}),this.abgMesh=[])}removeMeshFooterBg(){this.fbgMesh&&(this.fbgMesh.forEach((e,t)=>{e&&e.mesh&&(e.el.$el.visibility="",e.uniforms.uTexture&&e.uniforms.uTexture.value&&(e.uniforms.uTexture.value.dispose(),e.material.uniforms.uTexture.value.dispose(),e.mesh.material.uniforms.uTexture.value.dispose()),e.uniforms.uTextureMouse&&e.uniforms.uTextureMouse.value&&(e.uniforms.uTextureMouse.value.dispose(),e.material.uniforms.uTextureMouse.value.dispose(),e.mesh.material.uniforms.uTextureMouse.value.dispose()),this.stage.scene.remove(e.mesh),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null)}),this.fbgMesh=[])}removeMeshHomeMvBg(){this.hmvbgMesh&&(this.hmvbgMesh.forEach((e,t)=>{e&&e.mesh&&(e.el.$el.visibility="",this.stage.scene.remove(e.mesh),e.uniforms.uTextureCurrent&&e.uniforms.uTextureCurrent.value&&(e.uniforms.uTextureCurrent.value.dispose(),e.material.uniforms.uTextureCurrent.value.dispose(),e.mesh.material.uniforms.uTextureCurrent.value.dispose()),e.uniforms.uTextureNext&&e.uniforms.uTextureNext.value&&(e.uniforms.uTextureNext.value.dispose(),e.material.uniforms.uTextureNext.value.dispose(),e.mesh.material.uniforms.uTextureNext.value.dispose()),e.textures.forEach(e=>{e.dispose()}),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null)}),this.hmvbgMesh=[])}removeMeshFooterText(){this.ftMesh&&(this.ftMesh.forEach((e,t)=>{e&&(e.el.$el.visibility="",this.stage.scene.remove(e.mesh),e.uniforms.uTexture&&e.uniforms.uTexture.value&&(e.uniforms.uTexture.value.dispose(),e.material.uniforms.uTexture.value.dispose(),e.mesh.material.uniforms.uTexture.value.dispose()),e.uniforms.uTextureDistortion&&e.uniforms.uTextureDistortion.value&&(e.uniforms.uTextureDistortion.value.dispose(),e.material.uniforms.uTextureDistortion.value.dispose(),e.mesh.material.uniforms.uTextureDistortion.value.dispose()),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null,this.ftcvs[t].clearCanvas(),this.ftcvs[t]=null)}),this.ftMesh=[],this.ftcvs=[])}removeMeshTextLoop(){OTHER&&this.tlMesh&&(this.tlMesh.forEach((e,t)=>{e&&(e.el.$el.visibility="",this.stage.scene.remove(e.mesh),e.uniforms.uTexture&&e.uniforms.uTexture.value&&(e.material.uniforms.uTexture.value.dispose(),e.mesh.material.uniforms.uTexture.value.dispose(),e.uniforms.uTexture.value.dispose()),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null,this.tlcvs[t].clearCanvas(),this.tlcvs[t]=null)}),this.tlMesh=[],this.tlcvs=[])}removeMeshHomeMvTextLoop(){this.hmvtlMesh&&(this.hmvtlMesh.forEach((e,t)=>{e&&(e.el.$el.visibility="",this.stage.scene.remove(e.mesh),e.uniforms.uTextureLeft&&e.uniforms.uTextureLeft.value&&(e.uniforms.uTextureLeft.value.dispose(),e.material.uniforms.uTextureLeft.value.dispose(),e.mesh.material.uniforms.uTextureLeft.value.dispose()),e.uniforms.uTextureRight&&e.uniforms.uTextureRight.value&&(e.uniforms.uTextureRight.value.dispose(),e.material.uniforms.uTextureRight.value.dispose(),e.mesh.material.uniforms.uTextureRight.value.dispose()),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null)}),this.hmvtlMesh=[])}removeMeshHomeFeaturedTextLoop(){OTHER&&this.hftlMesh&&(this.hftlMesh.forEach((e,t)=>{e&&(e.el.$el.visibility="",this.stage.scene.remove(e.mesh),e.uniforms.uTexture&&e.uniforms.uTexture.value&&(e.uniforms.uTexture.value.dispose(),e.material.uniforms.uTexture.value.dispose(),e.mesh.material.uniforms.uTexture.value.dispose()),e.uniforms.uTexturePrev&&e.uniforms.uTexturePrev.value&&(e.uniforms.uTexturePrev.value.dispose(),e.material.uniforms.uTexturePrev.value.dispose(),e.mesh.material.uniforms.uTexturePrev.value.dispose()),e.uniforms.uTextureCurrent&&e.uniforms.uTextureCurrent.value&&(e.uniforms.uTextureCurrent.value.dispose(),e.material.uniforms.uTextureCurrent.value.dispose(),e.mesh.material.uniforms.uTextureCurrent.value.dispose()),e.uniforms.uTextureNext&&e.uniforms.uTextureNext.value&&(e.uniforms.uTextureNext.value.dispose(),e.material.uniforms.uTextureNext.value.dispose(),e.mesh.material.uniforms.uTextureNext.value.dispose()),e.textures.forEach(e=>{e.dispose()}),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null,this.hftlcvs[t].clearCanvas(),this.hftlcvs[t]=null)}),this.hftlMesh=[],this.hftlcvs=[])}removeMeshHomeFeaturedProgress(){this.hfprgrsMesh&&(this.hfprgrsMesh.forEach(e=>{e&&e.mesh&&(this.stage.scene.remove(e.mesh),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null)}),this.hfprgrsMesh=[])}removeMeshHomeFeaturedImage(){this.hfImgMesh&&(this.hfImgMesh.forEach(e=>{e&&e.mesh&&(this.stage.scene.remove(e.mesh),e.uniforms.uTexture&&e.uniforms.uTexture.value&&(e.uniforms.uTexture.value.dispose(),e.material.uniforms.uTexture.value.dispose(),e.mesh.material.uniforms.uTexture.value.dispose()),e.mesh.material.dispose(),e.mesh.geometry.dispose(),e.geometry.dispose(),e.material.dispose(),e.mesh=null,e=null)}),this.hfprgrsMesh=[])}}class ot{constructor(){this.task=[],this.isUsing=!1,this.callBackDone=()=>{this.remove(),this.check()},this.canDone=()=>this._checkCanDone(),this.checkTheCanTaskAdd=()=>this._checkTheCanTaskAdd(),this.canNotAddTaskFunction=e=>{this.task.push(e)}}add(e,t){this.checkTheCanTaskAdd()?this.task.push(e):this.canNotAddTaskFunction(e)}done(e){e&&e===this.type?this.callBackDone():this.canDone()||(this.isUsing=!0,this.task[0]().then(()=>{this.type=e,this.isUsing=!1,this.callBackDone()}))}remove(){this.task.shift()}check(){this.task.length>0&&this.done()}_checkTheCanTaskAdd(){return!0}_checkCanDone(){return this.isUsing}}class rt extends class{constructor(){this.sources=[]}run(e){Promise.all(this.sources).then(e)}}{constructor(){super()}getTexture(e){return new Promise(t=>{let i=e.split("/")[e.split("/").length-1].split(".")[0];(new g.l).load(e,e=>{e.name=String(i),e.chunkID=Number(i.split("_")[1]),Object.defineProperty(e,"externalResourcesType",{value:"texture"}),t(e)},e=>{},e=>{t()})})}getDomImage(e){return new Promise(t=>{let i=new Image;i.src=e,i.onload=()=>{t(i)},i.onerror=()=>{t()}})}}class at extends Ue{constructor({webgl:e=null,stage:t,width:i=1,height:s=1,geometry:n=null,texture:o=null,hoverItemOption:r={},id:a=null}){super({stage:t,width:i,height:s,vs:"#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nmat3 rotation3dX(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n        1.0, 0.0, 0.0,\n        0.0, c, s,\n        0.0, -s, c\n    );\n}\n\nmat3 rotation3dY(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n    c, 0.0, -s,\n    0.0, 1.0, 0.0,\n    s, 0.0, c\n    );\n}\n\nmat3 rotation3dZ(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n    c, s, 0.0,\n    -s, c, 0.0,\n    0.0, 0.0, 1.0\n    );\n}\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform vec2 uMeshSizeRatio;\nuniform vec2 uMouse;\nuniform vec2 uMouseDelta;\n\nattribute vec2 uv;\nattribute vec3 position;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    vec3 pos = position;\n\n    // wave\n    vec2 uvWave = ( uv - 0.5 ) * 2.;\n    vec3 wavePos = vec3(\n         sin( (uvWave.y * 0.435  + 0.5) * PI)  * uMouseDelta.x * 0.00175 * uMeshSizeRatio.y,\n        -sin( (uvWave.x * 0.435  + 0.5) * PI)  * uMouseDelta.y * 0.0035 * uMeshSizeRatio.x,\n        sin(\n            (\n                ( (uvWave.y + uMouse.y * 0.002) + 0.25 ) +\n                ( (uvWave.x + uMouse.x * 0.0025) + 0.25 )\n            ) * PI\n        ) * ( ( uMouseDelta.y ) * 0.0015 + (uMouseDelta.x) * 0.00075 ) * uMeshSizeRatio.y\n    );\n\n    pos += wavePos;\n\n    // rotation\n    pos = rotation3dX( (uMouseDelta.y * 0.00035 ) * PI ) * pos;\n    pos = rotation3dY( (uMouseDelta.x * 0.00035 ) * PI ) * pos;\n    pos = rotation3dZ( (uMouseDelta.x * -0.000275 ) * PI ) * pos;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1. );\n}",fs:"precision highp float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform vec2 uMeshSize;\n\nuniform float uOpacity;\nuniform float uProgressFadeIn;\nuniform float uProgressFadeOut;\nuniform float uProgressScaleInRatio;\nuniform float uProgressScaleOutRatio;\n\nuniform sampler2D uTexture;\nvarying vec2 vUv;\n\nvoid main() {\n\n    vec2 texUv = vUv;\n    float _scaleIn = 1. + uProgressScaleInRatio * .6;\n    float _scaleOut = 1. + uProgressScaleOutRatio * .1;\n\n    texUv -= 0.5;\n    texUv /= _scaleIn;\n    texUv /= _scaleOut;\n    texUv.y /= ( uMeshSize.x / uMeshSize.y );\n    texUv += 0.5;\n\n    texUv.y += (1. - uProgressFadeIn) * 0.25;\n    texUv.y -= (uProgressFadeOut) * 0.35;\n\n    vec2 _uv = (vUv - 0.5) * 2.0;\n    _uv.y /= ( uMeshSize.x / uMeshSize.y );\n\n    float c = smoothstep(\n        (uProgressFadeIn) * 1.545,\n        (uProgressFadeIn) * 1.545,\n        dot(_uv,_uv)\n    );\n\n    vec4 cTex = texture2D(uTexture, texUv);\n    vec4 cWhite = vec4( vec3(1.), 0. );\n\n    float borderLineIn = smoothstep( vUv.y, vUv.y + 0.0001, uProgressFadeIn );\n    float borderLineOut = smoothstep( vUv.y, vUv.y + 0.0001, uProgressFadeOut );\n\n    cTex = mix( cWhite, cTex, borderLineIn );\n    cTex = mix( cTex, cWhite, borderLineOut );\n\n    gl_FragColor = vec4( cTex.rgb, cTex.a );\n}\n",geometry:n}),this.webgl=e,this.id=a,this.hoverItemOption=r,this.texture=o,this.progressFade=0,this.progressFadeIn=0,this.progressFadeOut=0,this.tweenFade=null,this.tweenScale=null,this.taskManager=new ot;const l={uMouse:{value:{x:0,y:0}},uMouseDelta:{value:{x:0,y:0}},uMeshSize:{value:{x:i,y:s}},uMeshSizeRatio:{value:{x:i/(i+s),y:s/(i+s)}},uProgressFade:{value:0},uProgressFadeIn:{value:0},uProgressFadeOut:{value:0},uProgressScaleInRatio:{value:1},uProgressScaleOutRatio:{value:0}};Object.assign(this.uniforms,l)}init(){this.uniforms.uTexture={value:null},this.texture?this.setTexture(this.texture,e=>{this.uniforms.uTexture.value=e,this.animationIn()}):this.uniforms.uTexture.value=null,super.init(),this.onResize()}async setTexture(e,t=(e=>{})){const i=new rt;await i.getTexture(e).then(e=>{t(e)})}onMouseLeaveHoverItem(e){this.animationOut(e)}async animationIn(){await new Promise(e=>{this.tweenFade=l.a.to(this,.5,{ease:"none",progressFadeIn:1,onUpdate:()=>{this.uniforms.uProgressFadeIn.value=this.progressFadeIn}}),this.tweenScale=l.a.to(this.uniforms.uProgressScaleInRatio,.9,{ease:"quart.out",value:0}),e()})}async animationOut(){await new Promise(e=>{this._clearTween(),l.a.to(this,.7,{progressFadeOut:1,ease:"none",onUpdate:()=>{this.uniforms.uProgressFadeOut.value=this.progressFadeOut},onComplete:()=>{e()}}),l.a.to(this.uniforms.uProgressScaleOutRatio,.9,{value:1,ease:"quart.inOut"})})}_clearTween(){T.clearTween(this.tweenFade),T.clearTween(this.tweenScale)}setMeshSize(){this.mesh&&this.mesh.scale.set(this.width,this.height,2),this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.value.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.value.y=this.height/(this.width+this.height)}onResize(e={width:1,height:1}){this.width=window.innerWidth*this.hoverItemOption.aspect.x,this.height=window.innerWidth*this.hoverItemOption.aspect.y,this.setMeshSize()}onUpdate({mousePosition:e,defaultHoverGetOption:t}){this.mesh&&(this.uniforms.uMouse.value.x=e.now.x,this.uniforms.uMouse.value.y=e.now.y,this.uniforms.uMouseDelta.value.x=e.prev.now.x,this.uniforms.uMouseDelta.value.y=e.prev.now.y,this.mesh.position.x=.5*-this.stage.stageSize.width+e.now.x+.75*e.prev.now.x,this.mesh.position.y=-e.now.y+.5*this.stage.stageSize.height-.75*e.prev.now.y)}}class lt extends Ue{constructor({webgl:e=null,stage:t,width:i=1,height:s=1,uniforms:n={},vs:o="#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform vec2 uMouse;\nuniform vec2 uMouseDelta;\n\nuniform float uProgressScaleInRatio;\nuniform float uProgressScaleOutRatio;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    vec3 pos = position;\n\n    // wave\n    vec2 uvWave = (uv - 0.5) * 2.;\n    float waveMouse1 = sin(((uvWave.y + uMouse.x * 0.0025) * 1.5  + 0.5) * PI)  * uMouseDelta.x * 0.00016;\n    float waveMouse2 = -sin(((uvWave.x) * 0.5  + 0.5) * PI)  * uMouseDelta.y * 0.00125;\n    float waveMouse3 = -sin(((uvWave.x + uMouse.y * 0.002) * 2.35  + 0.5) * PI)  * uMouseDelta.x * -0.000125;\n    float waveMouse4 = -sin(((uvWave.y + uMouse.x * 0.002) * 2.35  + 0.5) * PI)  * uMouseDelta.y * 0.000125;\n    pos += vec3(waveMouse1, waveMouse2, 0.);\n    pos += vec3(waveMouse1, waveMouse2, waveMouse3 + waveMouse4);\n\n    // scale\n    float scaleIn = 1. + uProgressScaleInRatio * .3;\n    float scaleOut = 1. + uProgressScaleOutRatio * .1;\n    pos.xy *= scaleIn;\n    pos.xy /= scaleOut;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}",fs:r="precision highp float;\n#define GLSLIFY 1\nuniform vec2 uMeshSize;\nuniform vec2 uMouse;\nuniform vec2 uMouseDelta;\nuniform float uProgressFadeIn;\nuniform float uProgressFadeOut;\nuniform sampler2D uTexture;\nuniform sampler2D uTextureDistortion;\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvDisp = vUv;\n\n    uvDisp -= 0.5;\n    uvDisp /= 2.75;\n    uvDisp += 0.5;\n\n    uvDisp.x += uMouse.x * 0.0005;\n    uvDisp.y -= uMouse.y * 0.0005;\n\n    uvDisp.x = mod(uvDisp.x, 1.);\n    uvDisp.y = mod(uvDisp.y, 1.);\n    vec4 cDisp = texture2D(uTextureDistortion, uvDisp);\n\n    vec2 texUv = vUv;\n\n    // uv asspect\n    texUv -= 0.5;\n    texUv.y /= ( uMeshSize.x / uMeshSize.y );\n    texUv += 0.5;\n\n    vec4 cTex = texture2D(uTexture, texUv + cDisp.r * ( uMouseDelta.x * 0.00075 - uMouseDelta.y * 0.00035 ) );\n\n    // Fade\n    cTex.a = mix( 0., cTex.a, uProgressFadeIn );\n    cTex.a = mix( cTex.a, 0., uProgressFadeOut );\n\n    gl_FragColor = vec4( cTex.rgb, cTex.a );\n}\n",geometry:a=null,material:l=null,texture:h=null,distortionTexture:u=null,hoverItemOption:c={},id:m=null,$el:d}){super({stage:t,width:i,height:s,uniforms:n,vs:o,fs:r,geometry:a,material:l}),this.webgl=e,this.id=m,this.$el=d,this.texture=h,this.hoverItemOption=c,this.progressFade=0,this.progressFadeIn=0,this.progressFadeOut=0,this.tweenFade=null,this.tweenScale=null,Object.assign(this.uniforms,{uProgressFadeIn:{value:0},uProgressFadeOut:{value:0},uProgressScaleInRatio:{value:1},uProgressScaleOutRatio:{value:0},uMouse:{value:{x:0,y:0}},uMouseDelta:{value:{x:0,y:0}},uMeshSize:{value:{x:i,y:s}},uTextureDistortion:{value:u}})}init(){this.uniforms.uTexture={value:null},this.texture?this.setTexture(this.texture,e=>{this.uniforms.uTexture.value=e,this.animationIn()}):this.uniforms.uTexture.value=null,super.init(),this.onResize()}async setTexture(e,t=(e=>{})){const i=new rt;await i.getTexture(e).then(e=>{t(e)})}onMouseLeaveHoverItem(e){this.animationOut(e)}async animationIn(){await new Promise(e=>{this.tweenFade=l.a.to(this,.35,{ease:"none",progressFadeIn:1,onUpdate:()=>{this.uniforms.uProgressFadeIn.value=this.progressFadeIn}}),this.tweenScale=l.a.to(this.uniforms.uProgressScaleInRatio,.7,{ease:"quart.out",value:0}),e()})}async animationOut(){await new Promise(e=>{this._clearTween(),l.a.to(this,.5,{progressFadeOut:1,ease:"none",onUpdate:()=>{this.uniforms.uProgressFadeOut.value=this.progressFadeOut},onComplete:()=>{this.uniforms.uProgressFadeOut.value=1,e()}}),l.a.to(this.uniforms.uProgressScaleOutRatio,.5,{value:1,ease:"quart.inOut"})})}_clearTween(){T.clearTween(this.tweenFade),T.clearTween(this.tweenScale),this.tweenFade=null,this.tweenScale=null}setMeshSize(){this.mesh&&this.mesh.scale.set(this.width,this.height,2),this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height}onResize(e={width:1,height:1}){this.width=window.innerWidth*this.hoverItemOption.aspect.x,this.height=window.innerWidth*this.hoverItemOption.aspect.y,this.setMeshSize()}onUpdate({mousePosition:e,defaultHoverGetOption:t}){this.mesh&&(this.uniforms.uMouse.value.x=e.now.x,this.uniforms.uMouse.value.y=e.now.y,this.uniforms.uMouseDelta.value.x=e.prev.now.x,this.uniforms.uMouseDelta.value.y=e.prev.now.y,this.mesh.position.x=.5*-this.stage.stageSize.width+e.now.x+.75*e.prev.now.x,this.mesh.position.y=-e.now.y+.5*this.stage.stageSize.height-.75*e.prev.now.y)}}class ht extends Ue{constructor({webgl:e=null,stage:t,width:i=1,height:s=1,uniforms:n={},vs:o="#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.);\n}",fs:r="precision highp float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform vec2 uMeshSizeRatio;\nuniform float uProgressBeforeIn;\nuniform float uProgressAfterIn;\nuniform float uProgressBeforeOut;\nuniform float uProgressAfterOut;\n\nuniform sampler2D uTexture;\n\nvarying vec2 vUv;\n\nconst float CURVE_RATIO = 0.2;\n\nvoid main() {\n    vec4 _cTransparent = vec4( vec3(1.), 0. );\n    vec4 _cBefore =  vec4( vec3(0.1), 1. );\n    vec4 _cAfter =  texture2D(uTexture, vUv);\n\n    // in\n    vec2 _uvBeforeIn = vUv;\n    vec2 _uvAfterIn = vUv;\n\n    float oppProgressBeforeIn = 1. - uProgressBeforeIn;\n    float oppProgressAfterIn = 1. - uProgressAfterIn;\n\n    float beforeInCurve = sin( (_uvBeforeIn.x) * PI ) * CURVE_RATIO * oppProgressBeforeIn;\n    float afterInCurve = sin( (_uvAfterIn.x) * PI ) * CURVE_RATIO * oppProgressAfterIn;\n\n    _uvBeforeIn.y -= beforeInCurve * uMeshSizeRatio.x ;\n    _uvBeforeIn.y += CURVE_RATIO * uMeshSizeRatio.x * oppProgressBeforeIn;\n\n    _uvAfterIn.y -= afterInCurve * uMeshSizeRatio.x ;\n    _uvAfterIn.y += CURVE_RATIO * uMeshSizeRatio.x * oppProgressAfterIn;\n\n    float borderLineBeforeIn = step(\n        _uvBeforeIn.y,\n        uProgressBeforeIn\n    );\n\n    float borderLineAfterIn = step(\n        _uvAfterIn.y,\n        uProgressAfterIn\n    );\n\n    vec4 _c = mix( _cTransparent, _cAfter, borderLineBeforeIn);\n    _c = mix( _c, _cBefore, borderLineAfterIn );\n\n    // out\n    vec2 _uvBeforeOut = vUv;\n    vec2 _uvAfterOut = vUv;\n\n    float oppProgressBeforeOut = 1. - uProgressBeforeOut;\n    float oppProgressAfterOut = 1. - uProgressAfterOut;\n\n    float beforeOutCurve = sin( (_uvBeforeOut.x) * PI ) * CURVE_RATIO * oppProgressBeforeOut;\n    float afterOutCurve = sin( (_uvAfterOut.x) * PI ) * CURVE_RATIO * oppProgressAfterOut;\n\n    _uvBeforeOut.y -= afterOutCurve * uMeshSizeRatio.x ;\n    _uvBeforeOut.y += CURVE_RATIO * uMeshSizeRatio.x * oppProgressAfterOut;\n\n    _uvAfterOut.y -= beforeOutCurve * uMeshSizeRatio.x ;\n    _uvAfterOut.y += CURVE_RATIO * uMeshSizeRatio.x * oppProgressBeforeOut;\n\n    float borderLineBeforeOut = step(\n        _uvBeforeOut.y,\n        uProgressAfterOut\n    );\n\n    float borderLineAfterOut = step(\n        _uvAfterOut.y,\n        uProgressBeforeOut\n    );\n\n    _c = mix( _c, _cAfter, borderLineBeforeOut );\n    _c = mix( _c, _cTransparent, borderLineAfterOut );\n\n    gl_FragColor = vec4( _c );\n}\n",geometry:a=null,material:l=null,texture:h=null,hoverItemOption:u={},id:c=null}){super({stage:t,width:i,height:s,uniforms:n,vs:o,fs:r,geometry:a,material:l}),this.webgl=e,this.id=c,this.hoverItemOption=u,this.texture=h,this.progressFade=0,this.progressFadeIn=0,this.progressFadeOut=0,this.tweenFade=null,this.tweenScale=null,this.taskManager=null,this.uniforms.uMeshSize={value:{x:i,y:s}},this.uniforms.uMeshSizeRatio={value:{x:i/(i+s),y:s/(i+s)}},this.uniforms.uProgressBeforeIn={value:0},this.uniforms.uProgressAfterIn={value:0},this.uniforms.uProgressBeforeOut={value:0},this.uniforms.uProgressAfterOut={value:0}}init(){this.uniforms.uTexture={value:null},super.init(),this.onResize()}setTexture(e){this.uniforms.uTexture.value&&this.uniforms.uTexture.value.dispose(),this.texture=e,this.texture?OTHER?this.uniforms.uTexture.value=this.texture:this._setTexture(e=>{this.uniforms.uTexture.value=e}):this.uniforms.uTexture.value=null}async _setTexture(e=(e=>{})){const t=new rt;await t.getTexture(this.texture).then(t=>{e(t)})}setMeshSize(){this.mesh&&this.mesh.scale.set(this.width,this.height,75),this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.value.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.value.y=this.height/(this.width+this.height)}onResize(e={width:1,height:1}){this.width=window.innerWidth,this.height=window.innerHeight,this.setMeshSize()}onUpdate(){}}class ut{constructor(e){this.props=e,this.config={},this.stage=null,this.canUpdate=!1,this.canResize=!1,this.defaultMouseMesh=[],this.menuMouseMesh=[],this.pageCoverMesh=null,this.defaultHoverItemOptions=[],this.menuHoverItemOptions=[],this.distortionTexture=null}init(){this.setStage(),this.setCoverMesh()}run(){this.reStart(),this.onResize(),this.stop()}stop(){this.stage.renderer.domElement,this.canUpdate=!1,this.canResize=!1}reStart(){this.stage.renderer.domElement,this.canUpdate=!0,this.canResize=!0,this.onUpdate()}setStage(){this.stage=new Be,this.stage.init(this.props.$canvas,this.config)}setMesh(){}setCoverMesh(){this.pageCoverMesh=new ht({webgl:this,stage:this.stage}),this.pageCoverMesh.init()}setTexture(e){this.pageCoverMesh&&(e||(e=this.pageCoverMesh.setTexture(document.querySelector(".mFooter_foot_bg").dataset.glImg||"/asset/img/common/footer_bg.jpg")),this.pageCoverMesh.setTexture(e))}setDefaultMouseMesh(e,t){if(!OTHER)return;const i=new at({webgl:this,stage:this.stage,hoverItemOption:this.defaultHoverItemOptions[e],texture:this.defaultHoverItemOptions[e].imgSrc,id:t});i.init(),this.stage.scene.add(i.mesh),this.defaultMouseMesh.push(i)}setDefaultHoverGetOption(e){OTHER&&(this.defaultHoverItemOptions=e)}onMouseEnterDefaultHoverGetOption(e,t,i){OTHER&&(this.reStart(),this.setDefaultMouseMesh(t,i))}onMouseLeaveDefaultHoverGetOption(e,t,i,s=!1){OTHER&&this.removeDefaultMouseMesh(t,i,s)}setMenuMouseMesh(e,t,i){if(!OTHER)return;const s=new lt({webgl:this,stage:this.stage,hoverItemOption:this.menuHoverItemOptions[e],texture:this.menuHoverItemOptions[e].imgSrc,distortionTexture:this.distortionTexture,id:t,$el:i});s.init(),this.stage.scene.add(s.mesh),this.menuMouseMesh.push(s)}setMenuHoverGetOption(e){OTHER&&(this.menuHoverItemOptions=e)}onMouseEnterMenuHoverGetOption(e,t,i){OTHER&&(this.reStart(),this.setMenuMouseMesh(t,i,e))}onMouseLeaveMenuHoverGetOption(e,t,i,s=!1){OTHER&&this.removeMenuMouseMesh(t,i,s)}onResize(){this.stage.onResize(),this.defaultMouseMesh&&this.defaultMouseMesh.forEach(e=>{e.onResize()}),this.pageCoverMesh&&this.pageCoverMesh.onResize()}onUpdate(){this.canUpdate&&(this.defaultMouseMesh&&this.defaultMouseMesh.forEach(e=>{e.onUpdate({mousePosition:this.props.mouseMove.position,defaultHoverGetOption:this.props.defaultHoverGetOption})}),this.menuMouseMesh&&this.menuMouseMesh.forEach(e=>{e.onUpdate({mousePosition:this.props.mouseMove.position,menuHoverGetOption:this.props.menuHoverGetOption})}),this.pageCoverMesh&&this.pageCoverMesh.onUpdate(),this.stage.onUpdate())}clear(){this.stop(),this.removeMesh()}removeMesh(){}removeDefaultMouseMesh(e,t,i){if(!OTHER)return;let s;this.defaultMouseMesh.find((e,i)=>{e&&e.id&&e.id===t&&(s=e)}),s&&s.animationOut().then(()=>{this.stage.scene.remove(s.mesh),s.uniforms.uTexture&&s.uniforms.uTexture.value&&(s.uniforms.uTexture.value.dispose(),s.material&&s.material.uniforms.uTexture&&s.material.uniforms.uTexture.value&&s.material.uniforms.uTexture.value.dispose(),s.mesh&&s.mesh.material&&s.mesh.material.uniforms.uTexture.value.dispose()),s.mesh&&s.mesh.material&&s.mesh.material.dispose(),s.mesh&&s.mesh.geometry&&s.mesh.geometry.dispose(),s.geometry.dispose(),s.material.dispose(),s.mesh=null,this.defaultMouseMesh.shift(),this.menuMouseMesh.length||(this.stage.onUpdate(),i||this.stop())})}removeMenuMouseMesh(e,t,i){if(!OTHER)return;let s;this.menuMouseMesh.find((e,i)=>{e&&e.id&&e.id===t&&(s=e)}),s&&s.animationOut().then(()=>{this.stage.scene.remove(s.mesh),s.uniforms.uTexture&&s.uniforms.uTexture.value&&(s.uniforms.uTexture.value.dispose(),s.material&&s.material.uniforms.uTexture&&s.material.uniforms.uTexture.value&&s.material.uniforms.uTexture.value.dispose(),s.mesh&&s.mesh.material&&s.mesh.material.uniforms.uTexture.value.dispose()),s.uniforms.uTextureDistortion&&s.uniforms.uTextureDistortion.value&&(s.uniforms.uTextureDistortion.value.dispose(),s.material&&s.material.uniforms.uTextureDistortion&&s.material.uniforms.uTextureDistortion.value&&s.material.uniforms.uTextureDistortion.value.dispose(),s.mesh&&s.mesh.material&&s.mesh.material.uniforms.uTextureDistortion.value.dispose()),s.mesh&&s.mesh.material&&s.mesh.material.dispose(),s.mesh&&s.mesh.geometry&&s.mesh.geometry.dispose(),s.geometry.dispose(),s.material.dispose(),s.mesh=null,this.menuMouseMesh.shift(),this.menuMouseMesh.length||(this.stage.onUpdate(),i||this.stop())})}}class ct{constructor(){this.openName=".jsOpen_menu",this.triggerName=".jsTrigger_menu",this.menuName=".jsMenu",this.menuWrapperName=".jsMenu_wrapper",this.menuContainerName=".jsMenu_container",this.menuBgName=".jsMenu_nav_bg",this.menuNameItemMainName=".jsMenu_nav_item_main",this.menuNameLabelMainName=".jsMenu_nav_label_main",this.menuNameLabelGlobalName=".jsMenu_nav_label_global",this.menuNameItemGlobalName=".jsMenu_nav_item_global",this.menuNameIconGlobalName=".jsMenu_nav_icon_global",this.openedClassName="is-opened",this.closingClassName="is-closing",this.animatingClassName="is-animating",this.triggerClickFunction=()=>{},this.willOpenHandler=[],this.didOpenHandler=[],this.willCloseHandler=[],this.didCloseHandler=[],this.menuScollManager=null,this.$open=null,this.$trigger=null,this.$menu=null,this.$menuWrapper=null,this.$menuContainer=null,this.$menuBg=null,this.$menuNavItemMainAll=null,this.$menuLabelMain=null,this.$menuLabelGlobal=null,this.$menuItemGlobalAll=null,this.$menuIconGlobalAll=null,this.isOpened=!1,this.tweenMenuBgTransform=null,this.tweenMenuBgOpacity=null,this.tweenMenuWrapper=null,this.tweenMenuContainer=null,this.tweenMenuItemMain=[],this.tweenMenuLabelMain=null,this.tweenMenuLabelGlobal=null,this.tweenMenuItemGlobal=[],this.tweenMenuIconGlobal=[],this.key={esc:"Escape"}}init(){this.setSelector(),this.setClickFunction(),this.setEventListener()}setClickFunction(){this.triggerClickFunction=()=>{this.isOpened?this.closeMenu():this.openMenu()}}setSelector(){this.$open=document.querySelector(this.openName),this.$trigger=document.querySelector(this.triggerName),this.$menu=document.querySelector(this.menuName),this.$menuWrapper=document.querySelector(this.menuWrapperName),this.$menuContainer=document.querySelector(this.menuContainerName),this.$menuBg=document.querySelector(this.menuBgName),this.$menuNavItemMainAll=document.querySelectorAll(this.menuNameItemMainName),this.$menuLabelMain=document.querySelector(this.menuNameLabelMainName),this.$menuLabelGlobal=document.querySelector(this.menuNameLabelGlobalName),this.$menuItemGlobalAll=document.querySelectorAll(this.menuNameItemGlobalName),this.$menuIconGlobalAll=document.querySelectorAll(this.menuNameIconGlobalName)}setEventListener(){this.$open.addEventListener("click",this.triggerClickFunction.bind(this),!1),this.$trigger.addEventListener("click",this.triggerClickFunction.bind(this),!1),window.addEventListener("keydown",e=>{this.onKeydown(e)})}onKeydown(e){const t=e.key,i=e.code;switch(t||i){case this.key.esc:this.isOpened&&(e.preventDefault(),this.closeMenu())}}willOpen(){this.willOpenHandler.forEach(e=>{e.task()})}didOpen(){this.didOpenHandler.forEach(e=>{e.task()})}willClose(){this.willCloseHandler.forEach(e=>{e.task()})}didClose(){this.didCloseHandler.forEach(e=>{e.task()})}async openMenu(){await new Promise(e=>{this.isOpened=!0,this.$menu.style.opacity=1,this.$menu.style.pointerEvents="all",document.body.classList.add(this.animatingClassName),this.setScrollManager(),this.$trigger.classList.add(this.openedClassName),this.$trigger.setAttribute("aria-pressed","true"),this.$trigger.style.pointerEvents="none",this.$menu.classList.add(this.openedClassName),document.querySelector(".mMenu").classList.add(this.openedClassName),this.willOpen(),e()}),await new Promise(e=>{this.openAnimation(e)}),await new Promise(e=>{this.didOpen(),this.menuScollManager.onResize(),this.$trigger.style.pointerEvents="",document.body.classList.remove(this.animatingClassName),e()})}async closeMenu(e=!0){await new Promise(e=>{this.isOpened=!1,this.menuScollManager.stop({barIsHidden:!0}),document.body.classList.add(this.animatingClassName),this.willClose(),this.$trigger.classList.remove(this.openedClassName),this.$trigger.setAttribute("aria-pressed","false"),this.$trigger.style.pointerEvents="none",e()}),await new Promise(t=>{document.querySelector(".mMenu").classList.add(this.closingClassName),this.closeAnimation(t,e)}),await new Promise(e=>{this.$menu.style.opacity="",this.$menu.style.pointerEvents="",this.$menu.style.width="",this.$menu.style.position="",this.$menu.classList.remove(this.openedClassName),document.querySelector(".mMenu").classList.remove(this.closingClassName),document.querySelector(".mMenu").classList.remove(this.openedClassName),this.$trigger.style.pointerEvents="",this.didClose(e),this.destroyScrollManager(),document.body.classList.remove(this.animatingClassName)})}openAnimation(e){T.clearTween(this.tweenMenuBgTransform),T.clearTween(this.tweenMenuBgOpacity),this.tweenMenuBgTransform=l.a.set(this.$menuBg,{opacity:0,x:"20%",force3D:!0}),this.tweenMenuBgOpacity=l.a.to(this.$menuBg,.225,{opacity:1,ease:"linear.inOut"}),this.tweenMenuBgTransform=l.a.to(this.$menuBg,1,{ease:"expo.out",x:"0%",force3D:!0,onComplete:e}),T.clearTween(this.tweenMenuLabelMain),this.tweenMenuLabelMain=l.a.set(this.$menuLabelMain,{force3D:!0,y:"-100.05%"}),this.tweenMenuLabelMain=l.a.to(this.$menuLabelMain,1,{delay:.2,ease:"expo.out",force3D:!0,y:"0%"}),T.clearTween(this.tweenMenuLabelGlobal),this.tweenMenuLabelGlobal=l.a.set(this.$menuLabelGlobal,{force3D:!0,y:"100.05%"}),this.tweenMenuLabelGlobal=l.a.to(this.$menuLabelGlobal,1,{delay:.25,ease:"expo.out",force3D:!0,y:"0%"}),[].forEach.call(this.$menuNavItemMainAll,(e,t)=>{T.clearTween(this.tweenMenuItemMain[t]),e.style.transformOrigin="top",this.tweenMenuItemMain[t]=l.a.set(e,{force3D:!0,y:"100.05%",rotationX:-25}),this.tweenMenuItemMain[t]=l.a.to(e,1,{delay:.05*t+.1+.2,ease:"expo.out",force3D:!0,y:"0%",rotationX:0})}),[].forEach.call(this.$menuItemGlobalAll,(e,t)=>{T.clearTween(this.tweenMenuItemGlobal[t]),this.tweenMenuItemGlobal[t]=l.a.set(e,{force3D:!0,y:"100.05%"}),this.tweenMenuItemGlobal[t]=l.a.to(e,1.2,{delay:.05*t+.1+.2,ease:"expo.out",force3D:!0,y:"0%"})}),[].forEach.call(this.$menuIconGlobalAll,(e,t)=>{T.clearTween(this.tweenMenuIconGlobal[t]),this.tweenMenuIconGlobal[t]=l.a.set(e,{force3D:!0,y:"100.05%"}),this.tweenMenuIconGlobal[t]=l.a.to(e,1.2,{delay:.45,ease:"expo.out",force3D:!0,y:"0%"})})}async closeAnimation(e,t){let i=1.2,s=.9,n=t?1:0;i*=t,s*=t,T.clearTween(this.tweenMenuWrapper),this.tweenMenuWrapper=l.a.to(this.$menuWrapper,i,{ease:"quint.inOut",x:"-100%",force3D:!0,onComplete:()=>{}}),T.clearTween(this.tweenMenuContainer),this.tweenMenuContainer=l.a.to(this.$menuContainer,i,{ease:"quint.inOut",x:"100%",force3D:!0,onComplete:()=>{l.a.set(this.$menuWrapper,{x:"0%",force3D:!0}),l.a.set(this.$menuContainer,{x:"0%",force3D:!0}),e()}}),T.clearTween(this.tweenMenuLabelMain),this.tweenMenuLabelMain=l.a.to(this.$menuLabelMain,s,{delay:0,ease:"quart.inOut",force3D:!0,y:"100%"}),T.clearTween(this.tweenMenuLabelGlobal),this.tweenMenuLabelGlobal=l.a.to(this.$menuLabelGlobal,s,{delay:.0125*n,ease:"quart.inOut",force3D:!0,y:"-100%"}),[].forEach.call(this.$menuNavItemMainAll,(e,t)=>{T.clearTween(this.tweenMenuItemMain[t]),e.style.transformOrigin="bottom",this.tweenMenuItemMain[t]=l.a.to(e,s,{delay:(.025*t+.025+0)*n,ease:"quart.inOut",force3D:!0,y:"-100%",rotationX:25})}),[].forEach.call(this.$menuItemGlobalAll,(e,t)=>{T.clearTween(this.tweenMenuItemGlobal[t]),this.tweenMenuItemGlobal[t]=l.a.to(e,s,{delay:(.025*t+.0125)*n,ease:"quart.inOut",force3D:!0,y:"-100%"})}),[].forEach.call(this.$menuIconGlobalAll,(e,t)=>{T.clearTween(this.tweenMenuIconGlobal[t]),this.tweenMenuIconGlobal[t]=l.a.to(e,s,{ease:"quart.inOut",force3D:!0,y:"-100%"})})}setScrollManager(){this.menuScollManager=new O({smoothContainerName:".jsScroll_ctr_menu",smoothContentName:".jsScroll_cnt_menu",smoothSecName:".jsScroll_sec_menu",scrollbarClassName:"cScl_bar_menu"}),M.add(P.rsz.handler,e=>{this.menuScollManager.onResize()},"menuScrollManager"),M.add(P.sch.handler,e=>{this.menuScollManager.onScroll(e)},"menuScrollManager"),M.add(P.raf.handler,()=>{this.menuScollManager.onUpdate()},"menuScrollManager"),M.add(P.mm.moveHandler,e=>{this.menuScollManager.onMouseMove(e)},"menuScrollManager"),this.menuScollManager.init()}destroyScrollManager(){this.menuScollManager.reset(),this.menuScollManager.destroy(),this.menuScollManager=null,M.remove(P.rsz.handler,"menuScrollManager"),M.remove(P.sch.handler,"menuScrollManager"),M.remove(P.raf.handler,"menuScrollManager"),M.remove(P.mm.moveHandler,"menuScrollManager")}clear(){this.isOpened&&this.closeMenu(!1)}destroy(){this.resetEventListener()}resetEventListener(){this.$trigger.removeEventListener(this.triggerClickFunction)}}class mt{constructor(e={scrollManager:null}){this.itemName=".jsSticky_item",this.scrollManager=e.scrollManager,this.$itemAll=null,this.options=[]}init(){this.setSelector(),this.setOption()}setSelector(){this.$itemAll=document.querySelectorAll(this.itemName)}setOption(){[].forEach.call(this.$itemAll,(e,t)=>{this.options[t]={},this.options[t].el=e,this.options[t].top=e.getBoundingClientRect().top,this.options[t].height=e.getBoundingClientRect().height})}setColor(e,t){switch(this.scrollManager.secs[t].data.scrollBg){case"white":e.classList.add("is-bg-white"),e.classList.remove("is-bg-black");break;case"black":e.classList.add("is-bg-black"),e.classList.remove("is-bg-white")}}onResize(){this.setSelector(),this.setOption(),OTHER?this.setUpdateOther():this.setUpdateMobile()}onUpdate(){OTHER?this.setUpdateOther():(this.setOption(),this.setUpdateMobile())}setUpdateOther(){this.scrollManager&&!this.scrollManager.canUpdate&&this.scrollManager.secs&&this.options&&this.options.forEach((e,t)=>{const i=this.scrollManager.scroll.y+this.options[t].top+this.options[t].height;for(let t=0;t<this.scrollManager.secs.length;t++)if(this.scrollManager.secs[t].inViewPos2<i&&i<this.scrollManager.secs[t].inViewPosLimit2){this.setColor(e.el,t);break}})}setUpdateMobile(){this.scrollManager&&this.scrollManager.secs&&this.options&&this.options.forEach((e,t)=>{const i=this.scrollManager.scroll.y+this.options[t].top+this.options[t].height;for(let t=0;t<this.scrollManager.secs.length;t++)if(this.scrollManager.secs[t].inViewPos2<i&&i<this.scrollManager.secs[t].inViewPosLimit2){this.setColor(e.el,t);break}})}}class dt{constructor(e={targetName:".jsHover_option"}){this.targetName=e.targetName,this.$targetAll=null,this.currentOption={aspect:{x:1,y:1},imgSrc:""},this.mouseEnterHanler=[],this.mouseLeaveHanler=[],this.setHandler=[],this.eventHandler=[],this.isMouseEnter=!1,this.options=[],this.counter=0}init(){this.setSelector(),this.setEventListener(),this.setOptions()}setSelector(){this.$targetAll=document.querySelectorAll(this.targetName)}setEventListener(){this.$targetAll&&this.$targetAll.length&&[].forEach.call(this.$targetAll,(e,t)=>{this.eventHandler[t]={},this.eventHandler[t]._onMouseEnter=this.onMouseEnter.bind(this,e,t),this.eventHandler[t]._onMouseLeave=this.onMouseLeave.bind(this,e,t),e.addEventListener("mouseenter",this.eventHandler[t]._onMouseEnter,!1),e.addEventListener("mouseleave",this.eventHandler[t]._onMouseLeave,!1)})}setOptions(){this.options=[],[].forEach.call(this.$targetAll,(e,t)=>{this.options[t]=this.setOption(e)}),this.setHandler.forEach(e=>{e.task(this.options)})}setOption(e){const t=e.dataset;let i={aspect:{}};return i.aspect.x=t.hoverItemSizeX||1,i.aspect.y=t.hoverItemSizeY||1,i.imgSrc=t.hoverItemImgSrc||null,i.imgType=t.hoverItemImgType||null,i}onMouseEnter(e,t){this.currentOption=this.options[t],this.isMouseEnter=!0,this.counter+=1,e.setAttribute("data-hover-counter",this.counter),this.mouseEnterHanler.forEach(i=>{i.task(e,t,Number(this.counter))})}onMouseLeave(e,t,i=!1){this.isMouseEnter=!1;let s=e.dataset.hoverCounter;this.mouseLeaveHanler.forEach(n=>{n.task(e,t,Number(s),i)})}destroy(){this.clearEventListener()}clearEventListener(){this.$targetAll&&this.$targetAll.length&&[].forEach.call(this.$targetAll,(e,t)=>{e.removeEventListener("mouseenter",this.eventHandler[t]._onMouseEnter),e.removeEventListener("mouseleave",this.eventHandler[t]._onMouseLeave)})}clear(){this.$targetAll&&this.$targetAll.length&&[].forEach.call(this.$targetAll,(e,t)=>{this.onMouseLeave(e,t,!0)})}}window.isStartup=!0,document.body.style.display="",window.P={},new class{constructor(){this.$cover=null,this.init()}init(){this.setCover(),this.setEvents(),this.run()}setCover(){this.$cover=document.createElement("div"),this.$cover.classList.add("jsAppCover","cCover-cursor"),this.$cover.style.pointerEvents="none",document.getElementById("app").appendChild(this.$cover)}setEvents(){P.IOReady=!1,P.sf=new Pe,P.rsz=new Oe,P.raf=new Le,P.mm=new L,P.sch=new ze,P.ws=new He,OTHER?P.scl=new O({}):P.scl=new Re}run(){P.sf.fix(),P.rsz.init(),P.raf.init(),P.mm.init(),P.sch.init(),P.sch.stop(),P.ws.init()}},new class{constructor(){P.ptType=0,P.plp=new x,P.menu=new ct,P.stc=new mt({scrollManager:P.scl}),P.hgo=new dt,P.mhgo=new dt({targetName:".jsHover_option_menu"}),P.bGl=new nt({$canvas:document.querySelector(".jsGlBack"),scrollManager:P.scl,mouseMove:P.mm}),P.fGl=new ut({$canvas:document.querySelector(".jsGlFront"),scrollManager:P.scl,mouseMove:P.mm,defaultHoverGetOption:P.hgo,menuHoverGetOption:P.mhgo}),this.init()}init(){}},window.APP=new class extends m{constructor(e,t,i){super(e,t,i),this.controllerManager=new d(t,e,i)}}(S,Ie,!0),APP.sendAnalytics=e=>{gtag("config","UA-173559109-1",{page_path:e})},APP.boot()},6:function(e,t,i){
/*!
 * CustomEase 3.4.1
 * https://greensock.com
 *
 * @license Copyright 2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(e){"use strict";function t(e){return Math.round(1e5*e)/1e5||0}var i=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,s=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,n=Math.PI/180,o=Math.sin,r=Math.cos,a=Math.abs,l=Math.sqrt;function h(e,t,i,s,h,u,c,m,d){if(e!==m||t!==d){i=a(i),s=a(s);var p=h%360*n,v=r(p),g=o(p),f=Math.PI,y=2*f,w=(e-m)/2,T=(t-d)/2,x=v*w+g*T,S=-g*w+v*T,M=x*x,b=S*S,A=M/(i*i)+b/(s*s);1<A&&(i=l(A)*i,s=l(A)*s);var C=i*i,_=s*s,I=(C*_-C*b-_*M)/(C*b+_*M);I<0&&(I=0);var P=(u===c?-1:1)*l(I),O=i*S/s*P,L=-s*x/i*P,E=v*O-g*L+(e+m)/2,D=g*O+v*L+(t+d)/2,R=(x-O)/i,$=(S-L)/s,N=(-x-O)/i,z=(-S-L)/s,H=R*R+$*$,k=($<0?-1:1)*Math.acos(R/l(H)),B=(R*z-$*N<0?-1:1)*Math.acos((R*N+$*z)/l(H*(N*N+z*z)));isNaN(B)&&(B=f),!c&&0<B?B-=y:c&&B<0&&(B+=y),k%=y,B%=y;var U,q=Math.ceil(a(B)/(y/4)),F=[],Y=B/q,V=4/3*o(Y/2)/(1+r(Y/2)),j=v*i,G=g*i,W=g*-s,X=v*s;for(U=0;U<q;U++)x=r(h=k+U*Y),S=o(h),R=r(h+=Y),$=o(h),F.push(x-V*S,S+V*x,R+V*$,$-V*R,R,$);for(U=0;U<F.length;U+=2)x=F[U],S=F[U+1],F[U]=x*j+S*W+E,F[U+1]=x*G+S*X+D;return F[U-2]=m,F[U-1]=d,F}}function u(){return p||"undefined"!=typeof window&&(p=window.gsap)&&p.registerPlugin&&p}function c(){(p=u())?(p.registerEase("_CE",w.create),v=1):console.warn("Please gsap.registerPlugin(CustomEase)")}function m(e){return~~(1e3*e+(e<0?-.5:.5))/1e3}function d(e,t,i,s,n,o,r,a,l,h,u){var c,m=(e+i)/2,p=(t+s)/2,v=(i+n)/2,g=(s+o)/2,f=(n+r)/2,y=(o+a)/2,w=(m+v)/2,T=(p+g)/2,x=(v+f)/2,S=(g+y)/2,M=(w+x)/2,b=(T+S)/2,A=r-e,C=a-t,_=Math.abs((i-r)*C-(s-a)*A),I=Math.abs((n-r)*C-(o-a)*A);return h||(h=[{x:e,y:t},{x:r,y:a}],u=1),h.splice(u||h.length-1,0,{x:M,y:b}),l*(A*A+C*C)<(_+I)*(_+I)&&(c=h.length,d(e,t,m,p,w,T,M,b,l,h,u),d(M,b,x,S,f,y,r,a,l,h,u+1+(h.length-c))),h}var p,v,g,f=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,y=/[cLlsSaAhHvVtTqQ]/g,w=((g=T.prototype).setData=function(e,t){t=t||{};var n,o,r,l,u,c,m,v,g,w=(e=e||"0,0,1,1").match(f),T=1,x=[],S=[],M=t.precision||1,b=M<=1;if(this.data=e,(y.test(e)||~e.indexOf("M")&&e.indexOf("C")<0)&&(w=function(e){function t(e,t,i,s){v=(i-e)/3,g=(s-t)/3,m.push(e+v,t+g,i-v,s-g,i,s)}var n,o,r,l,u,c,m,d,p,v,g,f,y,w,T,x=(e+"").replace(s,(function(e){var t=+e;return t<1e-4&&-1e-4<t?0:t})).match(i)||[],S=[],M=0,b=0,A=x.length,C=0,_="ERROR: malformed path: "+e;if(!e||!isNaN(x[0])||isNaN(x[1]))return console.log(_),S;for(n=0;n<A;n++)if(y=u,isNaN(x[n])?c=(u=x[n].toUpperCase())!==x[n]:n--,r=+x[n+1],l=+x[n+2],c&&(r+=M,l+=b),n||(d=r,p=l),"M"===u)m&&(m.length<8?--S.length:C+=m.length),M=d=r,b=p=l,m=[r,l],S.push(m),n+=2,u="L";else if("C"===u)c||(M=b=0),(m=m||[0,0]).push(r,l,M+1*x[n+3],b+1*x[n+4],M+=1*x[n+5],b+=1*x[n+6]),n+=6;else if("S"===u)v=M,g=b,"C"!==y&&"S"!==y||(v+=M-m[m.length-4],g+=b-m[m.length-3]),c||(M=b=0),m.push(v,g,r,l,M+=1*x[n+3],b+=1*x[n+4]),n+=4;else if("Q"===u)v=M+2/3*(r-M),g=b+2/3*(l-b),c||(M=b=0),M+=1*x[n+3],b+=1*x[n+4],m.push(v,g,M+2/3*(r-M),b+2/3*(l-b),M,b),n+=4;else if("T"===u)v=M-m[m.length-4],g=b-m[m.length-3],m.push(M+v,b+g,r+2/3*(M+1.5*v-r),l+2/3*(b+1.5*g-l),M=r,b=l),n+=2;else if("H"===u)t(M,b,M=r,b),n+=1;else if("V"===u)t(M,b,M,b=r+(c?b-M:0)),n+=1;else if("L"===u||"Z"===u)"Z"===u&&(r=d,l=p,m.closed=!0),("L"===u||.5<a(M-r)||.5<a(b-l))&&(t(M,b,r,l),"L"===u&&(n+=2)),M=r,b=l;else if("A"===u){if(w=x[n+4],T=x[n+5],v=x[n+6],g=x[n+7],o=7,1<w.length&&(w.length<3?(g=v,v=T,o--):(g=T,v=w.substr(2),o-=2),T=w.charAt(1),w=w.charAt(0)),f=h(M,b,+x[n+1],+x[n+2],+x[n+3],+w,+T,(c?M:0)+1*v,(c?b:0)+1*g),n+=o,f)for(o=0;o<f.length;o++)m.push(f[o]);M=m[m.length-2],b=m[m.length-1]}else console.log(_);return(n=m.length)<6?(S.pop(),n=0):m[0]===m[n-2]&&m[1]===m[n-1]&&(m.closed=!0),S.totalPoints=C+n,S}(e)[0]),4===(n=w.length))w.unshift(0,0),w.push(1,1),n=8;else if((n-2)%6)throw"Invalid CustomEase";for(0==+w[0]&&1==+w[n-2]||function(e,t,i){i||0===i||(i=Math.max(+e[e.length-1],+e[1]));var s,n=-1*e[0],o=-i,r=e.length,a=1/(+e[r-2]+n),l=-t||(Math.abs(e[r-1]-e[1])<.01*(e[r-2]-e[0])?function(e){var t,i=e.length,s=1e20;for(t=1;t<i;t+=6)+e[t]<s&&(s=+e[t]);return s}(e)+o:+e[r-1]+o);for(l=l?1/l:-a,s=0;s<r;s+=2)e[s]=(+e[s]+n)*a,e[s+1]=(+e[s+1]+o)*l}(w,t.height,t.originY),this.segment=w,l=2;l<n;l+=6)o={x:+w[l-2],y:+w[l-1]},r={x:+w[l+4],y:+w[l+5]},x.push(o,r),d(o.x,o.y,+w[l],+w[l+1],+w[l+2],+w[l+3],r.x,r.y,1/(2e5*M),x,x.length-1);for(n=x.length,l=0;l<n;l++)m=x[l],v=x[l-1]||m,m.x>v.x||v.y!==m.y&&v.x===m.x||m===v?(v.cx=m.x-v.x,v.cy=m.y-v.y,v.n=m,v.nx=m.x,b&&1<l&&2<Math.abs(v.cy/v.cx-x[l-2].cy/x[l-2].cx)&&(b=0),v.cx<T&&(v.cx?T=v.cx:(v.cx=.001,l===n-1&&(v.x-=.001,T=Math.min(T,.001),b=0)))):(x.splice(l--,1),n--);if(u=1/(n=1/T+1|0),m=x[c=0],b){for(l=0;l<n;l++)g=l*u,m.nx<g&&(m=x[++c]),o=m.y+(g-m.x)/m.cx*m.cy,S[l]={x:g,cx:u,y:o,cy:0,nx:9},l&&(S[l-1].cy=o-S[l-1].y);S[n-1].cy=x[x.length-1].y-o}else{for(l=0;l<n;l++)m.nx<l*u&&(m=x[++c]),S[l]=m;c<x.length-1&&(S[l-1]=x[x.length-2])}return this.ease=function(e){var t=S[e*n|0]||S[n-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy},(this.ease.custom=this).id&&p.registerEase(this.id,this.ease),this},g.getSVGData=function(e){return T.getSVGData(this,e)},T.create=function(e,t,i){return new T(e,t,i).ease},T.register=function(e){p=e,c()},T.get=function(e){return p.parseEase(e)},T.getSVGData=function(e,i){var s,n,o,r,a,l,h,u,c,d,v=(i=i||{}).width||100,g=i.height||100,f=i.x||0,y=(i.y||0)+g,w=p.utils.toArray(i.path)[0];if(i.invert&&(g=-g,y=0),"string"==typeof e&&(e=p.parseEase(e)),e.custom&&(e=e.custom),e instanceof T)s=function(e){!function(e){return"number"==typeof e}(e[0])||(e=[e]);var i,s,n,o,r="",a=e.length;for(s=0;s<a;s++){for(r+="M"+t((o=e[s])[0])+","+t(o[1])+" C",i=o.length,n=2;n<i;n++)r+=t(o[n++])+","+t(o[n++])+" "+t(o[n++])+","+t(o[n++])+" "+t(o[n++])+","+t(o[n])+" ";o.closed&&(r+="z")}return r}(function(e,t,i,s,n,o,r){for(var a,l,h,u,c,m=e.length;-1<--m;)for(l=(a=e[m]).length,h=0;h<l;h+=2)u=a[h],c=a[h+1],a[h]=u*t+c*s+o,a[h+1]=u*i+c*n+r;return e._dirty=1,e}([e.segment],v,0,0,-g,f,y));else{for(s=[f,y],r=1/(h=Math.max(5,200*(i.precision||1))),u=5/(h+=2),c=m(f+r*v),n=((d=m(y+e(r)*-g))-y)/(c-f),o=2;o<h;o++)a=m(f+o*r*v),l=m(y+e(o*r)*-g),(Math.abs((l-d)/(a-c)-n)>u||o===h-1)&&(s.push(c,d),n=(l-d)/(a-c)),c=a,d=l;s="M"+s.join(",")}return w&&w.setAttribute("d",s),s},T);function T(e,t,i){v||c(),this.id=e,this.setData(t,i)}u()&&p.registerPlugin(w),w.version="3.4.1",e.CustomEase=w,e.default=w,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default}(t)}});